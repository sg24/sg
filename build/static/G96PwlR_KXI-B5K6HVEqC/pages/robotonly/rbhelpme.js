(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{ViTF:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/robotonly/rbhelpme",function(){return n("fumy")}])},fumy:function(t,e,n){"use strict";n.r(e);var i=n("ln6h"),r=n.n(i),a=n("0iUn"),o=n("sLSF"),c=n("MI3g"),s=n("a7VT"),l=n("Tit0"),h=n("q1tI"),u=n.n(h),p=n("/MKj"),d=n("DhbN"),f=n("XXOK"),v=n.n(f),m=n("dfwq"),b=n("AT/M"),O=n("vYYK"),g=n("nOHt"),y=n("scqD"),j=n("Wv0A"),C=n("Szay"),S=n("5U8D"),F=n("4iFl"),w=n("0fJA"),I=n.n(w),A=u.a.createElement,P=!0,H=function(t){function e(t){var n;Object(a.a)(this,e),n=Object(c.a)(this,Object(s.a)(e).call(this,t)),Object(O.a)(Object(b.a)(n),"onScroll",(function(){document.documentElement.scrollHeight-document.documentElement.scrollTop===document.documentElement.clientHeight&&n.props.onFetchCnt(n.props.userID,"shared",n.state.fetchLimit,n.props.skipCnt+n.state.fetchLimit,n.props.cntTotal)})),Object(O.a)(Object(b.a)(n),"showUserOptHandler",(function(t){if(n.state.cntOpt&&n.state.cntOpt.id===t)n.setState((function(t,e){return{cntOpt:Object(S.f)(t.cntOpt,{visible:!t.cntOpt.visible})}}));else{var e={visible:!0,id:t};n.setState({cntOpt:e})}})),Object(O.a)(Object(b.a)(n),"changeFavoriteHandler",(function(t,e,i,r){n.props.onChangeFav(t,e,i,n.props.changedFav,n.props.userID,r)})),Object(O.a)(Object(b.a)(n),"showShareHandler",(function(t){n.props.onChangeShareID(t,"question"),n.props.history.push("/index/question/share")})),Object(O.a)(Object(b.a)(n),"changeMediaHandler",(function(t,e,i){n.setState({removePrevMedia:{id:t,type:i},removeAnim:!1}),n.animateSlider(t,e,i,900)})),Object(O.a)(Object(b.a)(n),"removeAnimHandler",(function(t){n.state.removePrevMedia||n.setState({removeAnim:!0})})),Object(O.a)(Object(b.a)(n),"playVideoHandler",(function(t){n.props.onFetchVideo(t.id,"".concat(I.a.url,"/media/video/").concat(t.videoCnt))})),Object(O.a)(Object(b.a)(n),"slidePlayHandler",(function(t,e,i){i.target.setPointerCapture(i.pointerId),n.setState({playerIcnId:t})})),Object(O.a)(Object(b.a)(n),"clearSlidePlayhandler",(function(t){var e=t.target;e.releasePointerCapture(t.pointerId),e.style.left="0px";var n=document.querySelector(".reuse-que__media--wrapper__icn-move");n&&(n.style.left="42%")})),Object(O.a)(Object(b.a)(n),"moveSlidePlayHandler",(function(t,e,i){var r=i.target;if(r.hasPointerCapture&&r.hasPointerCapture(i.pointerId)){var a=i.clientX-r.parentElement.offsetLeft-r.offsetWidth/2;a<-(r.offsetWidth/2+r.offsetWidth/4)?P&&(P=!1,n.animateSlider(t,e,"next",0)):a>r.offsetWidth/2+r.offsetWidth/4&&P&&(P=!1,n.animateSlider(t,e,"prev",0));var o=document.querySelector(".reuse-que__media--wrapper__icn-move");if(o){var c=a/r.offsetWidth*100;o.style.left=c+42+"%"}r.style.left=a+"px"}})),Object(O.a)(Object(b.a)(n),"animateSlider",(function(t,e,i,r){setTimeout((function(){var r=Object(m.a)(n.state.mediaItms),a=r.filter((function(e){return e.id===t})),o={id:t,position:"next"===i?1:e-1};if(a.length>0){var c=!0,s=!1,l=void 0;try{for(var h,u=v()(a);!(c=(h=u.next()).done);c=!0){var p=h.value;(o={id:p.id,position:"next"===i?p.position+=1:p.position-=1}).position>e-1&&(o=Object(S.f)(o,{position:0})),o.position<0&&(o=Object(S.f)(o,{position:e-1}));var d=r.filter((function(e){return e.id!==t}));d.push(o),n.setState({mediaItms:d,removeAnim:!1,removePrevMedia:null,animateItm:{id:t,direction:i}})}}catch(f){s=!0,l=f}finally{try{c||null==u.return||u.return()}finally{if(s)throw l}}}else r.push(o),n.setState({mediaItms:r,removeAnim:!1,removePrevMedia:null,animateItm:{id:t,direction:i}})}),r),setTimeout((function(){P=!0}),500)})),Object(O.a)(Object(b.a)(n),"changeCntHandler",(function(t,e,i,r){var a=String(e).length>50?String(e).substr(0,50)+"...":e;n.props.onChangeCnt(t,a,i,!1,r)}));var i=0;return i=window.innerHeight>=1200?18:window.innerHeight>=900?12:window.innerHeight>=500?9:6,n.state={cntOpt:null,fetchLimit:i,filterTag:"shared",mediaItms:[],animateItm:null,removeAnim:!1,removePrevMedia:null,playerIcnId:null,animationComplete:!0,scrollEnable:!1},n}return Object(l.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){this.props.cnts&&this.props.cnts.length>0&&!this.state.scrollEnable&&(window.addEventListener("scroll",this.onScroll,!1),this.setState({scrollEnable:!0}))}},{key:"componentWillUnmount",value:function(){this.props.onFetchCntReset(),window.removeEventListener("scroll",this.onScroll,!1)}},{key:"render",value:function(){this.props.onFetchShareActive(),this.props.onFetchCntActive(),this.props.onFetchNotifyActive(),this.props.onFetchPtActive(),this.props.onFetchQueActive(),this.props.onFetchShareCntActive(),this.props.onFetchReqActive();var t=A(j.a,null);return this.props.cntErr&&(t=null),this.props.cnts&&0===this.props.cnts.length&&(t=A(C.a,{isAuth:this.props.status,det:"No Shared Question found!",icn:"hand-paper",filter:!0})),this.props.cnts&&this.props.cnts.length>0&&(t=A(y.a,{content:this.props.cnts,media:this.props.media,userOpt:this.showUserOptHandler,showCntOpt:this.state.cntOpt,fav:this.changeFavoriteHandler,changedFav:this.props.changedFav,favChange:this.props.favChange,share:this.showShareHandler,nextMedia:this.changeMediaHandler,prevMedia:this.changeMediaHandler,mediaItms:this.state.mediaItms,removeAnim:this.removeAnimHandler,disableAnim:this.state.removeAnim,animateItm:this.state.animateItm,removePrevMedia:this.state.removePrevMedia,playVideo:this.playVideoHandler,videoErr:this.props.videoErr,video:this.props.postVideo,playerIcnId:this.state.playerIcnId,slidePlay:this.slidePlayHandler,moveSlidePlay:this.moveSlidePlayHandler,clearSlidePlay:this.clearSlidePlayhandler,changeCnt:this.changeCntHandler})),A(F.a,null,t)}}]),e}(h.Component),E=Object(g.withRouter)(Object(p.b)((function(t){return{status:t.auth.status,cnts:t.cnt.cnts,skipCnt:t.cnt.skipCnt,cntTotal:t.cnt.cntTotal,changedFav:t.cnt.changedFav,favChange:t.cnt.favChange,cntErr:t.cnt.cntErr,postVideo:t.cnt.postVideo,videoErr:t.cnt.videoErr,filterDet:t.cnt.filterDet}}),(function(t){return{onFetchShareActive:function(){return t(d.Z())},onFetchShareCntActive:function(){return t(d.Y())},onFetchCntActive:function(){return t(d.z())},onFetchNotifyActive:function(){return t(d.P())},onFetchPtActive:function(){return t(d.R())},onFetchQueActive:function(){return t(d.T())},onFetchReqActive:function(){return t(d.V())},onFetchCnt:function(e,n,i,r,a){return t(d.C(e,n,i,r,a))},onFetchCntReset:function(){return t(d.D())},onChangeFav:function(e,n,i,r,a,o){return t(d.h(e,n,i,r,a,o))},onChangeShareID:function(e,n){return t(d.yb(e,n))},onChangeTag:function(e){return t(d.p(e))},onFetchVideo:function(e,n){return t(d.fb(e,n))},onChangeCnt:function(e,n,i,r,a){return t(d.d(e,n,i,r,a))}}}))(H)),M=n("tM3w"),T=u.a.createElement,_=function(t){function e(){return Object(a.a)(this,e),Object(c.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){return T(p.a,{store:this.props.store},T(E,null))}}],[{key:"getInitialProps",value:function(t){var e,n;return r.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return e=t.ctx,n=e.store,e.isServer,e.req,n.getState().cnt.cnts||(n.dispatch(d.C(null,"shared",200,0,0)),n.dispatch(d.cb(null))),i.abrupt("return",{});case 3:case"end":return i.stop()}}))}}]),e}(h.Component);e.default=Object(M.a)(_)}},[["ViTF",1,2,5,6,0,4,3,7,10,9,11]]]);