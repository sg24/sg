(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{JI2h:function(e,t,n){"use strict";n.r(t);var s=n("ln6h"),r=n.n(s),c=n("0iUn"),i=n("sLSF"),u=n("MI3g"),o=n("a7VT"),a=n("Tit0"),l=n("q1tI"),p=n.n(l),d=n("/MKj"),h=n("DhbN"),m=n("AT/M"),f=n("vYYK"),_=n("ck4X"),v=n("IP2g"),b=(n("5y/w"),p.a.createElement),g=function(e){var t=["reuse-user__det--img__status--off"],n=b("img",{src:e.user.image,alt:""}),s=b("ul",{className:"reuse-user__opt"},b("li",null,b("div",{className:"reuse-user__opt--add",onClick:e.addUser},"Add")));return e.user.status&&t.push("reuse-user__det--img__status--on"),""===e.user.image&&(n=b(_.a,{name:e.user.username,size:"60",round:!0})),e.user.request&&(s=b("ul",{className:"reuse-user__opt"},b("li",null,b("div",{className:"reuse-user__opt--acc",onClick:e.acceptUser},"Accept")),b("li",null,b("div",{className:"reuse-user__opt--rej",onClick:e.rejUser},b(v.a,{icon:["fas","user-slash"],className:"icon icon__reuse-user--opt"}),"Reject")))),e.user.pending&&(s=b("ul",{className:"reuse-user__opt"},b("li",{onClick:e.cancelReq},b("div",{className:"reuse-user__opt--cancel"},"Cancel")))),e.user.accept&&(s=b("ul",{className:"reuse-user__opt"},b("li",{onClick:e.unfriend},b("div",{className:"reuse-user__opt--rej"},b(v.a,{icon:["fas","user-slash"],className:"icon icon__reuse-user--opt"}),"Unfriend")))),b("div",{className:"reuse-user"},b("div",{className:"reuse-user__det"},b("div",{className:"reuse-user__det--img"},n,b("div",{className:"reuse-user__det--img__status ".concat(t.join(" "))})),b("ul",{className:"reuse-user__det--user"},b("li",{className:"reuse-user__det--user__info"},b("a",{href:"/user/profile/".concat(e.user.id)},e.user.username)),b("li",null,b("div",null,e.user.studenttotal)," Student"))),s)},C=p.a.createElement,j=function(e){return e.content.map((function(t,n){return C(g,{key:n,user:t,addUser:e.changeCnt.bind(void 0,t.id,null,"addUser",!0,"user"),blockUser:e.changeCnt.bind(void 0,t.id,t.username,"blockUser",!1,"user"),acceptUser:e.changeCnt.bind(void 0,t.id,t.username,"acceptUser",!1,"user"),rejUser:e.changeCnt.bind(void 0,t.id,t.username,"rejUser",!1,"user"),cancelReq:e.changeCnt.bind(void 0,t.id,t.username,"cancelReq",!1,"user"),unfriend:e.changeCnt.bind(void 0,t.id,t.username,"unfriend",!1,"user")})}))},k=n("Wv0A"),w=n("Szay"),N=n("4iFl"),F=p.a.createElement,A=function(e){function t(e){var n;Object(c.a)(this,t),n=Object(u.a)(this,Object(o.a)(t).call(this,e)),Object(f.a)(Object(m.a)(n),"onScroll",(function(){document.documentElement.scrollHeight-document.documentElement.scrollTop===document.documentElement.clientHeight&&n.props.onFetchCnt(n.props.userID,"users",n.state.fetchLimit,n.props.skipCnt+n.state.fetchLimit,n.props.cntTotal)})),Object(f.a)(Object(m.a)(n),"changeCntHandler",(function(e,t,s,r,c){n.props.onChangeCnt(e,t,s,r,c)}));var s=0;return s=window.innerHeight>=1200?18:window.innerHeight>=900?12:window.innerHeight>=500?9:6,n.state={fetchLimit:s,filterTag:"users",scrollEnable:!1},n}return Object(a.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){this.props.cnts&&this.props.cnts.length>0&&!this.state.scrollEnable&&(window.addEventListener("scroll",this.onScroll,!1),this.setState({scrollEnable:!0}))}},{key:"componentWillUnmount",value:function(){this.props.onFetchCntReset(),window.removeEventListener("scroll",this.onScroll,!1)}},{key:"render",value:function(){this.props.onFetchShareActive(),this.props.onFetchCntActive(),this.props.onFetchShareCntActive(),this.props.onFetchNotifyActive(),this.props.onFetchPtActive(),this.props.onFetchQueActive(),this.props.onFetchReqActive();var e=F(k.a,null);return this.props.cntErr&&(e=null),this.props.cnts&&0===this.props.cnts.length&&(e=F(w.a,{isAuth:this.props.status,det:"Users not found !!",icn:"users",filter:!0})),this.props.cnts&&this.props.cnts.length>0&&(e=F(j,{content:this.props.cnts,changeCnt:this.changeCntHandler})),F(N.a,null,e)}}]),t}(l.Component),U=Object(d.b)((function(e){return{status:e.auth.status,cnts:e.cnt.cnts,skipCnt:e.cnt.skipCnt,cntTotal:e.cnt.cntTotal,filterDet:e.cnt.filterDet,cntErr:e.cnt.cntErr,addUser:e.cnt.addUser,pending:e.cnt.pending,request:e.cnt.request,blocked:e.cnt.blocked,accept:e.cnt.accept}}),(function(e){return{onFetchShareActive:function(){return e(h.Z())},onFetchShareCntActive:function(){return e(h.Y())},onFetchCntActive:function(){return e(h.z())},onFetchNotifyActive:function(){return e(h.P())},onFetchPtActive:function(){return e(h.R())},onFetchQueActive:function(){return e(h.T())},onFetchReqActive:function(){return e(h.V())},onFetchCnt:function(t,n,s,r,c){return e(h.C(t,n,s,r,c))},onFetchCntReset:function(){return e(h.D())},onChangeTag:function(t){return e(h.p(t))},onChangeCnt:function(t,n,s,r,c){return e(h.d(t,n,s,r,c))}}}))(A),E=n("tM3w"),O=p.a.createElement,y=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(a.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return O(d.a,{store:this.props.store},O(U,null))}}],[{key:"getInitialProps",value:function(e){var t,n;return r.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.ctx,n=t.store,t.isServer,t.req,n.getState().cnt.cnts||(n.dispatch(h.C(null,"users",200,0,0)),n.dispatch(h.cb(null))),s.abrupt("return",{});case 3:case"end":return s.stop()}}))}}]),t}(l.Component);t.default=Object(E.a)(y)},JLlk:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/robotonly/rbuser",function(){return n("JI2h")}])}},[["JLlk",1,2,5,6,0,4,3,7,10,8]]]);