{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport * as actionTypes from '../actions/actionTypes';\nimport { updateObject, changeMode } from '../../shared/utility';\nvar initialState = {\n  cnts: null,\n  cntErr: null,\n  skipCnt: null,\n  cntTotal: null,\n  showLoader: false,\n  changedFav: [],\n  favChange: null,\n  postVideo: {\n    id: null\n  },\n  videoErr: null,\n  filterDet: null,\n  modelType: null,\n  changeCnt: false,\n  changeCntErr: null,\n  changeCntStart: null\n};\n\nvar fetchCnt = function fetchCnt(state, action) {\n  var _state$cnts;\n\n  var cnts = !state.cnts ? action.cnt : (_state$cnts = state.cnts).concat.apply(_state$cnts, _toConsumableArray(action.cnt));\n  return updateObject(state, {\n    cnts: cnts,\n    skipCnt: action.skipCnt,\n    cntTotal: action.cntTotal,\n    showLoader: false\n  });\n};\n\nvar fetchCntReset = function fetchCntReset(state, action) {\n  return updateObject(state, {\n    cnts: null,\n    skipCnt: null,\n    cntTotal: null,\n    curTab: null,\n    showLoader: false\n  });\n};\n\nvar fetchCntStart = function fetchCntStart(state, action) {\n  return updateObject(state, {\n    showLoader: true\n  });\n};\n\nvar fetchPostFail = function fetchPostFail(state, action) {\n  return updateObject(state, {\n    cntErr: action.err,\n    showLoader: false\n  });\n};\n\nvar changeCntStart = function changeCntStart(state, action) {\n  return updateObject(state, {\n    changeCntStart: {\n      title: action.title,\n      id: action.id,\n      det: action.det,\n      modelType: action.modelType\n    },\n    changeCntErr: null\n  });\n};\n\nvar changeCntCancel = function changeCntCancel(state, action) {\n  return updateObject(state, {\n    changeCntStart: null,\n    changeCntErr: null,\n    changeCnt: false\n  });\n};\n\nvar changeCntReset = function changeCntReset(state, action) {\n  var cnts = _toConsumableArray(state.cnts);\n\n  if (action.changed) {\n    if (state.changeCntStart.det === 'addUser') {\n      var updateCnts = changeMode(cnts, state.changeCntStart, 'pending', true);\n      return updateObject(state, {\n        cnts: updateCnts,\n        changeCntStart: null,\n        changeCntErr: null,\n        changeCnt: false\n      });\n    }\n\n    if (state.changeCntStart.det === 'acceptUser') {\n      var _updateCnts = changeMode(cnts, state.changeCntStart, 'accept', true);\n\n      return updateObject(state, {\n        cnts: _updateCnts,\n        changeCntStart: null,\n        changeCntErr: null,\n        changeCnt: false\n      });\n    }\n\n    if (state.changeCntStart.det === 'rejUser') {\n      var _updateCnts2 = changeMode(cnts, state.changeCntStart, 'request', false);\n\n      return updateObject(state, {\n        cnts: _updateCnts2,\n        changeCntStart: null,\n        changeCntErr: null,\n        changeCnt: false\n      });\n    }\n\n    if (state.changeCntStart.det === 'cancelReq') {\n      var _updateCnts3 = changeMode(cnts, state.changeCntStart, 'pending', false);\n\n      return updateObject(state, {\n        cnts: _updateCnts3,\n        changeCntStart: null,\n        changeCntErr: null,\n        changeCnt: false\n      });\n    }\n\n    if (state.changeCntStart.det === 'unfriend') {\n      var _updateCnts4 = changeMode(cnts, state.changeCntStart, 'accept', false);\n\n      return updateObject(state, {\n        cnts: _updateCnts4,\n        changeCntStart: null,\n        changeCntErr: null,\n        changeCnt: false\n      });\n    }\n\n    if (state.changeCntStart.det === 'blockUser') {\n      var _updateCnt = cnts.filter(function (cnt) {\n        return cnt.id !== state.changeCntStart.id;\n      });\n\n      return updateObject(state, {\n        cnts: _updateCnt,\n        changeCntStart: null,\n        changeCntErr: null,\n        changeCnt: false\n      });\n    }\n\n    var updateCnt = cnts.filter(function (cnt) {\n      return cnt._id !== state.changeCntStart.id;\n    });\n    return updateObject(state, {\n      cnts: updateCnt,\n      changeCntStart: null,\n      changeCntErr: null,\n      changeCnt: false\n    });\n  }\n\n  return updateObject(state, {\n    cnts: cnts,\n    changeCntStart: null,\n    changeCntErr: null,\n    changeCnt: false\n  });\n};\n\nvar changeCntFail = function changeCntFail(state, action) {\n  return updateObject(state, {\n    changeCntErr: action.err\n  });\n};\n\nvar changeCnt = function changeCnt(state, action) {\n  return updateObject(state, {\n    changeCnt: true\n  });\n};\n\nvar fetchVideo = function fetchVideo(state, action) {\n  return updateObject(state, {\n    postVideo: {\n      id: action.id,\n      url: action.url\n    }\n  });\n};\n\nvar changeFavPtStart = function changeFavPtStart(state, action) {\n  return updateObject(state, {\n    favChange: {\n      id: action.id,\n      isLiked: action.isLiked\n    }\n  });\n};\n\nvar changeFavPtFail = function changeFavPtFail(state, action) {\n  return updateObject(state, {\n    favChange: null\n  });\n};\n\nvar changeFav = function changeFav(state, action) {\n  return updateObject(state, {\n    changedFav: action.changedFav,\n    favChange: null\n  });\n};\n\nvar filterPost = function filterPost(state, action) {\n  return updateObject(state, {\n    filterDet: action.filterDet\n  });\n};\n\nvar resetModel = function resetModel(state, action) {\n  return updateObject(state, {\n    cntErr: null,\n    changeCntStart: null,\n    changeCntErr: null,\n    changeCnt: false\n  });\n};\n\nvar reducer = function reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case actionTypes.FETCH_CNT:\n      return fetchCnt(state, action);\n\n    case actionTypes.FETCH_CNT_START:\n      return fetchCntStart(state, action);\n\n    case actionTypes.FETCH_CNT_RESET:\n      return fetchCntReset(state, action);\n\n    case actionTypes.FETCH_CNT_FAIL:\n      return fetchPostFail(state, action);\n\n    case actionTypes.CHANGE_CNT_START:\n      return changeCntStart(state, action);\n\n    case actionTypes.CHANGE_CNT_CANCEL:\n      return changeCntCancel(state, action);\n\n    case actionTypes.CHANGE_CNT_RESET:\n      return changeCntReset(state, action);\n\n    case actionTypes.CHANGE_CNT_FAIL:\n      return changeCntFail(state, action);\n\n    case actionTypes.CHANGE_CNT:\n      return changeCnt(state, action);\n\n    case actionTypes.FETCH_VIDEO:\n      return fetchVideo(state, action);\n\n    case actionTypes.CHANGE_FAVORITE:\n      return changeFav(state, action);\n\n    case actionTypes.CHANGE_FAVORITE_PT_START:\n      return changeFavPtStart(state, action);\n\n    case actionTypes.CHANGE_FAVORITE_PT_FAIL:\n      return changeFavPtFail(state, action);\n\n    case actionTypes.FILTER_POST:\n      return filterPost(state, action);\n\n    case actionTypes.RESET_MODEL:\n      return resetModel(state, action);\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":null,"metadata":{},"sourceType":"module"}