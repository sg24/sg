{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport * as actionTypes from '../actions/actionTypes';\nimport { updateObject } from '../../shared/utility';\nvar initialState = {\n  cnts: null,\n  cntErr: null,\n  skipCnt: null,\n  showLoader: false,\n  changedFav: [],\n  favChange: null,\n  postVideo: {\n    id: null\n  },\n  videoErr: null,\n  filterDet: null,\n  changeCnt: false,\n  changeCntErr: null,\n  changeCntStart: null,\n  comments: [],\n  submitStart: false,\n  resetInput: false,\n  commentID: null,\n  commentTotal: 0\n};\n\nvar fetchCnt = function fetchCnt(state, action) {\n  var comments = _toConsumableArray(state.comments);\n\n  comments.push.apply(comments, _toConsumableArray(action.cnt.commentcnt));\n  return updateObject(state, {\n    cnts: action.cnt,\n    comments: comments,\n    commentTotal: action.cnt.comment\n  });\n};\n\nvar fetchCntReset = function fetchCntReset(state, action) {\n  return updateObject(state, {\n    cnts: null,\n    comments: []\n  });\n};\n\nvar fetchCntStart = function fetchCntStart(state, action) {\n  return updateObject(state, {\n    showLoader: true\n  });\n};\n\nvar fetchPostFail = function fetchPostFail(state, action) {\n  return updateObject(state, {\n    cntErr: action.err,\n    showLoader: false\n  });\n};\n\nvar submitComment = function submitComment(state, action) {\n  var comments = _toConsumableArray(state.comments);\n\n  if (action.categ === 'reply') {\n    var indexPos;\n    var commentReply = comments.filter(function (comment, index) {\n      if (comment._id === action.id) {\n        indexPos = index;\n        return true;\n      }\n\n      return false;\n    });\n\n    var comment = _objectSpread({}, commentReply[0]);\n\n    if (comment.reply) {\n      comment.reply.push(_objectSpread({}, action.cnt));\n    } else {\n      comment['reply'] = [_objectSpread({}, action.cnt)];\n    }\n\n    comments[indexPos] = comment;\n    return updateObject(state, {\n      comments: comments,\n      submitStart: false,\n      resetInput: true,\n      commentTotal: state.commentTotal += 1\n    });\n  }\n\n  comments.push(action.cnt);\n  return updateObject(state, {\n    comments: comments,\n    submitStart: false,\n    resetInput: true,\n    commentTotal: state.commentTotal += 1\n  });\n};\n\nvar submitCommentFail = function submitCommentFail(state, action) {\n  return updateObject(state, {\n    cntErr: action.err,\n    submitStart: false\n  });\n};\n\nvar submitCommentStart = function submitCommentStart(state, action) {\n  return updateObject(state, {\n    submitStart: true\n  });\n};\n\nvar resetInput = function resetInput(state, action) {\n  return updateObject(state, {\n    resetInput: false,\n    commentID: null\n  });\n};\n\nvar resetModel = function resetModel(state, action) {\n  return updateObject(state, {\n    cntErr: null,\n    changeCntStart: null,\n    changeCntErr: null,\n    changeCnt: false\n  });\n};\n\nvar ansCorrect = function ansCorrect(state, action) {\n  var comments = _toConsumableArray(state.comments);\n\n  var indexPos;\n  var comment = comments.filter(function (comment, index) {\n    if (comment._id === action.commentID) {\n      indexPos = index;\n      return true;\n    }\n\n    return false;\n  });\n\n  if (action.categ === 'smilereply') {\n    var replyPos;\n    var reply = comment[0].reply.filter(function (replyRes, index) {\n      if (replyRes._id === action.replyID) {\n        replyPos = index;\n        return true;\n      }\n\n      return false;\n    });\n    reply[0].smiled = reply[0].smile ? reply[0].smiled - 1 : reply[0].smiled + 1;\n    reply[0].smile = !reply[0].smile;\n    comment[0].reply[replyPos] = reply[0];\n    comments[indexPos] = comment[0];\n    return updateObject(state, {\n      comments: comments\n    });\n  }\n\n  if (action.categ === 'reply') {\n    var _replyPos;\n\n    var _reply = comment[0].reply.filter(function (replyRes, index) {\n      if (replyRes._id === action.replyID) {\n        _replyPos = index;\n        return true;\n      }\n\n      return false;\n    });\n\n    _reply[0].liked = _reply[0].like ? _reply[0].liked : _reply[0].liked + 1;\n    _reply[0].disliked = _reply[0].dislike ? _reply[0].disliked - 1 : _reply[0].disliked;\n    _reply[0].like = true;\n    _reply[0].dislike = false;\n    comment[0].reply[_replyPos] = _reply[0];\n    comments[indexPos] = comment[0];\n    return updateObject(state, {\n      comments: comments\n    });\n  }\n\n  if (action.categ === 'smile') {\n    comment[0].smiled = comment[0].smile ? comment[0].smiled - 1 : comment[0].smiled + 1;\n    comment[0].smile = !comment[0].smile;\n    comments[indexPos] = comment[0];\n    return updateObject(state, {\n      comments: comments\n    });\n  }\n\n  comment[0].liked = comment[0].like ? comment[0].liked : comment[0].liked + 1;\n  comment[0].disliked = comment[0].dislike ? comment[0].disliked - 1 : comment[0].disliked;\n  comment[0].like = true;\n  comment[0].dislike = false;\n  comments[indexPos] = comment[0];\n  return updateObject(state, {\n    comments: comments\n  });\n};\n\nvar ansWrong = function ansWrong(state, action) {\n  var comments = _toConsumableArray(state.comments);\n\n  var indexPos;\n  var comment = comments.filter(function (comment, index) {\n    if (comment._id === action.commentID) {\n      indexPos = index;\n      return true;\n    }\n\n    return false;\n  });\n\n  if (action.categ === 'reply') {\n    var replyPos;\n    var reply = comment[0].reply.filter(function (replyRes, index) {\n      if (replyRes._id === action.replyID) {\n        replyPos = index;\n        return true;\n      }\n\n      return false;\n    });\n    reply[0].disliked = reply[0].dislike ? reply[0].disliked : reply[0].disliked + 1;\n    reply[0].liked = reply[0].like ? reply[0].liked - 1 : reply[0].liked;\n    reply[0].dislike = true;\n    reply[0].like = false;\n    comment[0].reply[replyPos] = reply[0];\n    comments[indexPos] = comment[0];\n    return updateObject(state, {\n      comments: comments\n    });\n  }\n\n  comment[0].disliked = comment[0].dislike ? comment[0].disliked : comment[0].disliked + 1;\n  comment[0].liked = comment[0].like ? comment[0].liked - 1 : comment[0].liked;\n  comment[0].dislike = true;\n  comment[0].like = false;\n  comments[indexPos] = comment[0];\n  return updateObject(state, {\n    comments: comments\n  });\n};\n\nvar changeCntStart = function changeCntStart(state, action) {\n  return updateObject(state, {\n    changeCntStart: {\n      title: action.title,\n      id: action.id,\n      det: action.det,\n      modelType: action.modelType\n    },\n    changeCntErr: null\n  });\n};\n\nvar changeCntCancel = function changeCntCancel(state, action) {\n  return updateObject(state, {\n    changeCntStart: null,\n    changeCntErr: null,\n    changeCnt: false\n  });\n};\n\nvar changeCntReset = function changeCntReset(state, action) {\n  var cnts = _objectSpread({}, state.cnts);\n\n  if ((state.changeCntStart.det === 'publish' || state.changeCntStart.det === 'draft') && state.changeCntStart.det !== 'delete') {\n    cnts.mode = state.changeCntStart.det;\n    return updateObject(state, {\n      cnts: action.changed ? cnts : state.cnts,\n      changeCntStart: null,\n      changeCntErr: null,\n      changeCnt: false\n    });\n  }\n\n  return updateObject(state, {\n    cnts: cnts,\n    changeCntStart: null,\n    changeCntErr: null,\n    changeCnt: false\n  });\n};\n\nvar changeCntFail = function changeCntFail(state, action) {\n  return updateObject(state, {\n    changeCntErr: action.err\n  });\n};\n\nvar changeCnt = function changeCnt(state, action) {\n  return updateObject(state, {\n    changeCnt: true\n  });\n};\n\nvar fetchVideo = function fetchVideo(state, action) {\n  return updateObject(state, {\n    postVideo: {\n      id: action.id,\n      url: action.url\n    }\n  });\n};\n\nvar changeFavPtStart = function changeFavPtStart(state, action) {\n  return updateObject(state, {\n    favChange: {\n      id: action.id,\n      isLiked: action.isLiked\n    }\n  });\n};\n\nvar changeFavPtFail = function changeFavPtFail(state, action) {\n  return updateObject(state, {\n    favChange: null\n  });\n};\n\nvar changeFav = function changeFav(state, action) {\n  return updateObject(state, {\n    changedFav: action.changedFav,\n    favChange: null\n  });\n};\n\nvar filterPost = function filterPost(state, action) {\n  return updateObject(state, {\n    filterDet: action.filterDet\n  });\n};\n\nvar setCommentID = function setCommentID(state, action) {\n  return updateObject(state, {\n    commentID: {\n      id: action.commentID,\n      categ: action.categ\n    }\n  });\n};\n\nvar reducer = function reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case actionTypes.FETCH_CNT:\n      return fetchCnt(state, action);\n\n    case actionTypes.FETCH_CNT_START:\n      return fetchCntStart(state, action);\n\n    case actionTypes.FETCH_CNT_RESET:\n      return fetchCntReset(state, action);\n\n    case actionTypes.FETCH_CNT_FAIL:\n      return fetchPostFail(state, action);\n\n    case actionTypes.SUBMIT_COMMENT:\n      return submitComment(state, action);\n\n    case actionTypes.SUBMIT_COMMENT_START:\n      return submitCommentStart(state, action);\n\n    case actionTypes.SUBMIT_COMMENT_FAIL:\n      return submitCommentFail(state, action);\n\n    case actionTypes.RESET_INPUT:\n      return resetInput(state, action);\n\n    case actionTypes.RESET_MODEL:\n      return resetModel(state, action);\n\n    case actionTypes.ANS_CORRECT:\n      return ansCorrect(state, action);\n\n    case actionTypes.ANS_WRONG:\n      return ansWrong(state, action);\n\n    case actionTypes.CHANGE_CNT_START:\n      return changeCntStart(state, action);\n\n    case actionTypes.CHANGE_CNT_CANCEL:\n      return changeCntCancel(state, action);\n\n    case actionTypes.CHANGE_CNT_RESET:\n      return changeCntReset(state, action);\n\n    case actionTypes.CHANGE_CNT_FAIL:\n      return changeCntFail(state, action);\n\n    case actionTypes.CHANGE_CNT:\n      return changeCnt(state, action);\n\n    case actionTypes.FETCH_VIDEO:\n      return fetchVideo(state, action);\n\n    case actionTypes.CHANGE_FAVORITE:\n      return changeFav(state, action);\n\n    case actionTypes.CHANGE_FAVORITE_PT_START:\n      return changeFavPtStart(state, action);\n\n    case actionTypes.CHANGE_FAVORITE_PT_FAIL:\n      return changeFavPtFail(state, action);\n\n    case actionTypes.FILTER_POST:\n      return filterPost(state, action);\n\n    case actionTypes.SET_COMMENTID:\n      return setCommentID(state, action);\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":null,"metadata":{},"sourceType":"module"}