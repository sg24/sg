{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Avatar from 'react-avatar';\nimport './UserOption.css';\nimport * as actions from '../../../store/actions/index';\nimport Aux from '../../../hoc/Auxs/Auxs';\n\nvar UserOption =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UserOption, _Component);\n\n  function UserOption() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, UserOption);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(UserOption)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      show: false,\n      \"default\": false,\n      id: document.cookie.replace(/(?:(?:^|.*;\\s*)id\\s*\\=\\s*([^;]*).*$)|^.*$/, \"$1\"),\n      showAddOpt: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"showUserOptionHandler\", function () {\n      _this.props.onShowUserOption();\n\n      _this.setState(function (prevState, props) {\n        return {\n          \"default\": false,\n          show: prevState.showAddOpt ? true : !prevState.show,\n          showAddOpt: false\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"showAddCntHandler\", function () {\n      _this.props.onShowUserOption();\n\n      _this.setState(function (prevState, Props) {\n        return {\n          showAddOpt: true,\n          \"default\": false,\n          show: prevState.showAddOpt ? !prevState.show : true\n        };\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(UserOption, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (this.state.show && !this.state[\"default\"] && this.props.hidUserOption) {\n        this.setState({\n          \"default\": true,\n          show: false\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var userDetClass = [\"site-header__user--det\"];\n\n      var userImg = __jsx(\"img\", {\n        className: \"site-header__user--img\",\n        src: this.props.img,\n        alt: this.props.username\n      });\n\n      var profile = null;\n\n      if (this.state.show) {\n        userDetClass.push(\"site-header__user--det__visible\");\n      }\n\n      ;\n\n      if (this.props.username && !this.props.img) {\n        userImg = __jsx(Avatar, {\n          name: this.props.username,\n          size: \"30\",\n          round: true\n        });\n      }\n\n      if (this.state.id) {\n        profile = __jsx(\"li\", {\n          className: \"site-header__user--det__portal\"\n        }, __jsx(\"a\", {\n          href: \"/user/profile/\".concat(this.state.id)\n        }, __jsx(\"div\", null, __jsx(FontAwesomeIcon, {\n          icon: ['fas', 'user'],\n          className: \"icon icon__site-header--user__set\"\n        })), \"My Profile\"));\n      }\n\n      var cnt = __jsx(Aux, null, profile, __jsx(\"li\", {\n        className: \"site-header__user--det__logout\"\n      }, __jsx(\"a\", {\n        href: \"/auth/logout\"\n      }, __jsx(\"div\", null, __jsx(FontAwesomeIcon, {\n        icon: ['fas', 'angle-double-right'],\n        className: \"icon icon__site-header--user__log\"\n      })), \"Logout\")));\n\n      if (this.state.showAddOpt) {\n        cnt = __jsx(Aux, null, __jsx(\"li\", {\n          className: \"site-header__user--det__logout\"\n        }, __jsx(\"a\", {\n          href: \"/add/post\"\n        }, __jsx(\"div\", null, __jsx(FontAwesomeIcon, {\n          icon: ['fas', 'newspaper']\n        })), \"News Feed\")), __jsx(\"li\", {\n          className: \"site-header__user--det__logout\"\n        }, __jsx(\"a\", {\n          href: \"/add/question\"\n        }, __jsx(\"div\", null, __jsx(FontAwesomeIcon, {\n          icon: ['fas', 'question']\n        })), \"Question\")), __jsx(\"li\", {\n          className: \"site-header__user--det__logout\"\n        }, __jsx(\"a\", {\n          href: \"/question\"\n        }, __jsx(\"div\", null, __jsx(FontAwesomeIcon, {\n          icon: ['fas', 'clone']\n        })), \"Answer\")), __jsx(\"li\", {\n          className: \"site-header__user--det__logout\"\n        }, __jsx(\"a\", {\n          href: \"/add/poet\"\n        }, __jsx(\"div\", null, __jsx(FontAwesomeIcon, {\n          icon: ['fas', 'book']\n        })), \"Writer\")));\n      }\n\n      return __jsx(\"div\", {\n        className: \"site-header__user\"\n      }, __jsx(\"div\", {\n        className: \"site-header__user--det__addNew\",\n        onClick: this.showAddCntHandler\n      }, __jsx(FontAwesomeIcon, {\n        icon: ['fas', 'plus']\n      })), __jsx(\"div\", null, userImg), __jsx(\"ul\", {\n        className: userDetClass.join(' ')\n      }, cnt), __jsx(\"div\", {\n        className: \"site-header__user--det__opt\",\n        onClick: this.showUserOptionHandler\n      }, __jsx(FontAwesomeIcon, {\n        icon: ['fas', 'caret-down']\n      })));\n    }\n  }]);\n\n  return UserOption;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    hidUserOption: state.header.hidUserOption,\n    img: state.auth.img,\n    username: state.auth.username\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onShowUserOption: function onShowUserOption() {\n      return dispatch(actions.showUserOption());\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserOption);","map":null,"metadata":{},"sourceType":"module"}