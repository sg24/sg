{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport * as actions from '../../../store/actions/index';\n\nvar NavigationInput =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(NavigationInput, _Component);\n\n  function NavigationInput() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, NavigationInput);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(NavigationInput)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      value: '',\n      isExpand: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"expandFormHandler\", function () {\n      _this.props.onFormExpand();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"filterContentHandler\", function (event) {\n      _this.setState({\n        value: event.target.value\n      });\n\n      var inputElem = window.document.querySelector('.site-header__form');\n      var inputLastElem = _this.props.status ? window.document.querySelector('.site-header__user') : window.document.querySelector('.site-header__no-acc');\n      var updateInputLastElem = _this.props.status ? window.innerWidth - inputLastElem.offsetLeft - 30 : window.innerWidth - (inputLastElem.offsetLeft + 140);\n      var updateInputElem = inputElem.offsetLeft;\n\n      if (window.innerWidth > 1200) {\n        updateInputElem = 220;\n        updateInputLastElem = 100;\n      }\n\n      _this.props.onHeaderFilter(event.target.value, updateInputElem, updateInputLastElem);\n\n      if (!_this.state.isExpand) {\n        _this.setState({\n          isExpand: true\n        });\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(NavigationInput, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (!this.props.expand && this.state.isExpand) {\n        this.setState({\n          value: '',\n          isExpand: false\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var formClass = [\"site-header__form\"];\n\n      if (this.props.expand) {\n        formClass.push(\"site-header__form--expand\");\n      }\n\n      return __jsx(\"form\", {\n        className: formClass.join(' ')\n      }, __jsx(\"input\", {\n        type: \"text\",\n        className: \"site-header__form--input\",\n        autoComplete: \"on\",\n        onClick: this.expandFormHandler,\n        onChange: this.filterContentHandler,\n        value: this.state.value\n      }), __jsx(\"div\", {\n        className: \"site-header__form--search\"\n      }, __jsx(FontAwesomeIcon, {\n        icon: ['fas', 'search'],\n        className: \"icon icon__site-header--search\"\n      })));\n    }\n  }]);\n\n  return NavigationInput;\n}(Component);\n\n;\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    expand: state.header.expand,\n    status: state.auth.status\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onFormExpand: function onFormExpand() {\n      return dispatch(actions.headerFormExpand());\n    },\n    onHeaderFilter: function onHeaderFilter(filterCnt, filterPos, filterLastpos) {\n      return dispatch(actions.headerFilterInit(filterCnt, filterPos, filterLastpos));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NavigationInput);","map":null,"metadata":{},"sourceType":"module"}