{"ast":null,"code":"var __jsx = React.createElement;\nimport React from 'react';\nimport Avatar from 'react-avatar';\nimport TimeAgo from 'react-timeago';\nimport buildFormatter from 'react-timeago/lib/formatters/buildFormatter';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { convertFromRaw } from 'draft-js';\nimport { stateToHTML } from \"draft-js-export-html\";\nimport arraySort from 'array-sort';\nimport './react-draft-wysiwyg.css';\nimport { engStrings } from '../../../../../../shared/utility';\nimport ModelReply from './ModelReply/ModelReply';\nimport Aux from '../../../../../../hoc/Auxs/Auxs';\n\nconst modelComment = props => {\n  const formatter = buildFormatter(engStrings);\n  const comment = props.comment;\n  let cnt = JSON.parse(comment.comment);\n  let raw = convertFromRaw(cnt);\n  const htmlContent = stateToHTML(raw);\n  let footerCnt = null;\n  let reply = null;\n\n  let status = __jsx(\"div\", {\n    className: \"reuse-view__comments--box__header--det__status\"\n  }, __jsx(\"div\", {\n    className: \"reuse-view__comments--box__header--det__status--off\"\n  }), __jsx(\"span\", null, __jsx(TimeAgo, {\n    date: comment.offline,\n    live: false,\n    formatter: formatter\n  })));\n\n  let userImage = __jsx(\"img\", {\n    src: comment.image,\n    alt: \"\"\n  });\n\n  let likeClass = [\"reuse-view__comments--box__footer--user-like__total\"];\n  let dislikeClass = [\"reuse-view__comments--box__footer--user-like__total\"];\n  let smileClass = [\"reuse-view__comments--box__footer--user-like__total\"];\n\n  if (comment.status) {\n    status = __jsx(\"div\", {\n      className: \"reuse-view__comments--box__header--det__status\"\n    }, __jsx(\"div\", {\n      className: \"reuse-view__comments--box__header--det__status--on\"\n    }), __jsx(\"span\", null, \"online\"));\n  }\n\n  if (comment.username && !comment.image) {\n    userImage = __jsx(Avatar, {\n      name: comment.username,\n      size: \"40\",\n      round: true\n    });\n  }\n\n  if (comment.reply) {\n    let commentsreply = arraySort(comment.reply, 'commentCreated');\n    reply = commentsreply.map((reply, index) => __jsx(ModelReply, {\n      key: index,\n      comment: reply,\n      commentID: comment._id,\n      cntGrp: props.cntGrp,\n      reply: props.reply,\n      correct: props.correct,\n      wrong: props.wrong,\n      smile: props.correct\n    }));\n  }\n\n  if (comment.like) {\n    likeClass.push(\"reuse-view__comments--box__footer--user-like__liked\");\n  }\n\n  if (comment.dislike) {\n    dislikeClass.push(\"reuse-view__comments--box__footer--user-like__disliked\");\n  }\n\n  if (comment.smile) {\n    smileClass.push(\"reuse-view__comments--box__footer--user-like__liked\");\n  }\n\n  if (props.cntGrp === 'poet') {\n    footerCnt = __jsx(Aux, null, __jsx(\"div\", {\n      className: \"reuse-view__comments--box__footer--user-det\"\n    }, __jsx(\"div\", {\n      onClick: !comment.disabled ? props.smile.bind(this, comment._id, 'smile', null) : null\n    }, __jsx(FontAwesomeIcon, {\n      icon: ['far', 'smile'],\n      className: \"icon icon__reuse-view--comments__like\"\n    }), __jsx(\"div\", {\n      className: smileClass.join(' ')\n    }, comment.smiled))));\n  }\n\n  if (props.cntGrp === 'question') {\n    footerCnt = __jsx(Aux, null, __jsx(\"div\", {\n      className: \"reuse-view__comments--box__footer--user-like\"\n    }, __jsx(\"div\", {\n      onClick: !comment.disabled ? props.wrong.bind(this, comment._id, 'comment', null) : null\n    }, __jsx(FontAwesomeIcon, {\n      icon: ['far', 'thumbs-down'],\n      className: \"icon icon__reuse-view--comments__like\"\n    }), __jsx(\"div\", {\n      className: dislikeClass.join(' ')\n    }, comment.disliked))), __jsx(\"div\", {\n      className: \"reuse-view__comments--box__footer--user-det\"\n    }, __jsx(\"div\", {\n      onClick: !comment.disabled ? props.correct.bind(this, comment._id, 'comment', null) : null\n    }, __jsx(FontAwesomeIcon, {\n      icon: ['far', 'thumbs-up'],\n      className: \"icon icon__reuse-view--comments__like\"\n    }), __jsx(\"div\", {\n      className: likeClass.join(' ')\n    }, comment.liked))));\n  }\n\n  return __jsx(\"div\", {\n    className: \"reuse-view__comments--wrapper\"\n  }, __jsx(\"div\", {\n    className: \"reuse-view__comments--box\"\n  }, __jsx(\"ul\", {\n    className: \"reuse-view__comments--box__header\"\n  }, __jsx(\"li\", null, __jsx(\"div\", {\n    className: \"reuse-view__comments--box__header--img\"\n  }, userImage), __jsx(\"div\", {\n    className: \"reuse-view__comments--box__header--det\"\n  }, __jsx(\"div\", null, __jsx(\"a\", {\n    href: `/user/profile/${comment.authorID}`,\n    className: \"reuse-view__comments--box__header--det__title\"\n  }, comment.username)), status)), __jsx(\"li\", {\n    className: \"reuse-view__comments--box__header--soln\"\n  }, __jsx(\"span\", {\n    className: \"reuse-view__comments--box__header--soln__time\"\n  }, __jsx(FontAwesomeIcon, {\n    icon: ['far', 'clock'],\n    className: \"icon icon__reuse-view--time\"\n  }), __jsx(TimeAgo, {\n    date: comment.commentCreated,\n    live: false,\n    formatter: formatter\n  })))), __jsx(\"p\", {\n    className: \"reuse-view__comments--box__content\",\n    dangerouslySetInnerHTML: {\n      __html: htmlContent\n    }\n  }), __jsx(\"div\", {\n    className: \"reuse-view__comments--box__footer\"\n  }, __jsx(\"div\", {\n    className: \"reuse-view__comments--box__footer--user-opt\"\n  }, __jsx(\"span\", {\n    className: \"reuse-view__comments--box__footer--user-opt__reply\",\n    onClick: props.reply\n  }, __jsx(FontAwesomeIcon, {\n    icon: ['fas', 'reply'],\n    className: \"icon icon__reuse-view--comments__reply\"\n  }))), footerCnt)), reply);\n};\n\nexport default modelComment;","map":null,"metadata":{},"sourceType":"module"}