{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Users from '../../../../components/Main/Users/Users';\nimport Loader from '../../../../components/UI/Loader/Loader';\nimport NoAcc from '../../../../components/Main/NoAcc/NoAcc';\nimport * as actions from '../../../../store/actions/index';\nimport App from '../../../../App';\n\nvar Model =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Model, _Component);\n\n  function Model(props) {\n    var _this;\n\n    _classCallCheck(this, Model);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Model).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"onScroll\", function () {\n      if (true) {\n        if (document.documentElement.scrollHeight - document.documentElement.scrollTop === document.documentElement.clientHeight) {\n          _this.props.onFetchCnt(_this.props.userID, 'users', _this.state.fetchLimit, _this.props.skipCnt + _this.state.fetchLimit, _this.props.cntTotal);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"changeCntHandler\", function (id, title, det, confirm, modelType) {\n      _this.props.onChangeCnt(id, title, det, confirm, modelType);\n    });\n\n    var limit = 0;\n\n    if (true) {\n      if (window.innerHeight >= 1200) {\n        limit = 18;\n      } else if (window.innerHeight >= 900) {\n        limit = 12;\n      } else if (window.innerHeight >= 500) {\n        limit = 9;\n      } else {\n        limit = 6;\n      }\n    }\n\n    _this.state = {\n      fetchLimit: limit,\n      filterTag: 'users',\n      scrollEnable: false\n    };\n    return _this;\n  }\n\n  _createClass(Model, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {// this.props.onFetchCnt(this.props.userID, this.state.filterTag, this.state.fetchLimit, 0, 0);\n      // this.props.onChangeTag('/users');\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (this.props.cnts && this.props.cnts.length > 0 && !this.state.scrollEnable) {\n        window.addEventListener('scroll', this.onScroll, false);\n        this.setState({\n          scrollEnable: true\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.props.onFetchCntReset();\n      window.removeEventListener('scroll', this.onScroll, false);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.props.onFetchShareActive();\n      this.props.onFetchCntActive();\n      this.props.onFetchShareCntActive();\n      this.props.onFetchNotifyActive();\n      this.props.onFetchPtActive();\n      this.props.onFetchQueActive();\n      this.props.onFetchReqActive();\n\n      var cnt = __jsx(Loader, null);\n\n      if (this.props.cntErr) {\n        cnt = null;\n      }\n\n      if (this.props.cnts && this.props.cnts.length === 0) {\n        cnt = __jsx(NoAcc, {\n          isAuth: this.props.status,\n          det: \"Users not found !!\",\n          icn: \"users\",\n          filter: true\n        });\n      }\n\n      if (this.props.cnts && this.props.cnts.length > 0) {\n        cnt = __jsx(Users, {\n          content: this.props.cnts,\n          changeCnt: this.changeCntHandler\n        });\n      }\n\n      return __jsx(App, null, cnt);\n    }\n  }]);\n\n  return Model;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    status: state.auth.status,\n    cnts: state.cnt.cnts,\n    skipCnt: state.cnt.skipCnt,\n    cntTotal: state.cnt.cntTotal,\n    filterDet: state.cnt.filterDet,\n    cntErr: state.cnt.cntErr,\n    addUser: state.cnt.addUser,\n    pending: state.cnt.pending,\n    request: state.cnt.request,\n    blocked: state.cnt.blocked,\n    accept: state.cnt.accept\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onFetchShareActive: function onFetchShareActive() {\n      return dispatch(actions.fetchShareactiveInit());\n    },\n    onFetchShareCntActive: function onFetchShareCntActive() {\n      return dispatch(actions.fetchShareCntactiveInit());\n    },\n    onFetchCntActive: function onFetchCntActive() {\n      return dispatch(actions.fetchCntActiveInit());\n    },\n    onFetchNotifyActive: function onFetchNotifyActive() {\n      return dispatch(actions.fetchNotifyactiveInit());\n    },\n    onFetchPtActive: function onFetchPtActive() {\n      return dispatch(actions.fetchPtActiveInit());\n    },\n    onFetchQueActive: function onFetchQueActive() {\n      return dispatch(actions.fetchQueActiveInit());\n    },\n    onFetchReqActive: function onFetchReqActive() {\n      return dispatch(actions.fetchReqActiveInit());\n    },\n    onFetchCnt: function onFetchCnt(userID, fetchType, limit, skipCnt, cntTotal) {\n      return dispatch(actions.fetchCntInit(userID, fetchType, limit, skipCnt, cntTotal));\n    },\n    onFetchCntReset: function onFetchCntReset() {\n      return dispatch(actions.fetchCntReset());\n    },\n    onChangeTag: function onChangeTag(path) {\n      return dispatch(actions.changeTagsPath(path));\n    },\n    onChangeCnt: function onChangeCnt(id, title, det, confirm, modelType) {\n      return dispatch(actions.changeCntInit(id, title, det, confirm, modelType));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Model);","map":null,"metadata":{},"sourceType":"module"}