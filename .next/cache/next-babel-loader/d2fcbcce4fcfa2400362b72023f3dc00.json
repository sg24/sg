{"ast":null,"code":"import { put } from 'redux-saga/effects';\nimport * as actions from '../../store/actions/index';\nimport axios from '../../axios';\nexport function* checkAuthInitSaga(action) {\n  let expiresIn = document.cookie.replace(/(?:(?:^|.*;\\s*)expiresIn\\s*\\=\\s*([^;]*).*$)|^.*$/, \"$1\");\n\n  if (expiresIn && new Date(new Date(expiresIn * 1000).getTime()) >= new Date().getTime()) {\n    yield put(actions.checkAuth(true));\n\n    try {\n      let response = yield axios.post('/header', {}, {\n        headers: {\n          'data-categ': 'userimg'\n        }\n      });\n\n      if (response.data.url) {\n        yield put(actions.checkUserImg(response.data.url));\n      } else {\n        yield put(actions.checkUserName(response.data.name));\n      }\n    } catch (err) {}\n  }\n}","map":{"version":3,"sources":["C:/Users/g/my-sg final deploy/react/index/store/sagas/auth.js"],"names":["put","actions","axios","checkAuthInitSaga","action","expiresIn","document","cookie","replace","Date","getTime","checkAuth","response","post","headers","data","url","checkUserImg","checkUserName","name","err"],"mappings":"AAAA,SAASA,GAAT,QAAoB,oBAApB;AAEA,OAAO,KAAKC,OAAZ,MAAyB,2BAAzB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AAEA,OAAO,UAAUC,iBAAV,CAA4BC,MAA5B,EAAoC;AACvC,MAAIC,SAAS,GAAIC,QAAQ,CAACC,MAAT,CAAgBC,OAAhB,CAAwB,kDAAxB,EAA4E,IAA5E,CAAjB;;AACA,MAAIH,SAAS,IAAK,IAAII,IAAJ,CAAS,IAAIA,IAAJ,CAASJ,SAAS,GAAC,IAAnB,EAAyBK,OAAzB,EAAT,KAAgD,IAAID,IAAJ,GAAWC,OAAX,EAAlE,EAAyF;AACrF,UAAMV,GAAG,CAACC,OAAO,CAACU,SAAR,CAAkB,IAAlB,CAAD,CAAT;;AACA,QAAI;AACA,UAAIC,QAAQ,GAAG,MAAMV,KAAK,CAACW,IAAN,CAAW,SAAX,EAAsB,EAAtB,EAA0B;AAACC,QAAAA,OAAO,EAAE;AAAC,wBAAa;AAAd;AAAV,OAA1B,CAArB;;AACA,UAAIF,QAAQ,CAACG,IAAT,CAAcC,GAAlB,EAAuB;AACnB,cAAMhB,GAAG,CAACC,OAAO,CAACgB,YAAR,CAAqBL,QAAQ,CAACG,IAAT,CAAcC,GAAnC,CAAD,CAAT;AACH,OAFD,MAEO;AACH,cAAMhB,GAAG,CAACC,OAAO,CAACiB,aAAR,CAAsBN,QAAQ,CAACG,IAAT,CAAcI,IAApC,CAAD,CAAT;AACH;AAEJ,KARD,CAQE,OAAMC,GAAN,EAAW,CAAE;AAElB;AACJ","sourcesContent":["import { put } from 'redux-saga/effects';\r\n\r\nimport * as actions from '../../store/actions/index';\r\nimport axios from '../../axios';\r\n\r\nexport function* checkAuthInitSaga(action) {\r\n    let expiresIn =  document.cookie.replace(/(?:(?:^|.*;\\s*)expiresIn\\s*\\=\\s*([^;]*).*$)|^.*$/, \"$1\");\r\n    if (expiresIn && (new Date(new Date(expiresIn*1000).getTime()) >= new Date().getTime())) {\r\n        yield put(actions.checkAuth(true))\r\n        try {\r\n            let response = yield axios.post('/header', {}, {headers: {'data-categ':'userimg'}});\r\n            if (response.data.url) {\r\n                yield put(actions.checkUserImg(response.data.url));\r\n            } else {\r\n                yield put(actions.checkUserName(response.data.name));\r\n            }\r\n            \r\n        } catch(err) {}\r\n        \r\n    } \r\n} "]},"metadata":{},"sourceType":"module"}