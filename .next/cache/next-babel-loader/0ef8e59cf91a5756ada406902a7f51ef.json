{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport * as actions from '../../../store/actions/index';\nimport NotifyItems from '../../../components/Navigation/NotifyItems/NotifyItems';\nimport Loader from '../../../components/UI/Loader/Loader';\nimport NoAcc from '../../../components/Main/NoAcc/NoAcc';\n\nvar NavigationNotify =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(NavigationNotify, _Component);\n\n  function NavigationNotify() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, NavigationNotify);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(NavigationNotify)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      show: false,\n      showNotify: false,\n      \"default\": false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"showNotifyTipHandler\", function () {\n      if (!_this.state.showNotify) {\n        _this.setState({\n          show: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"hidNotifyTipHandler\", function () {\n      _this.setState({\n        show: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"fetchNotifyHandler\", function () {\n      _this.props.onFetchNotify();\n\n      _this.setState(function (prevState, props) {\n        return {\n          show: false,\n          \"default\": false,\n          showNotify: !prevState.showNotify\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"changeFavoriteHandler\", function (notifyID) {\n      _this.props.onChangeFav(_this.props.notify, notifyID);\n    });\n\n    return _this;\n  }\n\n  _createClass(NavigationNotify, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.onFetchNotifyActive();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (this.state.showNotify && !this.state[\"default\"] && this.props.hidNotify) {\n        this.setState({\n          \"default\": true,\n          show: false,\n          showNotify: false\n        });\n        this.props.onDefaultNotifyactive();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var notifyTipClass = [\"site-header__tool-tip site-header__tool-tip--notify\"];\n      var notify = null;\n      var notifyCntClass = [\"site-header__menu--notify__cnt\"];\n      var notifyActiveCnt = null;\n\n      if (this.props.notifyActive && this.props.notifyActive > 0) {\n        notifyActiveCnt = __jsx(\"div\", {\n          className: \"active__main active__main--header site-header__menu--notify__num\"\n        }, __jsx(\"div\", null, this.props.notifyActive));\n      }\n\n      if (this.state.show) {\n        notifyTipClass.push(\"site-header__tool-tip--notify__visible\");\n      }\n\n      if (this.state.showNotify) {\n        notifyCntClass.push(\"site-header__menu--notify__cnt--visible\");\n        notify = __jsx(Loader, null);\n      }\n\n      if (this.props.notify && this.props.notify.length < 1 && this.state.showNotify) {\n        notifyCntClass.push(\"site-header__menu--notify__cnt--visible\");\n        notify = __jsx(NoAcc, {\n          isAuth: this.props.status,\n          det: \"No Notification found!\",\n          icn: \"bell\",\n          isNotify: true\n        });\n      }\n\n      if (this.props.notify && this.props.notify.length > 0 && this.state.showNotify) {\n        notify = __jsx(NotifyItems, {\n          content: this.props.notify,\n          fav: this.changeFavoriteHandler\n        });\n        notifyCntClass.push(\"site-header__menu--notify__cnt--visible\");\n      }\n\n      return __jsx(\"div\", {\n        className: \"site-header__menu--notify\"\n      }, notifyActiveCnt, __jsx(\"div\", {\n        className: \"site-header__menu--notify__icn\",\n        onMouseEnter: this.showNotifyTipHandler,\n        onMouseLeave: this.hidNotifyTipHandler,\n        onClick: this.fetchNotifyHandler\n      }, __jsx(FontAwesomeIcon, {\n        icon: ['fas', 'bell'],\n        className: \"icon icon__site-header--bell\"\n      })), __jsx(\"div\", {\n        className: notifyTipClass.join(' ')\n      }, \"Notifications\"), __jsx(\"div\", {\n        className: notifyCntClass.join(' ')\n      }, __jsx(\"div\", {\n        className: \"site-header__menu--notify__cnt--det\"\n      }, __jsx(\"div\", {\n        className: \"reuse-trd\"\n      }, __jsx(\"div\", {\n        className: \"reuse-trd__cnt reuse-trd__cnt--notify\"\n      }, notify)))));\n    }\n  }]);\n\n  return NavigationNotify;\n}(Component);\n\n;\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    status: state.auth.status,\n    notify: state.header.notify,\n    notifyStart: state.header.notifyStart,\n    notifyErr: state.header.notifyErr,\n    hidNotify: state.header.hidNotify,\n    notifyActive: state.header.notifyActive\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onFetchNotify: function onFetchNotify() {\n      return dispatch(actions.fetchNotifyInit());\n    },\n    onChangeFav: function onChangeFav(notify, notifyID) {\n      return dispatch(actions.changeFavNotifyInit(notify, notifyID));\n    },\n    onFetchNotifyActive: function onFetchNotifyActive() {\n      return dispatch(actions.fetchNotifyactiveInit());\n    },\n    onDefaultNotifyactive: function onDefaultNotifyactive() {\n      return dispatch(actions.defaultNotifyactiveInit());\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NavigationNotify);","map":{"version":3,"sources":["C:/Users/g/my-sg final deploy/react/index/containers/Header/NavigationNotify/NavigationNotify.js"],"names":["React","Component","connect","FontAwesomeIcon","actions","NotifyItems","Loader","NoAcc","NavigationNotify","show","showNotify","state","setState","props","onFetchNotify","prevState","notifyID","onChangeFav","notify","onFetchNotifyActive","hidNotify","onDefaultNotifyactive","notifyTipClass","notifyCntClass","notifyActiveCnt","notifyActive","push","length","status","changeFavoriteHandler","showNotifyTipHandler","hidNotifyTipHandler","fetchNotifyHandler","join","mapStateToProps","auth","header","notifyStart","notifyErr","mapDispatchToProps","dispatch","fetchNotifyInit","changeFavNotifyInit","fetchNotifyactiveInit","defaultNotifyactiveInit"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nimport * as actions from '../../../store/actions/index';\r\nimport NotifyItems from '../../../components/Navigation/NotifyItems/NotifyItems';\r\nimport Loader from '../../../components/UI/Loader/Loader';\r\nimport NoAcc from '../../../components/Main/NoAcc/NoAcc';\r\n\r\nclass NavigationNotify extends Component {\r\n    state = {\r\n        show: false,\r\n        showNotify: false,\r\n        default: false\r\n    };\r\n    \r\n    componentDidMount() {\r\n        this.props.onFetchNotifyActive();\r\n    }\r\n    \r\n    componentDidUpdate() {\r\n        if (this.state.showNotify && !this.state.default && this.props.hidNotify) {\r\n            this.setState({\r\n                default: true,\r\n                show: false,\r\n                showNotify: false,\r\n            });\r\n            this.props.onDefaultNotifyactive();\r\n        }\r\n    }\r\n\r\n    showNotifyTipHandler = () => {\r\n        if (!this.state.showNotify) {\r\n            this.setState({\r\n                show: true\r\n            });\r\n        }\r\n    }\r\n\r\n    hidNotifyTipHandler = () => {\r\n        this.setState({\r\n            show: false\r\n        });\r\n    }\r\n\r\n    fetchNotifyHandler = () => {\r\n        this.props.onFetchNotify();\r\n        this.setState((prevState, props) => {\r\n            return {\r\n                show: false,\r\n                default: false,\r\n                showNotify: !prevState.showNotify\r\n            }\r\n        });\r\n    }\r\n\r\n    changeFavoriteHandler = (notifyID) => {\r\n        this.props.onChangeFav(this.props.notify, notifyID)\r\n    };\r\n\r\n    render() {\r\n        let notifyTipClass = [\"site-header__tool-tip site-header__tool-tip--notify\"];\r\n        let notify = null;\r\n        let notifyCntClass = [\"site-header__menu--notify__cnt\"];\r\n        let notifyActiveCnt = null;\r\n\r\n        if (this.props.notifyActive && this.props.notifyActive > 0) {\r\n            notifyActiveCnt = (\r\n                <div className=\"active__main active__main--header site-header__menu--notify__num\">\r\n                    <div>{ this.props.notifyActive }</div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        if (this.state.show) {\r\n            notifyTipClass.push(\"site-header__tool-tip--notify__visible\");\r\n        }\r\n\r\n        if (this.state.showNotify) {\r\n            notifyCntClass.push(\"site-header__menu--notify__cnt--visible\");\r\n            notify = <Loader />\r\n        }\r\n\r\n        if (this.props.notify && this.props.notify.length < 1 && this.state.showNotify) {\r\n            notifyCntClass.push(\"site-header__menu--notify__cnt--visible\");\r\n            notify = <NoAcc \r\n                isAuth={this.props.status}\r\n                det='No Notification found!'\r\n                icn='bell'\r\n                isNotify/>\r\n        }\r\n\r\n        if (this.props.notify && this.props.notify.length > 0 && this.state.showNotify) {\r\n            notify = <NotifyItems \r\n                content={this.props.notify}\r\n                fav={this.changeFavoriteHandler}/>\r\n            notifyCntClass.push(\"site-header__menu--notify__cnt--visible\");\r\n        }\r\n\r\n        return (\r\n            <div className=\"site-header__menu--notify\">\r\n                {notifyActiveCnt}\r\n                <div \r\n                    className=\"site-header__menu--notify__icn\"\r\n                    onMouseEnter={this.showNotifyTipHandler}\r\n                    onMouseLeave={this.hidNotifyTipHandler}\r\n                    onClick={this.fetchNotifyHandler}>\r\n                    <FontAwesomeIcon \r\n                        icon={['fas', 'bell']} \r\n                        className=\"icon icon__site-header--bell\" />\r\n                </div>\r\n                <div className={notifyTipClass.join(' ')}>\r\n                    Notifications\r\n                </div>\r\n                <div className={notifyCntClass.join(' ')}>\r\n                    {/* <div className=\"site-header__menu--notify__cnt--set\">\r\n                        <FontAwesomeIcon \r\n                            icon={['fas', 'cogs']} \r\n                            className=\"icon icon__site-header--notify__set\" />\r\n                    </div> */}\r\n                    <div className=\"site-header__menu--notify__cnt--det\">\r\n                    <div className=\"reuse-trd\">\r\n                        <div className=\"reuse-trd__cnt reuse-trd__cnt--notify\">\r\n                        { notify }\r\n                        </div>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        status: state.auth.status,\r\n        notify: state.header.notify,\r\n        notifyStart: state.header.notifyStart,\r\n        notifyErr: state.header.notifyErr,\r\n        hidNotify: state.header.hidNotify,\r\n        notifyActive: state.header.notifyActive\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n       onFetchNotify: () => dispatch(actions.fetchNotifyInit()),\r\n       onChangeFav: (notify, notifyID) => dispatch(actions.changeFavNotifyInit(notify, notifyID)),\r\n       onFetchNotifyActive: () => dispatch(actions.fetchNotifyactiveInit()),\r\n       onDefaultNotifyactive: () => dispatch(actions.defaultNotifyactiveInit())\r\n    };\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(NavigationNotify);"]},"metadata":{},"sourceType":"module"}