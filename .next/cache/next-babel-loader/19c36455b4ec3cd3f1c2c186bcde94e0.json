{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'next/router';\nimport * as actions from '../../../store/actions/index';\nimport MainNavigations from '../../../components/MainNavigations/MainNavigations';\nimport Loader from '../../../components/UI/Loader/Loader';\n\nvar MainContent =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MainContent, _Component);\n\n  function MainContent() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, MainContent);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(MainContent)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      post: {\n        path: '/index/post',\n        icnGrp: 'newspaper',\n        icnClass: 'icon icon__site-main__content--tab',\n        title: 'News feed'\n      },\n      questions: {\n        path: '/index/question',\n        icnGrp: 'question',\n        icnClass: 'icon icon__site-main__content--tab',\n        title: 'Questions'\n      },\n      // group: {\n      //     path: '/index/group',\n      //     icnGrp: 'users',\n      //     icnClass: 'icon icon__site-main__content--tab',\n      //     title: 'Groups'\n      // },\n      user: {\n        path: '/index/user',\n        icnGrp: 'users',\n        icnClass: 'icon icon__site-main__content--tab',\n        title: 'Scholars'\n      },\n      helpme: {\n        path: '/index/helpme',\n        icnGrp: 'hand-paper',\n        icnClass: 'icon icon__site-main__content--tab',\n        title: 'Q Chat'\n      },\n      poet: {\n        path: '/index/poet',\n        icnGrp: 'book',\n        icnClass: 'icon icon__site-main__content--tab',\n        title: 'Writers'\n      },\n      curTab: _this.props.router.pathname.split('/')[2] ? _this.props.router.pathname.split('/')[2] : 'post',\n      cntFetch: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"removeActiveHandler\", function (curTab) {\n      if (_this.state.curTab !== curTab) {\n        _this.props.onResetActive(_this.props.userID, curTab);\n\n        _this.setState({\n          curTab: curTab\n        });\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(MainContent, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (this.props.cntFetch && !this.state.cntFetch) {\n        this.props.onResetActive(this.props.userID, this.state.curTab);\n        this.setState({\n          cntFetch: true\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var loaderCnt = null;\n\n      if (this.props.showLoader) {\n        loaderCnt = __jsx(\"div\", {\n          className: \"site-main__content--loader\"\n        }, __jsx(Loader, null));\n      }\n\n      return __jsx(\"div\", {\n        className: \"site-main__content\"\n      }, __jsx(\"div\", {\n        className: \"site-main__content--wrapper\"\n      }, __jsx(\"ul\", {\n        className: \"site-main__content--tab\"\n      }, __jsx(MainNavigations, {\n        content: this.state.post,\n        removeActive: this.removeActiveHandler.bind(this, 'post'),\n        active: this.state.curTab !== 'post' ? this.props.ptActive : null\n      }), __jsx(MainNavigations, {\n        content: this.state.questions,\n        removeActive: this.removeActiveHandler.bind(this, 'question'),\n        active: this.state.curTab !== 'question' ? this.props.queActive : null\n      }), __jsx(MainNavigations, {\n        content: this.state.helpme,\n        removeActive: this.removeActiveHandler.bind(this, 'helpme'),\n        active: this.state.curTab !== 'helpme' ? this.props.shareCntActive : null\n      }), __jsx(MainNavigations, {\n        content: this.state.user,\n        removeActive: this.removeActiveHandler.bind(this, 'user'),\n        active: this.state.curTab !== 'user' ? this.props.reqActive : null\n      }), __jsx(MainNavigations, {\n        content: this.state.poet,\n        removeActive: this.removeActiveHandler.bind(this, 'poet'),\n        active: this.state.curTab !== 'poet' ? this.props.cntActive : null\n      })), this.props.children, loaderCnt));\n    }\n  }]);\n\n  return MainContent;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    userID: state.auth.userID,\n    shareCntActive: state.main.shareCntActive,\n    cntActive: state.main.cntActive,\n    ptActive: state.main.ptActive,\n    queActive: state.main.queActive,\n    reqActive: state.main.reqActive,\n    cntFetch: state.cnt.cnts !== null,\n    showLoader: state.cnt.showLoader\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onResetActive: function onResetActive(userID, curTab) {\n      return dispatch(actions.resetActiveInit(userID, curTab));\n    }\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(MainContent));","map":{"version":3,"sources":["C:/Users/g/my-sg final deploy/react/index/containers/SiteMain/MainContent/MainContent.js"],"names":["React","Component","connect","withRouter","actions","MainNavigations","Loader","MainContent","post","path","icnGrp","icnClass","title","questions","user","helpme","poet","curTab","props","router","pathname","split","cntFetch","state","onResetActive","userID","setState","loaderCnt","showLoader","removeActiveHandler","bind","ptActive","queActive","shareCntActive","reqActive","cntActive","children","mapStateToProps","auth","main","cnt","cnts","mapDispatchToProps","dispatch","resetActiveInit"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'next/router'\r\n\r\nimport * as actions from '../../../store/actions/index';\r\nimport MainNavigations from '../../../components/MainNavigations/MainNavigations';\r\nimport Loader from '../../../components/UI/Loader/Loader';\r\n\r\nclass MainContent extends Component {\r\n    state = {\r\n        post: {\r\n            path: '/index/post',\r\n            icnGrp: 'newspaper',\r\n            icnClass: 'icon icon__site-main__content--tab',\r\n            title: 'News feed'\r\n        },\r\n        questions: {\r\n            path: '/index/question',\r\n            icnGrp: 'question',\r\n            icnClass: 'icon icon__site-main__content--tab',\r\n            title: 'Questions'\r\n        },\r\n        // group: {\r\n        //     path: '/index/group',\r\n        //     icnGrp: 'users',\r\n        //     icnClass: 'icon icon__site-main__content--tab',\r\n        //     title: 'Groups'\r\n        // },\r\n        user: {\r\n            path: '/index/user',\r\n            icnGrp: 'users',\r\n            icnClass: 'icon icon__site-main__content--tab',\r\n            title: 'Scholars',\r\n        },\r\n        helpme: {\r\n            path: '/index/helpme',\r\n            icnGrp: 'hand-paper',\r\n            icnClass: 'icon icon__site-main__content--tab',\r\n            title: 'Q Chat'\r\n        },\r\n        poet: {\r\n            path: '/index/poet',\r\n            icnGrp: 'book',\r\n            icnClass: 'icon icon__site-main__content--tab',\r\n            title: 'Writers'\r\n        },\r\n        curTab: this.props.router.pathname.split('/')[2] ? this.props.router.pathname.split('/')[2] : 'post',\r\n        cntFetch: false\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (this.props.cntFetch && !this.state.cntFetch) {\r\n            this.props.onResetActive(this.props.userID, this.state.curTab);\r\n            this.setState({cntFetch: true})\r\n        }\r\n    }\r\n\r\n\r\n    removeActiveHandler = (curTab) => {\r\n        if (this.state.curTab !== curTab) {\r\n            this.props.onResetActive(this.props.userID, curTab);\r\n            this.setState({curTab})\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let loaderCnt = null;\r\n\r\n        if (this.props.showLoader) {\r\n            loaderCnt = (\r\n                <div className=\"site-main__content--loader\">\r\n                    <Loader />\r\n                </div>\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div className=\"site-main__content\">\r\n                <div className=\"site-main__content--wrapper\">\r\n                    <ul className=\"site-main__content--tab\">\r\n                    <MainNavigations \r\n                    content={this.state.post}\r\n                    removeActive={this.removeActiveHandler.bind(this, 'post')}\r\n                    active={this.state.curTab !== 'post' ? this.props.ptActive : null}/>\r\n                <MainNavigations \r\n                    content={this.state.questions}\r\n                    removeActive={this.removeActiveHandler.bind(this, 'question')}\r\n                    active={this.state.curTab !== 'question' ? this.props.queActive : null}/>\r\n                <MainNavigations \r\n                    content={this.state.helpme}\r\n                    removeActive={this.removeActiveHandler.bind(this, 'helpme')}\r\n                    active={this.state.curTab !== 'helpme' ? this.props.shareCntActive : null}/>\r\n                {/* <MainNavigations \r\n                    content={this.state.group}\r\n                    removeActive={this.removeActiveHandler.bind(this, 'group')}\r\n                    active={this.state.curTab !== 'group' ? this.props.cntActive : null}/> */}\r\n                <MainNavigations \r\n                    content={this.state.user}\r\n                    removeActive={this.removeActiveHandler.bind(this, 'user')}\r\n                    active={this.state.curTab !== 'user' ? this.props.reqActive: null}/>\r\n                <MainNavigations \r\n                    content={this.state.poet}\r\n                    removeActive={this.removeActiveHandler.bind(this, 'poet')}\r\n                    active={this.state.curTab !== 'poet' ? this.props.cntActive : null}/>\r\n                </ul>\r\n                { this.props.children }\r\n                { loaderCnt }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n       userID: state.auth.userID,\r\n       shareCntActive: state.main.shareCntActive,\r\n       cntActive: state.main.cntActive,\r\n       ptActive: state.main.ptActive,\r\n       queActive: state.main.queActive,\r\n       reqActive: state.main.reqActive,\r\n       cntFetch: state.cnt.cnts !== null,\r\n       showLoader: state.cnt.showLoader\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        onResetActive: (userID, curTab) => dispatch(actions.resetActiveInit(userID, curTab))\r\n    };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(MainContent));"]},"metadata":{},"sourceType":"module"}