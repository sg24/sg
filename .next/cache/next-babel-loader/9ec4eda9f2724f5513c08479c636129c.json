{"ast":null,"code":"import _getIterator from \"@babel/runtime-corejs2/core-js/get-iterator\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\n\nvar _marked =\n/*#__PURE__*/\n_regeneratorRuntime.mark(fetchCntCategInitSaga),\n    _marked2 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(filterContentInitSaga);\n\nimport { put } from 'redux-saga/effects';\nimport * as actions from '../../store/actions/index';\nimport axios from '../../axios';\nimport { updateObject } from '../../shared/utility';\nexport function fetchCntCategInitSaga(action) {\n  var response;\n  return _regeneratorRuntime.wrap(function fetchCntCategInitSaga$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n\n          if (!(action.categ && action.categ.length > 0)) {\n            _context.next = 6;\n            break;\n          }\n\n          _context.next = 4;\n          return put(actions.fetchCntCateg(_toConsumableArray(action.categ)));\n\n        case 4:\n          _context.next = 11;\n          break;\n\n        case 6:\n          _context.next = 8;\n          return axios.post('/header', {\n            categ: 'question'\n          }, {\n            headers: {\n              'data-categ': 'category'\n            }\n          });\n\n        case 8:\n          response = _context.sent;\n          _context.next = 11;\n          return put(actions.fetchCntCateg(response.data));\n\n        case 11:\n          _context.next = 15;\n          break;\n\n        case 13:\n          _context.prev = 13;\n          _context.t0 = _context[\"catch\"](0);\n\n        case 15:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, null, [[0, 13]]);\n}\nexport function filterContentInitSaga(action) {\n  var categs, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, categ, filterDet, filterCnt, response;\n\n  return _regeneratorRuntime.wrap(function filterContentInitSaga$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          categs = [];\n          _iteratorNormalCompletion = true;\n          _didIteratorError = false;\n          _iteratorError = undefined;\n          _context2.prev = 4;\n\n          for (_iterator = _getIterator(action.content.category); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            categ = _step.value;\n            categs.push(categ.category);\n          }\n\n          _context2.next = 12;\n          break;\n\n        case 8:\n          _context2.prev = 8;\n          _context2.t0 = _context2[\"catch\"](4);\n          _didIteratorError = true;\n          _iteratorError = _context2.t0;\n\n        case 12:\n          _context2.prev = 12;\n          _context2.prev = 13;\n\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n\n        case 15:\n          _context2.prev = 15;\n\n          if (!_didIteratorError) {\n            _context2.next = 18;\n            break;\n          }\n\n          throw _iteratorError;\n\n        case 18:\n          return _context2.finish(15);\n\n        case 19:\n          return _context2.finish(12);\n\n        case 20:\n          filterDet = updateObject(action.content, {\n            category: categs\n          });\n          filterCnt = _JSON$stringify(filterDet);\n\n          if (action.content.apply) {\n            _context2.next = 38;\n            break;\n          }\n\n          _context2.prev = 23;\n          _context2.next = 26;\n          return put(actions.filterContentStart());\n\n        case 26:\n          _context2.next = 28;\n          return axios.post('/header', {\n            filterCnt: filterCnt,\n            model: 'question'\n          }, {\n            headers: {\n              'data-categ': 'cntSearch'\n            }\n          });\n\n        case 28:\n          response = _context2.sent;\n          _context2.next = 31;\n          return put(actions.filterContent(response.data));\n\n        case 31:\n          _context2.next = 37;\n          break;\n\n        case 33:\n          _context2.prev = 33;\n          _context2.t1 = _context2[\"catch\"](23);\n          _context2.next = 37;\n          return put(actions.filterContentFail(_context2.t1));\n\n        case 37:\n          return _context2.abrupt(\"return\");\n\n        case 38:\n          _context2.next = 40;\n          return put(actions.filterPost(filterCnt));\n\n        case 40:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2, null, [[4, 8, 12, 20], [13,, 15, 19], [23, 33]]);\n}","map":{"version":3,"sources":["C:/Users/g/my-sg final deploy/react/index/store/sagas/filter.js"],"names":["fetchCntCategInitSaga","filterContentInitSaga","put","actions","axios","updateObject","action","categ","length","fetchCntCateg","post","headers","response","data","categs","content","category","push","filterDet","filterCnt","apply","filterContentStart","model","filterContent","filterContentFail","filterPost"],"mappings":";;;;;;;yBAMiBA,qB;;;yBAWAC,qB;;AAjBjB,SAASC,GAAT,QAAoB,oBAApB;AAEA,OAAO,KAAKC,OAAZ,MAAyB,2BAAzB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,SAASC,YAAT,QAA6B,sBAA7B;AAEA,OAAO,SAAUL,qBAAV,CAAgCM,MAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,gBAEKA,MAAM,CAACC,KAAP,IAAgBD,MAAM,CAACC,KAAP,CAAaC,MAAb,GAAsB,CAF3C;AAAA;AAAA;AAAA;;AAAA;AAGK,iBAAMN,GAAG,CAAEC,OAAO,CAACM,aAAR,oBAA0BH,MAAM,CAACC,KAAjC,EAAF,CAAT;;AAHL;AAAA;AAAA;;AAAA;AAAA;AAKoB,iBAAMH,KAAK,CAACM,IAAN,CAAW,SAAX,EAAsB;AAACH,YAAAA,KAAK,EAAE;AAAR,WAAtB,EAA2C;AAACI,YAAAA,OAAO,EAAE;AAAC,4BAAa;AAAd;AAAV,WAA3C,CAAN;;AALpB;AAKSC,UAAAA,QALT;AAAA;AAMK,iBAAMV,GAAG,CAACC,OAAO,CAACM,aAAR,CAAsBG,QAAQ,CAACC,IAA/B,CAAD,CAAT;;AANL;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWP,OAAO,SAAUZ,qBAAV,CAAgCK,MAAhC;AAAA;;AAAA;AAAA;AAAA;AAAA;AACCQ,UAAAA,MADD,GACU,EADV;AAAA;AAAA;AAAA;AAAA;;AAEH,wCAAkBR,MAAM,CAACS,OAAP,CAAeC,QAAjC,qGAA2C;AAAlCT,YAAAA,KAAkC;AACvCO,YAAAA,MAAM,CAACG,IAAP,CAAYV,KAAK,CAACS,QAAlB;AACH;;AAJE;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAKCE,UAAAA,SALD,GAKab,YAAY,CAACC,MAAM,CAACS,OAAR,EAAiB;AAACC,YAAAA,QAAQ,EAAEF;AAAX,WAAjB,CALzB;AAMCK,UAAAA,SAND,GAMa,gBAAeD,SAAf,CANb;;AAAA,cAOCZ,MAAM,CAACS,OAAP,CAAeK,KAPhB;AAAA;AAAA;AAAA;;AAAA;AAAA;AASK,iBAAMlB,GAAG,CAACC,OAAO,CAACkB,kBAAR,EAAD,CAAT;;AATL;AAAA;AAUoB,iBAAMjB,KAAK,CAACM,IAAN,CAAW,SAAX,EAAqB;AAACS,YAAAA,SAAS,EAATA,SAAD;AAAYG,YAAAA,KAAK,EAAE;AAAnB,WAArB,EAAoD;AAACX,YAAAA,OAAO,EAAE;AAAC,4BAAa;AAAd;AAAV,WAApD,CAAN;;AAVpB;AAUSC,UAAAA,QAVT;AAAA;AAWK,iBAAMV,GAAG,CAACC,OAAO,CAACoB,aAAR,CAAsBX,QAAQ,CAACC,IAA/B,CAAD,CAAT;;AAXL;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAaK,iBAAMX,GAAG,CAAEC,OAAO,CAACqB,iBAAR,cAAF,CAAT;;AAbL;AAAA;;AAAA;AAAA;AAiBH,iBAAMtB,GAAG,CAACC,OAAO,CAACsB,UAAR,CAAmBN,SAAnB,CAAD,CAAT;;AAjBG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import { put } from 'redux-saga/effects';\r\n\r\nimport * as actions from '../../store/actions/index';\r\nimport axios from '../../axios';\r\nimport { updateObject } from '../../shared/utility';\r\n\r\nexport function* fetchCntCategInitSaga(action) {\r\n    try {\r\n        if (action.categ && action.categ.length > 0) {\r\n            yield put (actions.fetchCntCateg([...action.categ]))\r\n        } else {\r\n            let response = yield axios.post('/header', {categ: 'question'}, {headers: {'data-categ':'category'}});\r\n            yield put(actions.fetchCntCateg(response.data));\r\n        }\r\n    } catch(e){}\r\n}\r\n\r\nexport function* filterContentInitSaga(action) {\r\n    let categs = [];\r\n    for (let categ of action.content.category) {\r\n        categs.push(categ.category);\r\n    }\r\n    let filterDet = updateObject(action.content, {category: categs});\r\n    let filterCnt = JSON.stringify(filterDet);\r\n    if(!action.content.apply) {\r\n        try {\r\n            yield put(actions.filterContentStart());\r\n            let response = yield axios.post('/header',{filterCnt, model: 'question'},{headers: {'data-categ':'cntSearch'}});\r\n            yield put(actions.filterContent(response.data));\r\n        } catch(err) {\r\n            yield put (actions.filterContentFail(err))\r\n        }\r\n        return\r\n    }\r\n    yield put(actions.filterPost(filterCnt));\r\n}"]},"metadata":{},"sourceType":"module"}