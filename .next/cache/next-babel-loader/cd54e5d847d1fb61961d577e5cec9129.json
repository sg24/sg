{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport * as actions from '../../../store/actions/index';\n\nvar NavigationInput =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(NavigationInput, _Component);\n\n  function NavigationInput() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, NavigationInput);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(NavigationInput)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      value: '',\n      isExpand: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"expandFormHandler\", function () {\n      _this.props.onFormExpand();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"filterContentHandler\", function (event) {\n      _this.setState({\n        value: event.target.value\n      });\n\n      var inputElem = window.document.querySelector('.site-header__form');\n      var inputLastElem = window.document.querySelector('.site-header__user');\n      var updateInputLastElem = window.innerWidth - inputLastElem.offsetLeft - 30;\n      var updateInputElem = inputElem.offsetLeft;\n\n      if (window.innerWidth > 1200) {\n        updateInputElem = 220;\n        updateInputLastElem = 100;\n      }\n\n      _this.props.onHeaderFilter(event.target.value, updateInputElem, updateInputLastElem);\n\n      if (!_this.state.isExpand) {\n        _this.setState({\n          isExpand: true\n        });\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(NavigationInput, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (!this.props.expand && this.state.isExpand) {\n        this.setState({\n          value: '',\n          isExpand: false\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var formClass = [\"site-header__form\"];\n\n      if (this.props.expand) {\n        formClass.push(\"site-header__form--expand\");\n      }\n\n      return __jsx(\"form\", {\n        className: formClass.join(' ')\n      }, __jsx(\"input\", {\n        type: \"text\",\n        className: \"site-header__form--input\",\n        autoComplete: \"on\",\n        onClick: this.expandFormHandler,\n        onChange: this.filterContentHandler,\n        value: this.state.value\n      }), __jsx(\"div\", {\n        className: \"site-header__form--search\"\n      }, __jsx(FontAwesomeIcon, {\n        icon: ['fas', 'search'],\n        className: \"icon icon__site-header--search\"\n      })));\n    }\n  }]);\n\n  return NavigationInput;\n}(Component);\n\n;\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    expand: state.header.expand\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onFormExpand: function onFormExpand() {\n      return dispatch(actions.headerFormExpand());\n    },\n    onHeaderFilter: function onHeaderFilter(filterCnt, filterPos, filterLastpos) {\n      return dispatch(actions.headerFilterInit(filterCnt, filterPos, filterLastpos));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NavigationInput);","map":{"version":3,"sources":["C:/Users/g/my-sg final deploy/react/index/containers/Header/NavigationInput/NavigationInput.js"],"names":["React","Component","connect","FontAwesomeIcon","actions","NavigationInput","value","isExpand","props","onFormExpand","event","setState","target","inputElem","window","document","querySelector","inputLastElem","updateInputLastElem","innerWidth","offsetLeft","updateInputElem","onHeaderFilter","state","expand","formClass","push","join","expandFormHandler","filterContentHandler","mapStateToProps","header","mapDispatchToProps","dispatch","headerFormExpand","filterCnt","filterPos","filterLastpos","headerFilterInit"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,eAAT,QAAgC,gCAAhC;AAEA,OAAO,KAAKC,OAAZ,MAAyB,8BAAzB;;IAEMC,e;;;;;;;;;;;;;;;;;;4DACM;AACJC,MAAAA,KAAK,EAAE,EADH;AAEJC,MAAAA,QAAQ,EAAE;AAFN,K;;wEAWY,YAAM;AACtB,YAAKC,KAAL,CAAWC,YAAX;AACH,K;;2EAEsB,UAACC,KAAD,EAAW;AAC9B,YAAKC,QAAL,CAAc;AAACL,QAAAA,KAAK,EAAEI,KAAK,CAACE,MAAN,CAAaN;AAArB,OAAd;;AACA,UAAIO,SAAS,GAAGC,MAAM,CAACC,QAAP,CAAgBC,aAAhB,CAA8B,oBAA9B,CAAhB;AACA,UAAIC,aAAa,GAAGH,MAAM,CAACC,QAAP,CAAgBC,aAAhB,CAA8B,oBAA9B,CAApB;AACA,UAAIE,mBAAmB,GAAGJ,MAAM,CAACK,UAAP,GAAoBF,aAAa,CAACG,UAAlC,GAA+C,EAAzE;AACA,UAAIC,eAAe,GAAGR,SAAS,CAACO,UAAhC;;AACA,UAAIN,MAAM,CAACK,UAAP,GAAoB,IAAxB,EAA8B;AAC1BE,QAAAA,eAAe,GAAG,GAAlB;AACAH,QAAAA,mBAAmB,GAAG,GAAtB;AACH;;AACD,YAAKV,KAAL,CAAWc,cAAX,CAA0BZ,KAAK,CAACE,MAAN,CAAaN,KAAvC,EAA8Ce,eAA9C,EAA+DH,mBAA/D;;AACA,UAAI,CAAC,MAAKK,KAAL,CAAWhB,QAAhB,EAA0B;AACtB,cAAKI,QAAL,CAAc;AAACJ,UAAAA,QAAQ,EAAE;AAAX,SAAd;AACH;AACJ,K;;;;;;;yCAxBoB;AACjB,UAAI,CAAC,KAAKC,KAAL,CAAWgB,MAAZ,IAAsB,KAAKD,KAAL,CAAWhB,QAArC,EAA+C;AAC3C,aAAKI,QAAL,CAAc;AAACL,UAAAA,KAAK,EAAE,EAAR;AAAYC,UAAAA,QAAQ,EAAE;AAAtB,SAAd;AACH;AACJ;;;6BAsBQ;AACL,UAAIkB,SAAS,GAAG,CAAC,mBAAD,CAAhB;;AAEA,UAAI,KAAKjB,KAAL,CAAWgB,MAAf,EAAuB;AACnBC,QAAAA,SAAS,CAACC,IAAV,CAAe,2BAAf;AACH;;AAED,aACI;AAAM,QAAA,SAAS,EAAED,SAAS,CAACE,IAAV,CAAe,GAAf;AAAjB,SACI;AAAO,QAAA,IAAI,EAAC,MAAZ;AACI,QAAA,SAAS,EAAC,0BADd;AAEI,QAAA,YAAY,EAAC,IAFjB;AAGI,QAAA,OAAO,EAAE,KAAKC,iBAHlB;AAII,QAAA,QAAQ,EAAE,KAAKC,oBAJnB;AAKI,QAAA,KAAK,EAAE,KAAKN,KAAL,CAAWjB;AALtB,QADJ,EAOI;AAAK,QAAA,SAAS,EAAC;AAAf,SACI,MAAC,eAAD;AACI,QAAA,IAAI,EAAE,CAAC,KAAD,EAAQ,QAAR,CADV;AAEI,QAAA,SAAS,EAAC;AAFd,QADJ,CAPJ,CADJ;AAeH;;;;EAtDyBL,S;;AAuD7B;;AAED,IAAM6B,eAAe,GAAG,SAAlBA,eAAkB,CAAAP,KAAK,EAAI;AAC7B,SAAO;AACHC,IAAAA,MAAM,EAAED,KAAK,CAACQ,MAAN,CAAaP;AADlB,GAAP;AAGH,CAJD;;AAMA,IAAMQ,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAC,QAAQ,EAAI;AACnC,SAAO;AACHxB,IAAAA,YAAY,EAAE;AAAA,aAAMwB,QAAQ,CAAC7B,OAAO,CAAC8B,gBAAR,EAAD,CAAd;AAAA,KADX;AAEHZ,IAAAA,cAAc,EAAE,wBAACa,SAAD,EAAYC,SAAZ,EAAuBC,aAAvB;AAAA,aAAyCJ,QAAQ,CAAC7B,OAAO,CAACkC,gBAAR,CAAyBH,SAAzB,EAAoCC,SAApC,EAA+CC,aAA/C,CAAD,CAAjD;AAAA;AAFb,GAAP;AAIH,CALD;;AAMA,eAAenC,OAAO,CAAC4B,eAAD,EAAkBE,kBAAlB,CAAP,CAA6C3B,eAA7C,CAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nimport * as actions from '../../../store/actions/index';\r\n\r\nclass NavigationInput extends Component {\r\n    state = {\r\n        value: '',\r\n        isExpand: false\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (!this.props.expand && this.state.isExpand) {\r\n            this.setState({value: '', isExpand: false})\r\n        }\r\n    }\r\n\r\n    expandFormHandler = () => {\r\n        this.props.onFormExpand();\r\n    }\r\n\r\n    filterContentHandler = (event) => {\r\n        this.setState({value: event.target.value});\r\n        let inputElem = window.document.querySelector('.site-header__form');\r\n        let inputLastElem = window.document.querySelector('.site-header__user');\r\n        let updateInputLastElem = window.innerWidth - inputLastElem.offsetLeft - 30;\r\n        let updateInputElem = inputElem.offsetLeft;\r\n        if (window.innerWidth > 1200) {\r\n            updateInputElem = 220;\r\n            updateInputLastElem = 100; \r\n        }\r\n        this.props.onHeaderFilter(event.target.value, updateInputElem, updateInputLastElem);\r\n        if (!this.state.isExpand) {\r\n            this.setState({isExpand: true})\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let formClass = [\"site-header__form\"];\r\n\r\n        if (this.props.expand) {\r\n            formClass.push(\"site-header__form--expand\")\r\n        }\r\n\r\n        return (\r\n            <form className={formClass.join(' ')}>\r\n                <input type=\"text\" \r\n                    className=\"site-header__form--input\" \r\n                    autoComplete=\"on\" \r\n                    onClick={this.expandFormHandler}\r\n                    onChange={this.filterContentHandler}\r\n                    value={this.state.value}/>\r\n                <div className=\"site-header__form--search\">\r\n                    <FontAwesomeIcon \r\n                        icon={['fas', 'search']} \r\n                        className=\"icon icon__site-header--search\" />\r\n                </div>\r\n            </form>\r\n        );\r\n    }\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        expand: state.header.expand\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        onFormExpand: () => dispatch(actions.headerFormExpand()),\r\n        onHeaderFilter: (filterCnt, filterPos, filterLastpos) => dispatch(actions.headerFilterInit(filterCnt, filterPos, filterLastpos))\r\n    };\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(NavigationInput);"]},"metadata":{},"sourceType":"module"}