{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Avatar from 'react-avatar';\nimport './UserOption.css';\nimport * as actions from '../../../store/actions/index';\nimport Aux from '../../../hoc/Auxs/Aux';\n\nvar UserOption =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UserOption, _Component);\n\n  function UserOption() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, UserOption);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(UserOption)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      show: false,\n      \"default\": false,\n      id: document.cookie.replace(/(?:(?:^|.*;\\s*)id\\s*\\=\\s*([^;]*).*$)|^.*$/, \"$1\"),\n      showAddOpt: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"showUserOptionHandler\", function () {\n      _this.props.onShowUserOption();\n\n      _this.setState(function (prevState, props) {\n        return {\n          \"default\": false,\n          show: prevState.showAddOpt ? true : !prevState.show,\n          showAddOpt: false\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"showAddCntHandler\", function () {\n      _this.props.onShowUserOption();\n\n      _this.setState(function (prevState, Props) {\n        return {\n          showAddOpt: true,\n          \"default\": false,\n          show: prevState.showAddOpt ? !prevState.show : true\n        };\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(UserOption, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (this.state.show && !this.state[\"default\"] && this.props.hidUserOption) {\n        this.setState({\n          \"default\": true,\n          show: false\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var userDetClass = [\"site-header__user--det\"];\n\n      var userImg = __jsx(\"img\", {\n        className: \"site-header__user--img\",\n        src: this.props.img,\n        alt: this.props.username\n      });\n\n      var profile = null;\n\n      if (this.state.show) {\n        userDetClass.push(\"site-header__user--det__visible\");\n      }\n\n      ;\n\n      if (this.props.username && !this.props.img) {\n        userImg = __jsx(Avatar, {\n          name: this.props.username,\n          size: \"30\",\n          round: true\n        });\n      }\n\n      if (this.state.id) {\n        profile = __jsx(\"li\", {\n          className: \"site-header__user--det__portal\"\n        }, __jsx(\"a\", {\n          href: \"/user/profile/\".concat(this.state.id)\n        }, __jsx(\"div\", null, __jsx(FontAwesomeIcon, {\n          icon: ['fas', 'user'],\n          className: \"icon icon__site-header--user__set\"\n        })), \"My Profile\"));\n      }\n\n      var cnt = __jsx(Aux, null, profile, __jsx(\"li\", {\n        className: \"site-header__user--det__logout\"\n      }, __jsx(\"a\", {\n        href: \"/auth/logout\"\n      }, __jsx(\"div\", null, __jsx(FontAwesomeIcon, {\n        icon: ['fas', 'angle-double-right'],\n        className: \"icon icon__site-header--user__log\"\n      })), \"Logout\")));\n\n      if (this.state.showAddOpt) {\n        cnt = __jsx(Aux, null, __jsx(\"li\", {\n          className: \"site-header__user--det__logout\"\n        }, __jsx(\"a\", {\n          href: \"/add/post\"\n        }, __jsx(\"div\", null, __jsx(FontAwesomeIcon, {\n          icon: ['fas', 'newspaper']\n        })), \"News Feed\")), __jsx(\"li\", {\n          className: \"site-header__user--det__logout\"\n        }, __jsx(\"a\", {\n          href: \"/add/question\"\n        }, __jsx(\"div\", null, __jsx(FontAwesomeIcon, {\n          icon: ['fas', 'question']\n        })), \"Question\")), __jsx(\"li\", {\n          className: \"site-header__user--det__logout\"\n        }, __jsx(\"a\", {\n          href: \"/question\"\n        }, __jsx(\"div\", null, __jsx(FontAwesomeIcon, {\n          icon: ['fas', 'clone']\n        })), \"Answer\")), __jsx(\"li\", {\n          className: \"site-header__user--det__logout\"\n        }, __jsx(\"a\", {\n          href: \"/add/poet\"\n        }, __jsx(\"div\", null, __jsx(FontAwesomeIcon, {\n          icon: ['fas', 'book']\n        })), \"Writer\")));\n      }\n\n      return __jsx(\"div\", {\n        className: \"site-header__user\"\n      }, __jsx(\"div\", {\n        className: \"site-header__user--det__addNew\",\n        onClick: this.showAddCntHandler\n      }, __jsx(FontAwesomeIcon, {\n        icon: ['fas', 'plus']\n      })), __jsx(\"div\", null, userImg), __jsx(\"ul\", {\n        className: userDetClass.join(' ')\n      }, cnt), __jsx(\"div\", {\n        className: \"site-header__user--det__opt\",\n        onClick: this.showUserOptionHandler\n      }, __jsx(FontAwesomeIcon, {\n        icon: ['fas', 'caret-down']\n      })));\n    }\n  }]);\n\n  return UserOption;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    hidUserOption: state.header.hidUserOption,\n    img: state.auth.img,\n    username: state.auth.username\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onShowUserOption: function onShowUserOption() {\n      return dispatch(actions.showUserOption());\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserOption);","map":{"version":3,"sources":["C:/Users/g/my-sg final deploy/react/index/containers/Header/UserOption/UserOption.js"],"names":["React","Component","connect","FontAwesomeIcon","Avatar","actions","Aux","UserOption","show","id","document","cookie","replace","showAddOpt","props","onShowUserOption","setState","prevState","Props","state","hidUserOption","userDetClass","userImg","img","username","profile","push","cnt","showAddCntHandler","join","showUserOptionHandler","mapStateToProps","header","auth","mapDispatchToProps","dispatch","showUserOption"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport Avatar from 'react-avatar';\r\n\r\nimport './UserOption.css';\r\nimport * as actions from '../../../store/actions/index';\r\nimport Aux from '../../../hoc/Auxs/Aux';\r\n\r\nclass UserOption extends Component {\r\n    state ={\r\n        show: false,\r\n        default: false,\r\n        id: document.cookie.replace(/(?:(?:^|.*;\\s*)id\\s*\\=\\s*([^;]*).*$)|^.*$/, \"$1\"),\r\n        showAddOpt: false\r\n    };\r\n\r\n    componentDidUpdate() {\r\n        if (this.state.show && !this.state.default && this.props.hidUserOption) {\r\n            this.setState({\r\n                default: true,\r\n                show: false\r\n            });\r\n        }\r\n    }\r\n\r\n    showUserOptionHandler = () => {\r\n        this.props.onShowUserOption();\r\n        this.setState((prevState, props) => {\r\n            return {\r\n                default: false,\r\n                show: prevState.showAddOpt ? true : !prevState.show,\r\n                showAddOpt: false\r\n            }\r\n        }) \r\n    }\r\n\r\n    showAddCntHandler = () => {\r\n        this.props.onShowUserOption();\r\n        this.setState((prevState, Props) => {\r\n            return {\r\n                showAddOpt: true,\r\n                default: false,\r\n                show:  prevState.showAddOpt ? !prevState.show : true,\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        let userDetClass = [\"site-header__user--det\"];\r\n        let userImg = <img className=\"site-header__user--img\" src={this.props.img} alt={this.props.username}/>;\r\n        let profile = null;\r\n\r\n        if (this.state.show) {\r\n            userDetClass.push(\"site-header__user--det__visible\")\r\n        };\r\n\r\n        if (this.props.username && !this.props.img) {\r\n            userImg = <Avatar  name={this.props.username} size='30' round />;\r\n        }\r\n\r\n        if (this.state.id){\r\n            profile = (\r\n                <li className=\"site-header__user--det__portal\">\r\n                    <a href={`/user/profile/${this.state.id}`}>\r\n                        <div>\r\n                            <FontAwesomeIcon \r\n                                icon={['fas', 'user']} \r\n                                className=\"icon icon__site-header--user__set\" />\r\n                        </div>\r\n                        My Profile\r\n                        </a>  \r\n                </li>\r\n            )\r\n        }\r\n\r\n        let cnt = (\r\n            <Aux>\r\n                { profile }\r\n                {/* <li className=\"site-header__user--det__acc\">\r\n                    <a href=\"/acc/set\">\r\n                        <div>\r\n                            <FontAwesomeIcon \r\n                                icon={['fas', 'cogs']} \r\n                                className=\"icon icon__site-header--user__set\" />\r\n                        </div>\r\n                        Account Settings\r\n                    </a>\r\n                </li>  */}\r\n                <li className=\"site-header__user--det__logout\">\r\n                    <a href=\"/auth/logout\">\r\n                        <div>\r\n                            <FontAwesomeIcon \r\n                                icon={['fas', 'angle-double-right']} \r\n                                className=\"icon icon__site-header--user__log\" /> \r\n                        </div>\r\n                        Logout\r\n                    </a>\r\n                </li>\r\n            </Aux>\r\n        )\r\n\r\n        if (this.state.showAddOpt) {\r\n            cnt = (\r\n            <Aux>\r\n                <li className=\"site-header__user--det__logout\">\r\n                    <a href=\"/add/post\">\r\n                        <div>\r\n                            <FontAwesomeIcon \r\n                                icon={['fas', 'newspaper']} /> \r\n                        </div>\r\n                        News Feed\r\n                    </a>\r\n                </li>\r\n                <li className=\"site-header__user--det__logout\">\r\n                    <a href=\"/add/question\">\r\n                        <div>\r\n                            <FontAwesomeIcon \r\n                                icon={['fas', 'question']}  /> \r\n                        </div>\r\n                        Question\r\n                    </a>\r\n                </li>\r\n                <li className=\"site-header__user--det__logout\">\r\n                    <a href=\"/question\">\r\n                        <div>\r\n                            <FontAwesomeIcon \r\n                                icon={['fas', 'clone']}  /> \r\n                        </div>\r\n                        Answer\r\n                    </a>\r\n                </li>\r\n                <li className=\"site-header__user--det__logout\">\r\n                    <a href=\"/add/poet\">\r\n                        <div>\r\n                            <FontAwesomeIcon \r\n                                icon={['fas', 'book']}  /> \r\n                        </div>\r\n                        Writer\r\n                    </a>\r\n                </li>\r\n            </Aux>\r\n            )    \r\n        }\r\n\r\n        return ( \r\n            <div className=\"site-header__user\">\r\n                <div \r\n                    className=\"site-header__user--det__addNew\"\r\n                    onClick={this.showAddCntHandler}>\r\n                    <FontAwesomeIcon \r\n                        icon={['fas', 'plus']} />\r\n                </div>\r\n               <div>\r\n                    { userImg }\r\n                </div>\r\n                <ul className={userDetClass.join(' ')}>\r\n                    { cnt }\r\n                </ul>\r\n                <div \r\n                    className=\"site-header__user--det__opt\"\r\n                    onClick={this.showUserOptionHandler}>\r\n                    <FontAwesomeIcon \r\n                        icon={['fas', 'caret-down']} />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        hidUserOption: state.header.hidUserOption,\r\n        img: state.auth.img,\r\n        username: state.auth.username\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        onShowUserOption: () => dispatch(actions.showUserOption())\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserOption);"]},"metadata":{},"sourceType":"module"}