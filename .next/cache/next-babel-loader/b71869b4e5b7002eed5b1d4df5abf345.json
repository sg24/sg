{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Avatar from 'react-avatar';\nimport './UserOption.css';\nimport * as actions from '../../../store/actions/index';\nimport Aux from '../../../hoc/Auxs/Aux';\n\nclass UserOption extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      show: false,\n      default: false,\n      id: document.cookie.replace(/(?:(?:^|.*;\\s*)id\\s*\\=\\s*([^;]*).*$)|^.*$/, \"$1\"),\n      showAddOpt: false\n    });\n\n    _defineProperty(this, \"showUserOptionHandler\", () => {\n      this.props.onShowUserOption();\n      this.setState((prevState, props) => {\n        return {\n          default: false,\n          show: prevState.showAddOpt ? true : !prevState.show,\n          showAddOpt: false\n        };\n      });\n    });\n\n    _defineProperty(this, \"showAddCntHandler\", () => {\n      this.props.onShowUserOption();\n      this.setState((prevState, Props) => {\n        return {\n          showAddOpt: true,\n          default: false,\n          show: prevState.showAddOpt ? !prevState.show : true\n        };\n      });\n    });\n  }\n\n  componentDidUpdate() {\n    if (this.state.show && !this.state.default && this.props.hidUserOption) {\n      this.setState({\n        default: true,\n        show: false\n      });\n    }\n  }\n\n  render() {\n    let userDetClass = [\"site-header__user--det\"];\n\n    let userImg = __jsx(\"img\", {\n      className: \"site-header__user--img\",\n      src: this.props.img,\n      alt: this.props.username\n    });\n\n    let profile = null;\n\n    if (this.state.show) {\n      userDetClass.push(\"site-header__user--det__visible\");\n    }\n\n    ;\n\n    if (this.props.username && !this.props.img) {\n      userImg = __jsx(Avatar, {\n        name: this.props.username,\n        size: \"30\",\n        round: true\n      });\n    }\n\n    if (this.state.id) {\n      profile = __jsx(\"li\", {\n        className: \"site-header__user--det__portal\"\n      }, __jsx(\"a\", {\n        href: `/user/profile/${this.state.id}`\n      }, __jsx(\"div\", null, __jsx(FontAwesomeIcon, {\n        icon: ['fas', 'user'],\n        className: \"icon icon__site-header--user__set\"\n      })), \"My Profile\"));\n    }\n\n    let cnt = __jsx(Aux, null, profile, __jsx(\"li\", {\n      className: \"site-header__user--det__logout\"\n    }, __jsx(\"a\", {\n      href: \"/auth/logout\"\n    }, __jsx(\"div\", null, __jsx(FontAwesomeIcon, {\n      icon: ['fas', 'angle-double-right'],\n      className: \"icon icon__site-header--user__log\"\n    })), \"Logout\")));\n\n    if (this.state.showAddOpt) {\n      cnt = __jsx(Aux, null, __jsx(\"li\", {\n        className: \"site-header__user--det__logout\"\n      }, __jsx(\"a\", {\n        href: \"/add/post\"\n      }, __jsx(\"div\", null, __jsx(FontAwesomeIcon, {\n        icon: ['fas', 'newspaper']\n      })), \"News Feed\")), __jsx(\"li\", {\n        className: \"site-header__user--det__logout\"\n      }, __jsx(\"a\", {\n        href: \"/add/question\"\n      }, __jsx(\"div\", null, __jsx(FontAwesomeIcon, {\n        icon: ['fas', 'question']\n      })), \"Question\")), __jsx(\"li\", {\n        className: \"site-header__user--det__logout\"\n      }, __jsx(\"a\", {\n        href: \"/question\"\n      }, __jsx(\"div\", null, __jsx(FontAwesomeIcon, {\n        icon: ['fas', 'clone']\n      })), \"Answer\")), __jsx(\"li\", {\n        className: \"site-header__user--det__logout\"\n      }, __jsx(\"a\", {\n        href: \"/add/poet\"\n      }, __jsx(\"div\", null, __jsx(FontAwesomeIcon, {\n        icon: ['fas', 'book']\n      })), \"Writer\")));\n    }\n\n    return __jsx(\"div\", {\n      className: \"site-header__user\"\n    }, __jsx(\"div\", {\n      className: \"site-header__user--det__addNew\",\n      onClick: this.showAddCntHandler\n    }, __jsx(FontAwesomeIcon, {\n      icon: ['fas', 'plus']\n    })), __jsx(\"div\", null, userImg), __jsx(\"ul\", {\n      className: userDetClass.join(' ')\n    }, cnt), __jsx(\"div\", {\n      className: \"site-header__user--det__opt\",\n      onClick: this.showUserOptionHandler\n    }, __jsx(FontAwesomeIcon, {\n      icon: ['fas', 'caret-down']\n    })));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    hidUserOption: state.header.hidUserOption,\n    img: state.auth.img,\n    username: state.auth.username\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onShowUserOption: () => dispatch(actions.showUserOption())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserOption);","map":null,"metadata":{},"sourceType":"module"}