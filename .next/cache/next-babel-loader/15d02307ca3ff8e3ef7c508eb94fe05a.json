{"ast":null,"code":"import * as actionTypes from '../actions/actionTypes';\nimport { updateObject, changeMode } from '../../shared/utility';\nconst initialState = {\n  cnts: null,\n  cntErr: null,\n  skipCnt: null,\n  cntTotal: null,\n  showLoader: false,\n  changedFav: [],\n  favChange: null,\n  postVideo: {\n    id: null\n  },\n  videoErr: null,\n  filterDet: null,\n  modelType: null,\n  changeCnt: false,\n  changeCntErr: null,\n  changeCntStart: null\n};\n\nconst fetchCnt = (state, action) => {\n  let cnts = !state.cnts ? action.cnt : state.cnts.concat(...action.cnt);\n  return updateObject(state, {\n    cnts,\n    skipCnt: action.skipCnt,\n    cntTotal: action.cntTotal,\n    showLoader: false\n  });\n};\n\nconst fetchCntReset = (state, action) => {\n  return updateObject(state, {\n    cnts: null,\n    skipCnt: null,\n    cntTotal: null,\n    curTab: null,\n    showLoader: false\n  });\n};\n\nconst fetchCntStart = (state, action) => {\n  return updateObject(state, {\n    showLoader: true\n  });\n};\n\nconst fetchPostFail = (state, action) => {\n  return updateObject(state, {\n    cntErr: action.err,\n    showLoader: false\n  });\n};\n\nconst changeCntStart = (state, action) => {\n  return updateObject(state, {\n    changeCntStart: {\n      title: action.title,\n      id: action.id,\n      det: action.det,\n      modelType: action.modelType\n    },\n    changeCntErr: null\n  });\n};\n\nconst changeCntCancel = (state, action) => {\n  return updateObject(state, {\n    changeCntStart: null,\n    changeCntErr: null,\n    changeCnt: false\n  });\n};\n\nconst changeCntReset = (state, action) => {\n  let cnts = [...state.cnts];\n\n  if (action.changed) {\n    if (state.changeCntStart.det === 'addUser') {\n      let updateCnts = changeMode(cnts, state.changeCntStart, 'pending', true);\n      return updateObject(state, {\n        cnts: updateCnts,\n        changeCntStart: null,\n        changeCntErr: null,\n        changeCnt: false\n      });\n    }\n\n    if (state.changeCntStart.det === 'acceptUser') {\n      let updateCnts = changeMode(cnts, state.changeCntStart, 'accept', true);\n      return updateObject(state, {\n        cnts: updateCnts,\n        changeCntStart: null,\n        changeCntErr: null,\n        changeCnt: false\n      });\n    }\n\n    if (state.changeCntStart.det === 'rejUser') {\n      let updateCnts = changeMode(cnts, state.changeCntStart, 'request', false);\n      return updateObject(state, {\n        cnts: updateCnts,\n        changeCntStart: null,\n        changeCntErr: null,\n        changeCnt: false\n      });\n    }\n\n    if (state.changeCntStart.det === 'cancelReq') {\n      let updateCnts = changeMode(cnts, state.changeCntStart, 'pending', false);\n      return updateObject(state, {\n        cnts: updateCnts,\n        changeCntStart: null,\n        changeCntErr: null,\n        changeCnt: false\n      });\n    }\n\n    if (state.changeCntStart.det === 'unfriend') {\n      let updateCnts = changeMode(cnts, state.changeCntStart, 'accept', false);\n      return updateObject(state, {\n        cnts: updateCnts,\n        changeCntStart: null,\n        changeCntErr: null,\n        changeCnt: false\n      });\n    }\n\n    if (state.changeCntStart.det === 'blockUser') {\n      let updateCnt = cnts.filter(cnt => cnt.id !== state.changeCntStart.id);\n      return updateObject(state, {\n        cnts: updateCnt,\n        changeCntStart: null,\n        changeCntErr: null,\n        changeCnt: false\n      });\n    }\n\n    let updateCnt = cnts.filter(cnt => cnt._id !== state.changeCntStart.id);\n    return updateObject(state, {\n      cnts: updateCnt,\n      changeCntStart: null,\n      changeCntErr: null,\n      changeCnt: false\n    });\n  }\n\n  return updateObject(state, {\n    cnts,\n    changeCntStart: null,\n    changeCntErr: null,\n    changeCnt: false\n  });\n};\n\nconst changeCntFail = (state, action) => {\n  return updateObject(state, {\n    changeCntErr: action.err\n  });\n};\n\nconst changeCnt = (state, action) => {\n  return updateObject(state, {\n    changeCnt: true\n  });\n};\n\nconst fetchVideo = (state, action) => {\n  return updateObject(state, {\n    postVideo: {\n      id: action.id,\n      url: action.url\n    }\n  });\n};\n\nconst changeFavPtStart = (state, action) => {\n  return updateObject(state, {\n    favChange: {\n      id: action.id,\n      isLiked: action.isLiked\n    }\n  });\n};\n\nconst changeFavPtFail = (state, action) => {\n  return updateObject(state, {\n    favChange: null\n  });\n};\n\nconst changeFav = (state, action) => {\n  return updateObject(state, {\n    changedFav: action.changedFav,\n    favChange: null\n  });\n};\n\nconst filterPost = (state, action) => {\n  return updateObject(state, {\n    filterDet: action.filterDet\n  });\n};\n\nconst resetModel = (state, action) => {\n  return updateObject(state, {\n    cntErr: null,\n    changeCntStart: null,\n    changeCntErr: null,\n    changeCnt: false\n  });\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.FETCH_CNT:\n      return fetchCnt(state, action);\n\n    case actionTypes.FETCH_CNT_START:\n      return fetchCntStart(state, action);\n\n    case actionTypes.FETCH_CNT_RESET:\n      return fetchCntReset(state, action);\n\n    case actionTypes.FETCH_CNT_FAIL:\n      return fetchPostFail(state, action);\n\n    case actionTypes.CHANGE_CNT_START:\n      return changeCntStart(state, action);\n\n    case actionTypes.CHANGE_CNT_CANCEL:\n      return changeCntCancel(state, action);\n\n    case actionTypes.CHANGE_CNT_RESET:\n      return changeCntReset(state, action);\n\n    case actionTypes.CHANGE_CNT_FAIL:\n      return changeCntFail(state, action);\n\n    case actionTypes.CHANGE_CNT:\n      return changeCnt(state, action);\n\n    case actionTypes.FETCH_VIDEO:\n      return fetchVideo(state, action);\n\n    case actionTypes.CHANGE_FAVORITE:\n      return changeFav(state, action);\n\n    case actionTypes.CHANGE_FAVORITE_PT_START:\n      return changeFavPtStart(state, action);\n\n    case actionTypes.CHANGE_FAVORITE_PT_FAIL:\n      return changeFavPtFail(state, action);\n\n    case actionTypes.FILTER_POST:\n      return filterPost(state, action);\n\n    case actionTypes.RESET_MODEL:\n      return resetModel(state, action);\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["C:/Users/g/my-sg final deploy/react/index/store/reducers/model.js"],"names":["actionTypes","updateObject","changeMode","initialState","cnts","cntErr","skipCnt","cntTotal","showLoader","changedFav","favChange","postVideo","id","videoErr","filterDet","modelType","changeCnt","changeCntErr","changeCntStart","fetchCnt","state","action","cnt","concat","fetchCntReset","curTab","fetchCntStart","fetchPostFail","err","title","det","changeCntCancel","changeCntReset","changed","updateCnts","updateCnt","filter","_id","changeCntFail","fetchVideo","url","changeFavPtStart","isLiked","changeFavPtFail","changeFav","filterPost","resetModel","reducer","type","FETCH_CNT","FETCH_CNT_START","FETCH_CNT_RESET","FETCH_CNT_FAIL","CHANGE_CNT_START","CHANGE_CNT_CANCEL","CHANGE_CNT_RESET","CHANGE_CNT_FAIL","CHANGE_CNT","FETCH_VIDEO","CHANGE_FAVORITE","CHANGE_FAVORITE_PT_START","CHANGE_FAVORITE_PT_FAIL","FILTER_POST","RESET_MODEL"],"mappings":"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","sourcesContent":["import * as actionTypes from '../actions/actionTypes';\r\nimport { updateObject, changeMode } from '../../shared/utility';\r\n\r\nconst initialState = {\r\n    cnts: null,\r\n    cntErr: null,\r\n    skipCnt: null,\r\n    cntTotal: null,\r\n    showLoader: false,\r\n    changedFav: [],\r\n    favChange: null,\r\n    postVideo: {id: null},\r\n    videoErr: null,\r\n    filterDet: null,\r\n    modelType: null,\r\n    changeCnt: false,\r\n    changeCntErr: null,\r\n    changeCntStart: null\r\n}\r\n\r\nconst fetchCnt = (state, action) => {\r\n    let cnts = !state.cnts ? action.cnt : state.cnts.concat(...action.cnt);\r\n    return updateObject(state, {cnts, skipCnt: action.skipCnt, cntTotal: action.cntTotal, showLoader: false})\r\n};\r\n\r\nconst fetchCntReset = (state, action) => {\r\n    return updateObject(state, {cnts: null, skipCnt: null, cntTotal: null, curTab: null, showLoader: false})\r\n};\r\n\r\nconst fetchCntStart = (state, action) => {\r\n    return updateObject(state, {showLoader: true})\r\n};\r\n\r\nconst fetchPostFail = (state, action) => {\r\n    return updateObject(state, {cntErr: action.err, showLoader: false})\r\n};\r\n\r\nconst changeCntStart = (state, action) => {\r\n    return updateObject(state, {changeCntStart: {title: action.title, id: action.id, det: action.det, modelType: action.modelType}, changeCntErr: null})\r\n};\r\n\r\nconst changeCntCancel = (state, action) => {\r\n    return updateObject(state, {changeCntStart: null, changeCntErr: null, changeCnt: false})\r\n};\r\n\r\nconst changeCntReset = (state, action) => {\r\n    let cnts = [...state.cnts]\r\n   \r\n    if (action.changed) {\r\n        if (state.changeCntStart.det === 'addUser') {\r\n            let updateCnts = changeMode(cnts, state.changeCntStart, 'pending', true);\r\n            return updateObject(state, {cnts: updateCnts, changeCntStart: null, changeCntErr: null, changeCnt: false})\r\n        }\r\n    \r\n        if (state.changeCntStart.det === 'acceptUser') {\r\n            let updateCnts = changeMode(cnts, state.changeCntStart, 'accept', true);\r\n            return updateObject(state, {cnts: updateCnts, changeCntStart: null, changeCntErr: null, changeCnt: false})\r\n        }\r\n    \r\n        if (state.changeCntStart.det === 'rejUser') {\r\n            let updateCnts = changeMode(cnts, state.changeCntStart, 'request', false);\r\n            return updateObject(state, {cnts: updateCnts, changeCntStart: null, changeCntErr: null, changeCnt: false})\r\n        }\r\n         \r\n        if (state.changeCntStart.det === 'cancelReq') {\r\n            let updateCnts = changeMode(cnts, state.changeCntStart, 'pending', false);\r\n            return updateObject(state, {cnts: updateCnts, changeCntStart: null, changeCntErr: null, changeCnt: false})\r\n        }\r\n    \r\n        if (state.changeCntStart.det === 'unfriend') {\r\n            let updateCnts = changeMode(cnts, state.changeCntStart, 'accept', false);\r\n            return updateObject(state, {cnts: updateCnts, changeCntStart: null, changeCntErr: null, changeCnt: false})\r\n        }\r\n\r\n        if (state.changeCntStart.det === 'blockUser') {\r\n            let updateCnt = cnts.filter(cnt => cnt.id !== state.changeCntStart.id);\r\n            return updateObject(state, {cnts: updateCnt, changeCntStart: null, changeCntErr: null, changeCnt: false})\r\n        }\r\n    \r\n        let updateCnt = cnts.filter(cnt => cnt._id !== state.changeCntStart.id);\r\n        return updateObject(state, {cnts: updateCnt, changeCntStart: null, changeCntErr: null, changeCnt: false})\r\n    }\r\n\r\n    return updateObject(state, {cnts, changeCntStart: null, changeCntErr: null, changeCnt: false})\r\n};\r\n\r\nconst changeCntFail = (state, action) => {\r\n    return updateObject(state, {changeCntErr: action.err})\r\n};\r\n\r\nconst changeCnt = (state, action) => {\r\n    return updateObject(state, {changeCnt: true})\r\n};\r\n\r\nconst fetchVideo = (state, action) => {\r\n    return updateObject(state, {postVideo: {id: action.id, url: action.url}})\r\n};\r\n\r\nconst changeFavPtStart = (state, action) => {\r\n    return updateObject(state, {favChange: {id:action.id, isLiked: action.isLiked}})\r\n};\r\n\r\nconst changeFavPtFail = (state, action) => {\r\n    return updateObject(state, {favChange: null })\r\n};\r\n\r\nconst changeFav = (state, action) => {\r\n    return updateObject(state, {changedFav: action.changedFav, favChange: null})\r\n};\r\n\r\nconst filterPost = (state, action) => {\r\n    return updateObject(state, {filterDet: action.filterDet})\r\n};\r\n\r\nconst resetModel = (state, action) => {\r\n    return updateObject(state, {cntErr: null,changeCntStart: null, changeCntErr: null, changeCnt: false})\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case actionTypes.FETCH_CNT:\r\n            return fetchCnt(state, action);\r\n        case actionTypes.FETCH_CNT_START:\r\n            return fetchCntStart(state, action);\r\n            case actionTypes.FETCH_CNT_RESET:\r\n            return fetchCntReset(state, action);\r\n            case actionTypes.FETCH_CNT_FAIL:\r\n            return fetchPostFail(state, action);\r\n            case actionTypes.CHANGE_CNT_START:\r\n            return changeCntStart(state, action);\r\n        case actionTypes.CHANGE_CNT_CANCEL:\r\n            return changeCntCancel(state, action);\r\n        case actionTypes.CHANGE_CNT_RESET:\r\n            return changeCntReset(state, action);\r\n        case actionTypes.CHANGE_CNT_FAIL:\r\n            return changeCntFail(state, action);\r\n        case actionTypes.CHANGE_CNT:\r\n            return changeCnt(state, action);\r\n        case actionTypes.FETCH_VIDEO:\r\n            return fetchVideo(state, action);\r\n        case actionTypes.CHANGE_FAVORITE:\r\n            return changeFav(state, action);\r\n        case actionTypes.CHANGE_FAVORITE_PT_START:\r\n            return changeFavPtStart(state, action);\r\n        case actionTypes.CHANGE_FAVORITE_PT_FAIL:\r\n            return changeFavPtFail(state, action);\r\n        case actionTypes.FILTER_POST:\r\n            return filterPost(state, action);\r\n        case actionTypes.RESET_MODEL:\r\n            return resetModel(state, action);\r\n        default: return state\r\n    }\r\n};\r\n\r\nexport default reducer"]},"metadata":{},"sourceType":"module"}