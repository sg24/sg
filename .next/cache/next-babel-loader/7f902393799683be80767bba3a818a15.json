{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Avatar from 'react-avatar';\nimport './UserOption.css';\nimport * as actions from '../../../store/actions/index';\nimport Aux from '../../../hoc/Auxs/Aux';\n\nclass UserOption extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      show: false,\n      default: false,\n      id: document.cookie.replace(/(?:(?:^|.*;\\s*)id\\s*\\=\\s*([^;]*).*$)|^.*$/, \"$1\"),\n      showAddOpt: false\n    });\n\n    _defineProperty(this, \"showUserOptionHandler\", () => {\n      this.props.onShowUserOption();\n      this.setState((prevState, props) => {\n        return {\n          default: false,\n          show: prevState.showAddOpt ? true : !prevState.show,\n          showAddOpt: false\n        };\n      });\n    });\n\n    _defineProperty(this, \"showAddCntHandler\", () => {\n      this.props.onShowUserOption();\n      this.setState((prevState, Props) => {\n        return {\n          showAddOpt: true,\n          default: false,\n          show: prevState.showAddOpt ? !prevState.show : true\n        };\n      });\n    });\n  }\n\n  componentDidUpdate() {\n    if (this.state.show && !this.state.default && this.props.hidUserOption) {\n      this.setState({\n        default: true,\n        show: false\n      });\n    }\n  }\n\n  render() {\n    let userDetClass = [\"site-header__user--det\"];\n\n    let userImg = __jsx(\"img\", {\n      className: \"site-header__user--img\",\n      src: this.props.img,\n      alt: this.props.username\n    });\n\n    let profile = null;\n\n    if (this.state.show) {\n      userDetClass.push(\"site-header__user--det__visible\");\n    }\n\n    ;\n\n    if (this.props.username && !this.props.img) {\n      userImg = __jsx(Avatar, {\n        name: this.props.username,\n        size: \"30\",\n        round: true\n      });\n    }\n\n    if (this.state.id) {\n      profile = __jsx(\"li\", {\n        className: \"site-header__user--det__portal\"\n      }, __jsx(\"a\", {\n        href: `/user/profile/${this.state.id}`\n      }, __jsx(\"div\", null, __jsx(FontAwesomeIcon, {\n        icon: ['fas', 'user'],\n        className: \"icon icon__site-header--user__set\"\n      })), \"My Profile\"));\n    }\n\n    let cnt = __jsx(Aux, null, profile, __jsx(\"li\", {\n      className: \"site-header__user--det__logout\"\n    }, __jsx(\"a\", {\n      href: \"/auth/logout\"\n    }, __jsx(\"div\", null, __jsx(FontAwesomeIcon, {\n      icon: ['fas', 'angle-double-right'],\n      className: \"icon icon__site-header--user__log\"\n    })), \"Logout\")));\n\n    if (this.state.showAddOpt) {\n      cnt = __jsx(Aux, null, __jsx(\"li\", {\n        className: \"site-header__user--det__logout\"\n      }, __jsx(\"a\", {\n        href: \"/add/post\"\n      }, __jsx(\"div\", null, __jsx(FontAwesomeIcon, {\n        icon: ['fas', 'newspaper']\n      })), \"News Feed\")), __jsx(\"li\", {\n        className: \"site-header__user--det__logout\"\n      }, __jsx(\"a\", {\n        href: \"/add/question\"\n      }, __jsx(\"div\", null, __jsx(FontAwesomeIcon, {\n        icon: ['fas', 'question']\n      })), \"Question\")), __jsx(\"li\", {\n        className: \"site-header__user--det__logout\"\n      }, __jsx(\"a\", {\n        href: \"/question\"\n      }, __jsx(\"div\", null, __jsx(FontAwesomeIcon, {\n        icon: ['fas', 'clone']\n      })), \"Answer\")), __jsx(\"li\", {\n        className: \"site-header__user--det__logout\"\n      }, __jsx(\"a\", {\n        href: \"/add/poet\"\n      }, __jsx(\"div\", null, __jsx(FontAwesomeIcon, {\n        icon: ['fas', 'book']\n      })), \"Writer\")));\n    }\n\n    return __jsx(\"div\", {\n      className: \"site-header__user\"\n    }, __jsx(\"div\", {\n      className: \"site-header__user--det__addNew\",\n      onClick: this.showAddCntHandler\n    }, __jsx(FontAwesomeIcon, {\n      icon: ['fas', 'plus']\n    })), __jsx(\"div\", null, userImg), __jsx(\"ul\", {\n      className: userDetClass.join(' ')\n    }, cnt), __jsx(\"div\", {\n      className: \"site-header__user--det__opt\",\n      onClick: this.showUserOptionHandler\n    }, __jsx(FontAwesomeIcon, {\n      icon: ['fas', 'caret-down']\n    })));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    hidUserOption: state.header.hidUserOption,\n    img: state.auth.img,\n    username: state.auth.username\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onShowUserOption: () => dispatch(actions.showUserOption())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserOption);","map":{"version":3,"sources":["C:/Users/g/my-sg final deploy/react/index/containers/Header/UserOption/UserOption.js"],"names":["React","Component","connect","FontAwesomeIcon","Avatar","actions","Aux","UserOption","show","default","id","document","cookie","replace","showAddOpt","props","onShowUserOption","setState","prevState","Props","componentDidUpdate","state","hidUserOption","render","userDetClass","userImg","img","username","profile","push","cnt","showAddCntHandler","join","showUserOptionHandler","mapStateToProps","header","auth","mapDispatchToProps","dispatch","showUserOption"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport Avatar from 'react-avatar';\r\n\r\nimport './UserOption.css';\r\nimport * as actions from '../../../store/actions/index';\r\nimport Aux from '../../../hoc/Auxs/Aux';\r\n\r\nclass UserOption extends Component {\r\n    state ={\r\n        show: false,\r\n        default: false,\r\n        id: document.cookie.replace(/(?:(?:^|.*;\\s*)id\\s*\\=\\s*([^;]*).*$)|^.*$/, \"$1\"),\r\n        showAddOpt: false\r\n    };\r\n\r\n    componentDidUpdate() {\r\n        if (this.state.show && !this.state.default && this.props.hidUserOption) {\r\n            this.setState({\r\n                default: true,\r\n                show: false\r\n            });\r\n        }\r\n    }\r\n\r\n    showUserOptionHandler = () => {\r\n        this.props.onShowUserOption();\r\n        this.setState((prevState, props) => {\r\n            return {\r\n                default: false,\r\n                show: prevState.showAddOpt ? true : !prevState.show,\r\n                showAddOpt: false\r\n            }\r\n        }) \r\n    }\r\n\r\n    showAddCntHandler = () => {\r\n        this.props.onShowUserOption();\r\n        this.setState((prevState, Props) => {\r\n            return {\r\n                showAddOpt: true,\r\n                default: false,\r\n                show:  prevState.showAddOpt ? !prevState.show : true,\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        let userDetClass = [\"site-header__user--det\"];\r\n        let userImg = <img className=\"site-header__user--img\" src={this.props.img} alt={this.props.username}/>;\r\n        let profile = null;\r\n\r\n        if (this.state.show) {\r\n            userDetClass.push(\"site-header__user--det__visible\")\r\n        };\r\n\r\n        if (this.props.username && !this.props.img) {\r\n            userImg = <Avatar  name={this.props.username} size='30' round />;\r\n        }\r\n\r\n        if (this.state.id){\r\n            profile = (\r\n                <li className=\"site-header__user--det__portal\">\r\n                    <a href={`/user/profile/${this.state.id}`}>\r\n                        <div>\r\n                            <FontAwesomeIcon \r\n                                icon={['fas', 'user']} \r\n                                className=\"icon icon__site-header--user__set\" />\r\n                        </div>\r\n                        My Profile\r\n                        </a>  \r\n                </li>\r\n            )\r\n        }\r\n\r\n        let cnt = (\r\n            <Aux>\r\n                { profile }\r\n                {/* <li className=\"site-header__user--det__acc\">\r\n                    <a href=\"/acc/set\">\r\n                        <div>\r\n                            <FontAwesomeIcon \r\n                                icon={['fas', 'cogs']} \r\n                                className=\"icon icon__site-header--user__set\" />\r\n                        </div>\r\n                        Account Settings\r\n                    </a>\r\n                </li>  */}\r\n                <li className=\"site-header__user--det__logout\">\r\n                    <a href=\"/auth/logout\">\r\n                        <div>\r\n                            <FontAwesomeIcon \r\n                                icon={['fas', 'angle-double-right']} \r\n                                className=\"icon icon__site-header--user__log\" /> \r\n                        </div>\r\n                        Logout\r\n                    </a>\r\n                </li>\r\n            </Aux>\r\n        )\r\n\r\n        if (this.state.showAddOpt) {\r\n            cnt = (\r\n            <Aux>\r\n                <li className=\"site-header__user--det__logout\">\r\n                    <a href=\"/add/post\">\r\n                        <div>\r\n                            <FontAwesomeIcon \r\n                                icon={['fas', 'newspaper']} /> \r\n                        </div>\r\n                        News Feed\r\n                    </a>\r\n                </li>\r\n                <li className=\"site-header__user--det__logout\">\r\n                    <a href=\"/add/question\">\r\n                        <div>\r\n                            <FontAwesomeIcon \r\n                                icon={['fas', 'question']}  /> \r\n                        </div>\r\n                        Question\r\n                    </a>\r\n                </li>\r\n                <li className=\"site-header__user--det__logout\">\r\n                    <a href=\"/question\">\r\n                        <div>\r\n                            <FontAwesomeIcon \r\n                                icon={['fas', 'clone']}  /> \r\n                        </div>\r\n                        Answer\r\n                    </a>\r\n                </li>\r\n                <li className=\"site-header__user--det__logout\">\r\n                    <a href=\"/add/poet\">\r\n                        <div>\r\n                            <FontAwesomeIcon \r\n                                icon={['fas', 'book']}  /> \r\n                        </div>\r\n                        Writer\r\n                    </a>\r\n                </li>\r\n            </Aux>\r\n            )    \r\n        }\r\n\r\n        return ( \r\n            <div className=\"site-header__user\">\r\n                <div \r\n                    className=\"site-header__user--det__addNew\"\r\n                    onClick={this.showAddCntHandler}>\r\n                    <FontAwesomeIcon \r\n                        icon={['fas', 'plus']} />\r\n                </div>\r\n               <div>\r\n                    { userImg }\r\n                </div>\r\n                <ul className={userDetClass.join(' ')}>\r\n                    { cnt }\r\n                </ul>\r\n                <div \r\n                    className=\"site-header__user--det__opt\"\r\n                    onClick={this.showUserOptionHandler}>\r\n                    <FontAwesomeIcon \r\n                        icon={['fas', 'caret-down']} />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        hidUserOption: state.header.hidUserOption,\r\n        img: state.auth.img,\r\n        username: state.auth.username\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        onShowUserOption: () => dispatch(actions.showUserOption())\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserOption);"]},"metadata":{},"sourceType":"module"}