{"version":3,"sources":["components/Main/Post/PostContent/PostContent.js","components/Main/Post/Post.js","containers/SiteMain/MainContent/Posts/Posts.js"],"names":["postContent","props","formatter","buildFormatter","engStrings","userOpt","userOptDetClass","userOptClass","favAdd","isLiked","mediaTotal","pt","snapshot","length","image","userOptMode","react_default","a","createElement","className","onClick","changePt","index_es","icon","fav","userImage","src","alt","mode","changePtPublish","username","react_avatar_es","name","size","round","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","changedFav","Symbol","iterator","next","done","value","_id","id","liked","err","return","media","mediaCnt","concat","Object","toConsumableArray","playVideo","mediaWrapperClass","isShowned","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","mediaItms","mediaItm","animateItm","direction","removePrevAnim","push","removePrevMedia","showPrevAnim","displayMedia","position","prevAnim","type","updateMedia","curMedia","videoCnt","_objectSpread","url","window","location","protocol","host","mediaType","video","playerIcnId","bind","this","onDragStart","touch-action","disableAnim","join","onAnimationEnd","removeAnim","onPointerDown","event","slidePlay","onPointerMove","moveSlidePlay","onPointerUp","clearSlidePlay","controls","autoPlay","draggable","videoErr","message","Aux","nextMedia","prevMedia","showPt","visible","href","deletePt","authorID","lib_default","date","postCreated","live","category","share","title","String","desc","substr","transformNumber","view","comment","favorite","favChange","FavoriteActive","post","arraySort","content","reverse","map","index","PostContent_PostContent","key","showCntOpt","changeCnt","IS_ANIMATED","Posts","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","onScroll","document","documentElement","scrollHeight","scrollTop","clientHeight","onFetchCnt","userID","state","fetchLimit","skipCnt","cntTotal","showUserOptHandler","cntOpt","setState","prevState","updateObject","newCntOpt","changeFavoriteHandler","cntGrp","onChangeFav","showShareHandler","shareID","onChangeShareID","history","changeMediaHandler","maxLength","animateSlider","removeAnimHandler","playVideoHandler","onFetchVideo","slidePlayHandler","target","setPointerCapture","pointerId","clearSlidePlayhandler","slide","releasePointerCapture","style","left","videoPlayerIcn","querySelector","moveSlidePlayHandler","hasPointerCapture","newpos","clientX","parentElement","offsetLeft","offsetWidth","playerIcnHeight","timeFrame","setTimeout","filterMedia","filter","mediaDet","changeCntHandler","det","modelType","checkTitle","onChangeCnt","onFetchCntReset","limit","innerHeight","filterTag","animationComplete","scrollEnable","onChangeTag","cnts","addEventListener","removeEventListener","onFetchShareActive","onFetchShareCntActive","onFetchNotifyActive","onFetchCntActive","onFetchQueActive","onFetchPtActive","onFetchReqActive","cnt","Loader","postErr","NoAcc","isAuth","icn","Post","postVideo","Component","withRouter","connect","auth","cntErr","filterDet","dispatch","actions","fetchType","cntType","path","confirm"],"mappings":"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","file":"static/js/7.722d778f.chunk.js","sourcesContent":["import React from 'react';\r\nimport TimeAgo from 'react-timeago';\r\nimport buildFormatter from 'react-timeago/lib/formatters/buildFormatter'\r\nimport Avatar from 'react-avatar';\r\n\r\nimport './PostContent.css';\r\nimport '../../../UI/ShareIcn/ShareIcn.css'; \r\nimport { transformNumber, engStrings } from '../../../../shared/utility';\r\nimport Aux from '../../../../hoc/Auxs/Aux';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport FavoriteActive from '../../../UI/FavoriteActive/FavoriteActive';\r\n\r\nconst postContent = props => {\r\n    const formatter = buildFormatter(engStrings);\r\n    let userOpt = null;\r\n    let userOptDetClass = ['reuse-pt__footer--details'];\r\n    let userOptClass = ['reuse-pt__footer--details__options'];\r\n    let favAdd = null;\r\n    let isLiked = null;\r\n    let mediaTotal = props.pt.snapshot.length+props.pt.image.length;\r\n    let userOptMode = (\r\n            <li \r\n                className=\"reuse-pt__footer--details__options--status\"\r\n                onClick={props.changePt}>\r\n                <FontAwesomeIcon \r\n                    icon={['far', 'eye-slash']} \r\n                    className=\"icon icon__reuse-pt--options__dft\" /> \r\n                Draft\r\n            </li>\r\n    );\r\n\r\n    let fav = <FontAwesomeIcon \r\n        icon={['far', 'heart']} \r\n        className=\"icon icon__reuse-pt--footer__heart\" />\r\n    \r\n    let userImage = <img src={props.pt.userImage} alt=\"\" />\r\n\r\n    if (props.pt.mode === 'draft') {\r\n      userOptMode = (\r\n        <li \r\n            className=\"reuse-pt__footer--details__options--status\"\r\n            onClick={props.changePtPublish}>\r\n            <FontAwesomeIcon \r\n                icon={['far', 'eye']} \r\n                className=\"icon icon__reuse-pt--options__dft\" /> \r\n            Publish\r\n        </li>\r\n      )\r\n    }\r\n    \r\n    if (props.pt.username && !props.pt.userImage) {\r\n        userImage = <Avatar  name={props.pt.username} size='36' round />;\r\n    }\r\n    \r\n    for (let changedFav of props.changedFav) {\r\n        if (props.pt._id === changedFav.id) {\r\n            favAdd = changedFav.favAdd;\r\n            isLiked= changedFav.liked;\r\n        }\r\n    }\r\n\r\n    let media = null;\r\n    let mediaCnt =  [...props.pt.snapshot, ...props.pt.image];\r\n    let playVideo = null;\r\n    let mediaWrapperClass = ['reuse-pt__media--wrapper'];\r\n\r\n    if (mediaCnt.length > 0) {\r\n        let isShowned = false;\r\n        for (let mediaItm of props.mediaItms) {\r\n            if (mediaItm.id === props.pt._id) {\r\n                isShowned = true;\r\n                if (props.animateItm.id === props.pt._id) {\r\n                    if (props.animateItm.direction === 'next' && !props.removePrevAnim) {\r\n                        mediaWrapperClass.push('reuse-pt__media--wrapper__anim');\r\n                    } \r\n                    if (props.animateItm.direction === 'prev' && !props.removePrevAnim) {\r\n                        mediaWrapperClass.push('reuse-pt__media--wrapper__anim-rev');\r\n                    }\r\n                }\r\n\r\n                // if (props.animateItm === null) {\r\n                //     mediaWrapperClass.push('reuse-pt__media--wrapper__anim');\r\n                // }\r\n\r\n                if (props.removePrevMedia && props.removePrevMedia.id === props.pt._id) {\r\n                    showPrevAnim(props.removePrevMedia);\r\n                }\r\n\r\n                displayMedia(mediaItm.position);\r\n            }\r\n        }\r\n        if (!isShowned) {\r\n            if (props.removePrevMedia && props.removePrevMedia.id === props.pt._id) {\r\n                showPrevAnim(props.removePrevMedia);\r\n            }\r\n            displayMedia(0)\r\n        }\r\n    }\r\n\r\n    function showPrevAnim(prevAnim) {\r\n        if (prevAnim.type === 'next') {\r\n            mediaWrapperClass.push('reuse-pt__media--wrapper__anim-exit');\r\n        } else {\r\n            mediaWrapperClass.push('reuse-pt__media--wrapper__anim-exit-rev')\r\n        }\r\n    }\r\n\r\n    function displayMedia(position) {\r\n        let updateMedia = mediaCnt[position];\r\n        let curMedia = updateMedia.videoCnt ? {url: `${window.location.protocol + '//' + window.location.host}/media/image/${updateMedia.id}`, ...updateMedia, mediaType: 'snapshot'} : \r\n        {url: `${window.location.protocol + '//' + window.location.host}/media/image/${updateMedia.id}`, ...updateMedia, mediaType: 'image'};\r\n        if (curMedia && curMedia.mediaType === 'snapshot') {\r\n            playVideo = (\r\n                props.video && props.video.id !== curMedia.id ? \r\n                <div \r\n                    className={props.playerIcnId && props.playerIcnId === props.pt._id ? \r\n                        'reuse-pt__media--wrapper__icn reuse-pt__media--wrapper__icn-move' : 'reuse-pt__media--wrapper__icn'}\r\n                        onClick={props.playVideo.bind(this, curMedia)}>\r\n                    <FontAwesomeIcon \r\n                        icon={['fas', 'play-circle']} \r\n                        className=\"icon icon__reuse-pt--media__play\" /> \r\n                </div>: null\r\n            );\r\n        }\r\n\r\n        media = (\r\n            <div className=\"reuse-pt__media\">\r\n                <div className={props.video && props.video.id === curMedia.id ? \r\n                        'reuse-pt__media--main-wrapper reuse-pt__media--main-wrapper__load' : 'reuse-pt__media--main-wrapper'}>\r\n                    <div \r\n                        onDragStart={() => false }\r\n                        touch-action=\"pan-y\"\r\n                        className={props.disableAnim ? 'reuse-pt__media--wrapper' : mediaWrapperClass.join(' ')} onAnimationEnd={props.removeAnim}>\r\n                        { playVideo }\r\n                        { props.video && props.video.id === curMedia.id && props.video.url ? \r\n                            <video \r\n                                onPointerDown={(event) => props.slidePlay(props.pt._id, mediaTotal, event)}\r\n                                onPointerMove={(event) => props.moveSlidePlay(props.pt._id, mediaTotal, event)}\r\n                                onPointerUp={(event) => props.clearSlidePlay(event)}\r\n                                src={props.video.url} controls autoPlay>\r\n                                <p>our browser doesn't support embedded videos</p>\r\n                            </video> :\r\n                        props.video && props.video.id === curMedia.id ? null : \r\n                        <img \r\n                            draggable=\"false\"\r\n                            onDragStart={() => false }\r\n                            src={curMedia.url}  alt=\"post\"\r\n                            onPointerDown={(event) => props.slidePlay(props.pt._id, mediaTotal, event)}\r\n                            onPointerMove={(event) => props.moveSlidePlay(props.pt._id, mediaTotal, event)}\r\n                            onPointerUp={(event) => props.clearSlidePlay(event)} />\r\n                        }\r\n                        { props.videoErr && props.videoErr.id === curMedia.id ? \r\n                            <div \r\n                                className=\"reuse-pt__video-err\"\r\n                                onPointerDown={(event) => props.slidePlay(props.pt._id, mediaTotal, event)}\r\n                                onPointerMove={(event) => props.moveSlidePlay(props.pt._id, mediaTotal, event)}\r\n                                onPointerUp={(event) => props.clearSlidePlay(event)}>\r\n                                <div \r\n                                    className=\"reuse-pt__video-err--icn\"\r\n                                    onClick={props.playVideo.bind(this, curMedia.id, props.pt.video)}>\r\n                                    <FontAwesomeIcon \r\n                                        icon={['fas', 'redo']} \r\n                                        className=\"icon icon__reuse-pt--video-err__icn\"/>\r\n                                </div>\r\n                                <h3> {props.videoErr.err.message} </h3> \r\n                            </div> : null}\r\n                    </div>\r\n                </div>\r\n                \r\n                {\r\n                    mediaCnt && mediaCnt.length > 1 ? \r\n                    <Aux>\r\n                        <div \r\n                            className=\"reuse-pt__media--cnt reuse-pt__media--cnt__nxt\"\r\n                            onClick={props.nextMedia}>\r\n                            <FontAwesomeIcon \r\n                                icon={['fas', 'angle-right']} \r\n                                className=\"icon icon__reuse-pt--media__nxt\" />\r\n                        </div>\r\n                        <div \r\n                            className=\"reuse-pt__media--cnt reuse-pt__media--cnt__prev\"\r\n                            onClick={props.prevMedia}>\r\n                            <FontAwesomeIcon \r\n                                icon={['fas', 'angle-left']} \r\n                                className=\"icon icon__reuse-pt--media__prev\" />\r\n                        </div>\r\n                    </Aux> : null\r\n                }\r\n            </div>\r\n        );\r\n    } \r\n\r\n    if (props.showPt && props.showPt.visible && props.pt._id === props.showPt.id) {\r\n        userOptDetClass.push('reuse-pt__footer--details__clk');\r\n        userOptClass.push('reuse-pt__footer--details__options--visible')\r\n    }\r\n\r\n    if (props.pt.userOpt) {\r\n        userOpt = (\r\n            <div className={userOptDetClass.join(' ')} onClick={props.userOpt}>\r\n            <div className=\"reuse-pt__footer--details__mid\"></div>\r\n            <ul className={userOptClass.join(' ')}>\r\n                <li>\r\n                    <a href={`/edit/post/${props.pt._id}`}>\r\n                        <FontAwesomeIcon \r\n                            icon={['far', 'edit']} \r\n                            className=\"icon icon__reuse-pt--options\" /> \r\n                        Edit \r\n                    </a>\r\n                </li>\r\n                {userOptMode}\r\n                <li\r\n                    onClick={props.deletePt}>\r\n                    <FontAwesomeIcon \r\n                        icon={['far', 'trash-alt']} \r\n                        className=\"icon icon__reuse-pt--options\" /> \r\n                    Delete \r\n                </li>\r\n            </ul>\r\n        </div>\r\n        )\r\n    }\r\n\r\n    if (props.pt.liked && isLiked === null) {\r\n        fav = <FontAwesomeIcon \r\n            icon={['fas', 'heart']} \r\n            className=\"icon icon__reuse-pt--footer__heart\" />\r\n    }\r\n\r\n    if (isLiked) {\r\n        fav = <FontAwesomeIcon \r\n            icon={['fas', 'heart']} \r\n            className=\"icon icon__reuse-pt--footer__heart\" />\r\n    }\r\n\r\n    return (\r\n      \r\n        <div className=\"reuse-pt\">\r\n            <div className=\"reuse-pt__overlaywrapper\">\r\n                <div className=\"reuse-pt__wrapper\">\r\n                    <ul className=\"reuse-pt__header\">\r\n                        <li>\r\n                            <div className=\"reuse-pt__header--category__img\">\r\n                                { userImage }\r\n                            </div>\r\n                            <div className=\"reuse-pt__header--category__det\">\r\n                                <div className=\"reuse-pt__header--category__det--name\"><a href={`/user/profile/${props.pt.authorID}`}> {props.pt.username} </a></div>\r\n                                <div className=\"reuse-pt__header--category__det--timePosted\">\r\n                                    @ { <TimeAgo date={props.pt.postCreated} live={false} formatter={formatter}/> }\r\n                                </div> \r\n                            </div>\r\n                        </li>\r\n                        <li>\r\n                            <p className=\"reuse-pt__header--share__category\"> \r\n                                <FontAwesomeIcon \r\n                                    icon={ props.pt.category.length > 1 ? ['fas', 'tags'] : ['fas', 'tag']} \r\n                                    className=\"icon icon__reuse-pt--header__tag\" />\r\n                                { props.pt.category[0] }\r\n                            </p>\r\n                            <div className=\"reuse-share\">\r\n                                <div className=\"reuse-share__icn\" onClick={props.share}>\r\n                                    <FontAwesomeIcon \r\n                                        icon={['fas', 'location-arrow']} \r\n                                        className=\"icon icon__reuse-share--icn\" /> \r\n                                </div>\r\n                             </div>\r\n                        </li>\r\n                    </ul>\r\n                    {media}\r\n                    <p className=\"reuse-pt__title\"> <a href={\"/view/post/\" + props.pt._id}>{props.pt.title}</a></p>\r\n                    <p className=\"reuse-pt__description\">\r\n                        <a href={\"/view/post/\" + props.pt._id}>\r\n                            {String(props.pt.desc).length > 149 ? String(props.pt.desc).substr(0, 150) + '...' : props.pt.desc} \r\n                        </a>\r\n                    </p>\r\n                \r\n                    <div className=\"reuse-pt__footer\">\r\n                        <ul className=\"reuse-pt__footer--list\">\r\n                            <li>\r\n                                <FontAwesomeIcon \r\n                                    icon={['far', 'eye']} \r\n                                    className=\"icon icon__reuse-pt--footer__eye\" /> \r\n                                {transformNumber(props.pt.view)} \r\n                            </li>\r\n                            <li className=\"reuse-pt__footer--list__item-middle\">\r\n                                <FontAwesomeIcon \r\n                                    icon={['far', 'comments']} \r\n                                    className=\"icon icon__reuse-pt--footer__chats\" /> \r\n                                {transformNumber(props.pt.comment)} \r\n                            </li>\r\n                            <li>\r\n                                <span onClick={props.fav}>{fav}</span>\r\n                                {transformNumber(favAdd !== null ? favAdd : props.pt.favorite)} \r\n                                {props.favChange && props.favChange.id === props.pt._id ? <FavoriteActive \r\n                                    liked={props.favChange.isLiked}/> : null}\r\n                            </li>\r\n                        </ul>\r\n                        {userOpt}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default postContent;","import React from 'react';\r\nimport arraySort from 'array-sort';\r\n\r\nimport PostContent from './PostContent/PostContent';\r\n\r\nconst post = props => {    \r\n    let content= arraySort(props.content, 'postCreated', {reverse: true})\r\n    const allPost = content.map( (pt, index) => (\r\n        <PostContent \r\n            key={index} \r\n            pt={pt} \r\n            media={props.media}\r\n            userOpt={props.userOpt.bind(this, pt._id)} \r\n            showPt={props.showCntOpt}\r\n            fav={props.fav.bind(this, pt._id, pt.liked, pt.favorite, 'post')}\r\n            changedFav={props.changedFav}\r\n            favChange={props.favChange}\r\n            share={props.share.bind(this, pt._id)}\r\n            nextMedia={props.nextMedia.bind(this, pt._id, pt.snapshot.length+pt.image.length , 'next')}\r\n            prevMedia={props.prevMedia.bind(this, pt._id, pt.snapshot.length+pt.image.length, 'prev')}\r\n            mediaItms={props.mediaItms}\r\n            removeAnim={props.removeAnim}\r\n            disableAnim={props.disableAnim}\r\n            animateItm={props.animateItm}\r\n            removePrevMedia={props.removePrevMedia}\r\n            playVideo={props.playVideo}\r\n            videoErr={props.videoErr}\r\n            playerIcnId={props.playerIcnId}\r\n            slidePlay={props.slidePlay}\r\n            moveSlidePlay={props.moveSlidePlay}\r\n            clearSlidePlay={props.clearSlidePlay}\r\n            video={props.video}\r\n            deletePt={props.changeCnt.bind(this, pt._id, pt.title, 'delete', 'post')}\r\n            changePt={props.changeCnt.bind(this, pt._id, pt.title, 'draft', 'post')}/>\r\n    ));\r\n\r\n    return allPost;\r\n};\r\n\r\nexport default post;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport 'pepjs';\r\n\r\nimport Post from '../../../../components/Main/Post/Post';\r\nimport Loader from '../../../../components/UI/Loader/Loader';\r\nimport NoAcc from '../../../../components/Main/NoAcc/NoAcc';\r\nimport { updateObject } from '../../../../shared/utility';\r\nimport * as actions from '../../../../store/actions/index';\r\n\r\nlet IS_ANIMATED = true;\r\n\r\nclass Posts extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.props.onFetchCntReset();\r\n        let limit = 0;\r\n        if (window.innerHeight >= 1200) {\r\n            limit = 18\r\n        } else if(window.innerHeight >= 900) {\r\n            limit = 12;\r\n        } else if(window.innerHeight >= 500) {\r\n            limit = 9\r\n        } else {\r\n            limit = 6;\r\n        }\r\n        this.state = {\r\n            cntOpt: null,\r\n            fetchLimit: limit,\r\n            filterTag: 'post',\r\n            mediaItms: [],\r\n            animateItm: null,\r\n            removeAnim: false,\r\n            removePrevMedia: null,\r\n            playerIcnId: null,\r\n            animationComplete: true,\r\n            scrollEnable: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.onFetchCnt(this.props.userID, this.state.filterTag, this.state.fetchLimit, 0, 0);\r\n        this.props.onChangeTag('/post');\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (this.props.cnts && this.props.cnts.length > 0 && !this.state.scrollEnable) {\r\n            window.addEventListener('scroll', this.onScroll, false);\r\n            this.setState({scrollEnable: true})\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.onFetchCntReset();\r\n        window.removeEventListener('scroll', this.onScroll, false);\r\n    }\r\n\r\n    onScroll = () => {\r\n        if (document.documentElement.scrollHeight - document.documentElement.scrollTop === document.documentElement.clientHeight) {\r\n            this.props.onFetchCnt(\r\n                    this.props.userID,  'post' ,\r\n                    this.state.fetchLimit, this.props.skipCnt + this.state.fetchLimit, this.props.cntTotal);\r\n        }\r\n    } \r\n\r\n    showUserOptHandler = (id) => {\r\n        if (this.state.cntOpt && this.state.cntOpt.id === id) {\r\n            this.setState((prevState, props) => {\r\n                return {\r\n                    cntOpt: updateObject(prevState.cntOpt, {visible: !prevState.cntOpt.visible})\r\n                }\r\n            });\r\n            return\r\n        }\r\n\r\n        const newCntOpt = {visible: true, id}\r\n        this.setState({cntOpt: newCntOpt})\r\n    }\r\n\r\n    changeFavoriteHandler = (id, isLiked, favAdd, cntGrp) => {\r\n        this.props.onChangeFav(id, isLiked, favAdd, this.props.changedFav, this.props.userID, cntGrp);\r\n    }\r\n\r\n    showShareHandler = (shareID) => {\r\n        this.props.onChangeShareID(shareID, 'post');\r\n        this.props.history.push('/index/post/share')\r\n    };\r\n\r\n    changeMediaHandler = (id, maxLength, type) => {\r\n        this.setState({removePrevMedia: {id, type}, removeAnim: false});\r\n        this.animateSlider(id, maxLength, type, 900);\r\n    }\r\n\r\n    removeAnimHandler = (event) => {\r\n        if (!this.state.removePrevMedia) {\r\n            this.setState({removeAnim: true})\r\n        }\r\n    }\r\n\r\n    playVideoHandler = (snapshot) => {\r\n        this.props.onFetchVideo(snapshot.id, `${window.location.protocol + '//' + window.location.host}/media/video/${snapshot.videoCnt}`)\r\n    }\r\n\r\n    slidePlayHandler = (id, maxLength, event) => {\r\n        let slide = event.target;\r\n        slide.setPointerCapture(event.pointerId);\r\n        this.setState({playerIcnId: id})\r\n    }\r\n\r\n    clearSlidePlayhandler = (event) => {\r\n        let slide = event.target;\r\n        slide.releasePointerCapture(event.pointerId);\r\n        slide.style.left = 0 +'px';\r\n        let videoPlayerIcn = document.querySelector('.reuse-pt__media--wrapper__icn-move');\r\n        if (videoPlayerIcn) {\r\n            videoPlayerIcn.style.left = 45 + '%';\r\n        }\r\n    }\r\n\r\n    moveSlidePlayHandler = (id, maxLength, event) => {\r\n        let slide = event.target;\r\n        if (slide.hasPointerCapture && slide.hasPointerCapture(event.pointerId)) {\r\n            let newpos = event.clientX - slide.parentElement.offsetLeft - (slide.offsetWidth/2);\r\n            if (newpos < -(slide.offsetWidth/2 + slide.offsetWidth/4)) {\r\n                if (IS_ANIMATED) {\r\n                    IS_ANIMATED = false;\r\n                    this.animateSlider(id, maxLength, 'next', 0)\r\n                }\r\n            } else if ( newpos > (slide.offsetWidth/2 + slide.offsetWidth/4)) {\r\n                if (IS_ANIMATED) {\r\n                    IS_ANIMATED = false;\r\n                    this.animateSlider(id, maxLength, 'prev', 0)\r\n                }\r\n            } \r\n            let videoPlayerIcn = document.querySelector('.reuse-pt__media--wrapper__icn-move');\r\n            if (videoPlayerIcn) {\r\n                let playerIcnHeight = (newpos / slide.offsetWidth) * 100\r\n                videoPlayerIcn.style.left =  playerIcnHeight + 45 + '%';\r\n            }\r\n            slide.style.left = newpos +'px';\r\n        }\r\n    }\r\n\r\n    animateSlider = (id, maxLength, type, timeFrame) => {\r\n        setTimeout(() => {\r\n            let mediaItms = [...this.state.mediaItms];\r\n            let filterMedia = mediaItms.filter(media => media.id === id);\r\n            let mediaDet = {id, position: type === 'next' ?  maxLength > 1 ? 1 : 0 : maxLength - 1};\r\n            if (filterMedia.length > 0) {\r\n                for (let mediaItm of filterMedia) {\r\n                    mediaDet = {id: mediaItm.id, position: type === 'next' ? mediaItm.position+=1 : mediaItm.position-=1};\r\n                    if (mediaDet.position > maxLength - 1) {\r\n                        mediaDet = updateObject(mediaDet, {position: 0});\r\n                    }\r\n    \r\n                    if (mediaDet.position < 0) {\r\n                        mediaDet = updateObject(mediaDet, {position: maxLength - 1});\r\n                    }\r\n                    let updateMedia = mediaItms.filter(media => media.id !== id);\r\n                    updateMedia.push(mediaDet);\r\n                    this.setState({mediaItms: updateMedia, removeAnim: false,  removePrevMedia: null, animateItm: {id, direction: type}})\r\n                }\r\n                return\r\n            }\r\n            mediaItms.push(mediaDet);\r\n            this.setState({mediaItms, removeAnim: false, removePrevMedia: null,  animateItm: {id, direction: type}})   \r\n        }, timeFrame)\r\n\r\n        setTimeout(() => {\r\n            IS_ANIMATED = true;\r\n        }, 500)\r\n    }\r\n    changeCntHandler = (id, title, det, modelType) => {\r\n        let checkTitle = String(title).length > 50 ? String(title).substr(0, 50) + '...' : title\r\n        this.props.onChangeCnt(id, checkTitle, det, false, modelType);\r\n    }\r\n\r\n    render() {\r\n        this.props.onFetchShareActive();\r\n        this.props.onFetchShareCntActive();\r\n        this.props.onFetchNotifyActive();\r\n        this.props.onFetchCntActive();\r\n        this.props.onFetchQueActive();\r\n        this.props.onFetchPtActive();\r\n        this.props.onFetchReqActive();\r\n\r\n        let cnt = <Loader />;\r\n        if (this.props.postErr) {\r\n            cnt = null\r\n        }\r\n\r\n        if (this.props.cnts && this.props.cnts.length === 0) {\r\n            cnt = <NoAcc \r\n                    isAuth={this.props.userID !== null}\r\n                    det='No content found!'\r\n                    icn='clone'\r\n                    filter />\r\n        }\r\n\r\n        if (this.props.cnts && this.props.cnts.length === 0) {\r\n            cnt = <NoAcc \r\n                    isAuth={this.props.userID !== null}\r\n                    det='No content found!'\r\n                    icn='clone'\r\n                    filter />\r\n        }\r\n\r\n        if (this.props.cnts && this.props.cnts.length > 0) {\r\n            cnt = <Post \r\n                content={this.props.cnts} \r\n                media={this.props.media}\r\n                userOpt={this.showUserOptHandler}\r\n                showCntOpt={this.state.cntOpt}\r\n                fav={this.changeFavoriteHandler}\r\n                changedFav={this.props.changedFav}\r\n                favChange={this.props.favChange}\r\n                share={this.showShareHandler}\r\n                nextMedia={this.changeMediaHandler}\r\n                prevMedia={this.changeMediaHandler}\r\n                mediaItms={this.state.mediaItms}\r\n                removeAnim={this.removeAnimHandler}\r\n                disableAnim={this.state.removeAnim}\r\n                animateItm={this.state.animateItm}\r\n                removePrevMedia={this.state.removePrevMedia}\r\n                playVideo={this.playVideoHandler}\r\n                videoErr={this.props.videoErr}\r\n                video={this.props.postVideo}\r\n                playerIcnId={this.state.playerIcnId}\r\n                slidePlay={this.slidePlayHandler}\r\n                moveSlidePlay={this.moveSlidePlayHandler}\r\n                clearSlidePlay={this.clearSlidePlayhandler}\r\n                changeCnt={this.changeCntHandler}/>\r\n        }\r\n\r\n        return cnt\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        userID: state.auth.userID,\r\n        cnts: state.cnt.cnts,\r\n        skipCnt: state.cnt.skipCnt,\r\n        cntTotal: state.cnt.cntTotal,\r\n        changedFav: state.cnt.changedFav,\r\n        favChange: state.cnt.favChange,\r\n        cntErr: state.cnt.cntErr,\r\n        postVideo: state.cnt.postVideo,\r\n        videoErr: state.cnt.videoErr,\r\n        filterDet: state.cnt.filterDet\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        onFetchShareActive: () => dispatch(actions.fetchShareactiveInit()),\r\n        onFetchShareCntActive: () => dispatch(actions.fetchShareCntactiveInit()),\r\n        onFetchQueActive: () => dispatch(actions.fetchQueActiveInit()),\r\n        onFetchPtActive: () => dispatch(actions.fetchPtActiveInit()),\r\n        onFetchCntActive: () => dispatch(actions.fetchCntActiveInit()),\r\n        onFetchNotifyActive: () => dispatch(actions.fetchNotifyactiveInit()),\r\n        onFetchReqActive: () => dispatch(actions.fetchReqActiveInit()),\r\n        onFetchCnt: (userID, fetchType, limit, skipCnt, cntTotal) => dispatch(actions.fetchCntInit(userID, fetchType, limit, skipCnt, cntTotal)),\r\n        onFetchCntReset: () => dispatch(actions.fetchCntReset()),\r\n        onChangeFav: (id, liked, favAdd, changedFav, userID, cntGrp) => dispatch(actions.changeFavInit(id, liked, favAdd, changedFav, userID, cntGrp)),\r\n        onChangeShareID: (shareID,  cntType) => dispatch(actions.shareID(shareID,  cntType)),\r\n        onChangeTag: (path) => dispatch(actions.changeTagsPath(path)),\r\n        onFetchVideo: (id, url) => dispatch(actions.fetchVideo(id, url)),\r\n        onChangeCnt: (id, title, det, confirm, modelType) => dispatch(actions.changeCntInit(id, title, det, confirm,  modelType))\r\n    };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Posts));"],"sourceRoot":""}