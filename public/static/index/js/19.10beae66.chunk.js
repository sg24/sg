(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{651:function(e,t,n){},777:function(e,t,n){},794:function(e,t,n){"use strict";n.r(t);var o=n(87),r=n(15),a=n(16),s=n(218),i=n(17),c=n(18),l=n(0),p=n.n(l),u=n(24),d=n(86),h=(n(662),n(124)),m=n.n(h),f=n(93),_=n(679),g=n.n(_),v=n(72),b=(n(777),n(651),n(3)),E=n(8),C=function(e){var t=null,n=["reuse-group__cnt--desc__opt--join"],o=!1,r=["reuse-group__cnt--desc__opt--cancel reuse-group__cnt--desc__opt--cancel"],a=["reuse-group__footer--info__options"],s=null,i=null,c=p.a.createElement(v.a,{name:e.cnt.title,size:"60",round:!0});if(e.cnt.image&&e.cnt.image.length>0&&(c=p.a.createElement("img",{src:"".concat(window.location.protocol+"//"+window.location.host,"/media/image/").concat(e.cnt.image[0].id),alt:"group"})),e.joinStartID&&e.joinStartID.length>0){var l,u=Object(f.a)(e.joinStartID);try{for(u.s();!(l=u.n()).done;)l.value===e.cnt._id&&(n.push("reuse-group__cnt--desc__opt--join__start"),r.push("reuse-group__cnt--desc__opt--join__start"))}catch(C){u.e(C)}finally{u.f()}}if(e.joined&&e.joined.length>0){var d,h=Object(f.a)(e.joined);try{for(h.s();!(d=h.n()).done;){var m=d.value;e.cnt._id===m&&(o=!0)}}catch(C){h.e(C)}finally{h.f()}}e.cnt.userOpt&&e.cnt.requestTotal>0&&(t=p.a.createElement("div",{className:"reuse-group__footer--info__active"},e.cnt.requestTotal));var _=p.a.createElement("div",{className:n.join(" "),onClick:e.join},p.a.createElement(E.a,{icon:["fas","plus"],className:"icon icon__reuse-group--cnt__join"}),"Join");return e.showOpt&&e.showOpt.visible&&e.cnt._id===e.showOpt.id&&a.push("reuse-group__footer--info__options--visible"),(e.cnt.member||e.cnt.userOpt)&&(_=p.a.createElement("div",{className:"reuse-group__cnt--desc__opt--chat"},p.a.createElement("a",{href:"/chat/group/".concat(e.cnt._id)},p.a.createElement(E.a,{icon:["fas","comment-dots"],className:"icon icon__reuse-group--cnt__comment"}),"Chat"))),e.cnt.member&&(i=p.a.createElement("li",{onClick:e.exitGrp,className:"reuse-group__footer--info__options--del"},"Exit Group")),e.cnt.userOpt&&(s=p.a.createElement(p.a.Fragment,null,p.a.createElement("li",{className:"reuse-group__footer--info__options--edit"},p.a.createElement("a",{href:"/edit/group/".concat(e.cnt._id)},p.a.createElement(E.a,{icon:["far","edit"],className:"icon icon__reuse-grp--options"}),"Edit")),p.a.createElement("li",{onClick:e.deleteGrp,className:"reuse-group__footer--info__options--del"},p.a.createElement(E.a,{icon:["far","trash-alt"],className:"icon icon__reuse-grp--options"}),"Delete"))),(o||e.cnt.request)&&(_=p.a.createElement("div",{className:r.join(" "),onClick:e.cancelReq},p.a.createElement(E.a,{icon:["fas","times"],className:"icon icon__reuse-group--cnt__cancel"}),"Cancel")),p.a.createElement("div",{className:"reuse-group"},p.a.createElement("div",{className:"reuse-group__wrapper"},p.a.createElement("ul",{className:"reuse-group__header"},p.a.createElement("li",null,p.a.createElement("div",{className:"reuse-group__header--tm"},p.a.createElement(E.a,{icon:["fas","calendar-check"],className:"icon icon__reuse-group--header__calend"}),p.a.createElement("span",null,p.a.createElement(g.a,{format:"MMM YYYY"},e.cnt.groupCreated)))),p.a.createElement("li",null,p.a.createElement("div",{className:"reuse-group__header--categ"},p.a.createElement(E.a,{icon:["fas","tag"],className:"icon icon__reuse-group--header__tag--mode"}),String(e.cnt.groupMode).substr(0,1).toUpperCase()+String(e.cnt.groupMode).substr(1).toLowerCase()))),p.a.createElement("div",{className:"reuse-group__cnt"},p.a.createElement("div",{className:"reuse-group__cnt--img"},c),p.a.createElement("div",{className:"reuse-group__cnt--desc"},p.a.createElement("div",{className:"reuse-group__cnt--desc__title"},e.cnt.member||e.cnt.userOpt?p.a.createElement("a",{href:"/chat/group/".concat(e.cnt._id)},e.cnt.title):e.cnt.title),p.a.createElement("div",{className:"reuse-group__cnt--desc__opt"},_))),p.a.createElement("div",{className:"reuse-group__footer"},p.a.createElement("ul",{className:"reuse-group__footer--grp-det"},p.a.createElement("li",{className:"reuse-group__footer--grp-det__users"},p.a.createElement("div",{className:"reuse-group__footer--grp-det__users--wrapper"},p.a.createElement("div",{className:"reuse-group__footer--grp-det__users--icn"},p.a.createElement(E.a,{icon:["fas","users"],className:"icon icon__reuse-group--footer__users"})),Object(b.d)(e.cnt.members)))),e.clipboard&&e.clipboard.id===e.cnt._id?p.a.createElement("div",{className:"reuse-group__footer--tooltip"},e.clipboard.msg):null,p.a.createElement("div",{className:"reuse-group__footer--info",onClick:e.userOpt},p.a.createElement("div",{className:"reuse-group__footer--info__mid"}),p.a.createElement("ul",{className:a.join(" ")},p.a.createElement("li",{className:"reuse-group__footer--info__options--status",onClick:e.groupInfo},p.a.createElement(E.a,{icon:["fas","info"],className:"icon icon__reuse-grp--options__info"}),"Info"),p.a.createElement("li",{className:"reuse-group__footer--info__options--status",onClick:e.copyLink},p.a.createElement(E.a,{icon:["fas","clipboard"],className:"icon icon__reuse-grp--options"}),"Invite"),s,i),t))))},j=function(e){return m()(e.content,"groupCreated",{reverse:!0}).map(function(t,n){return p.a.createElement(C,{key:n,cnt:t,groupInfo:e.groupInfo.bind(void 0,t),join:e.join.bind(void 0,t._id,"join"),joinStartID:e.joinStartID,joined:e.joined,cancelReq:e.join.bind(void 0,t._id,"cancel"),userOpt:e.userOpt.bind(void 0,t._id),showOpt:e.showOpt,deleteGrp:e.changeCnt.bind(void 0,t._id,t.title,"delete",!1),exitGrp:e.changeCnt.bind(void 0,t._id,t.title,"exit",!1),copyLink:e.copyLink.bind(void 0,t._id),clipboard:e.clipboard})})},w=n(40),N=n(78),O=n(4),y=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(e){var a;Object(r.a)(this,n),(a=t.call(this,e)).onScroll=function(){window.innerHeight+Math.ceil(window.pageYOffset+1)>=document.body.offsetHeight&&a.props.onFetchCnt(a.props.userID,"group"!==a.state.filterTag?"filter"===a.state.filterTag?"filter=="+a.props.filterDet:"group-".concat(a.state.filterTag):"group",a.state.fetchLimit,a.props.skipCnt+a.state.fetchLimit,a.props.cntTotal)},a.joinGrpHandler=function(e,t){a.props.onJoinGrp(e,t)},a.groupInfoHandler=function(e){a.props.onShareCnt(Object(o.a)({},e)),a.props.history.push("/index/group/info/".concat(e._id))},a.showUserOptHandler=function(e){if(a.state.cntOpt&&a.state.cntOpt.id===e)a.setState(function(e,t){return{cntOpt:Object(b.f)(e.cntOpt,{visible:!e.cntOpt.visible})}});else{var t={visible:!0,id:e};a.setState({cntOpt:t})}},a.changeCntHandler=function(e,t,n,o){a.props.onChangeCnt(e,t,n,o,"delete"===n?"deletegroup":"exitgroup")},a.copyLinkHandler=function(e){!function(n){if(!navigator.clipboard)return void function(n){var o=document.createElement("textarea");o.value=n,o.style.top="0",o.style.left="0",o.style.position="fixed",o.style.padding=0,o.style.width="2em",o.style.height="2em",o.style.border="none",o.style.outline="none",o.style.boxShadow="none",document.body.appendChild(o),o.focus(),o.select();try{var r=document.execCommand("copy"),a=r?"successful":"unsuccessful";t.setState({clipboard:"successful"===a?{msg:"Copying to clipboard was successful!",id:e}:{msg:"Could not copy link to clipboard",id:e},resetClipboard:"successful"===a})}catch(s){t.setState({clipboard:{msg:"Could not copy link to clipboard",id:e}})}document.body.removeChild(o)}(n);navigator.clipboard.writeText(n).then(function(){t.setState({clipboard:{msg:"Copying to clipboard was successful!",id:e},resetClipboard:!0})},function(n){t.setState({clipboard:{msg:"Could not copy link to clipboard",id:e}})})}("https://www.slodge24.com/chat/group/".concat(e));var t=Object(s.a)(a)};var i=0;return a.props.onFetchCntReset(),i=window.innerHeight>=1200?18:window.innerHeight>=900?12:window.innerHeight>=500?9:6,a.state={cntOpt:null,fetchLimit:i,filterTag:"group",mediaItms:[],clipboard:null,resetClipboard:!1,clearClipboard:null,scrollEnable:!1},a}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchCnt(this.props.userID,this.state.filterTag,this.state.fetchLimit,0,0),this.props.onChangeTag("/group")}},{key:"componentDidUpdate",value:function(){var e=this;if(this.props.cnts&&this.props.cnts.length>0&&!this.state.scrollEnable&&(window.addEventListener("scroll",this.onScroll,!1),this.setState({scrollEnable:!0})),this.props.match.params.id&&this.state.filterTag!==this.props.match.params.id&&"share"!==this.props.match.params.id&&"filter"!==this.props.match.params.id&&"startfilter"!==this.props.match.params.id&&(this.props.onFetchCntReset(),this.props.onFetchCnt(this.props.userID,"group-".concat(this.props.match.params.id),this.state.fetchLimit,0,0),this.setState({filterTag:this.props.match.params.id})),this.props.startSearch&&this.props.filterDet&&this.props.location.search&&this.state.filterTag!=="filter==".concat(this.props.filterDet)){this.props.onFetchCntReset();var t="filter==".concat(this.props.filterDet);this.props.onFetchCnt(this.props.userID,"group-"+t,this.state.fetchLimit,0,0),this.setState({filterTag:t})}if(this.props.startSearch||this.props.match.params.id||"group"===this.state.filterTag||(this.props.onFetchCntReset(),this.props.onFetchCnt(this.props.userID,"group",this.state.fetchLimit,0,0),this.setState({filterTag:"group"})),this.state.clipboard&&this.state.resetClipboard){clearTimeout(this.state.clearClipboard);var n=setTimeout(function(){e.setState({clipboard:null})},2e3);this.setState({resetClipboard:!1,clearClipboard:n})}}},{key:"componentWillUnmount",value:function(){this.props.onFetchCntReset(),window.removeEventListener("scroll",this.onScroll,!1)}},{key:"render",value:function(){var e=p.a.createElement(w.a,null);return this.props.postErr&&(e=null),this.props.cnts&&0===this.props.cnts.length&&"shared"===this.state.filterTag&&(e=p.a.createElement(N.a,{isAuth:null!==this.props.userID,det:"No Group found!",icn:"user-friends",filter:!0})),this.props.cnts&&0===this.props.cnts.length&&"shared"!==this.state.filterTag&&(e=p.a.createElement(N.a,{isAuth:this.props.status,det:"No Group found!",icn:"user-friends",filter:!0})),this.props.cnts&&this.props.cnts.length>0&&(e=p.a.createElement(j,{content:this.props.cnts,join:this.joinGrpHandler,joinStartID:this.props.joinStartID,joined:this.props.joined,groupInfo:this.groupInfoHandler,userOpt:this.showUserOptHandler,showOpt:this.state.cntOpt,changeCnt:this.changeCntHandler,copyLink:this.copyLinkHandler,clipboard:this.state.clipboard})),this.props.status||(e=p.a.createElement(N.a,{isAuth:this.props.status,det:"No Group found!",icn:"user-friends",filter:!0})),e}}]),n}(l.Component);t.default=Object(d.f)(Object(u.b)(function(e){return{status:e.auth.status,userID:e.auth.userID,cnts:e.cnt.cnts,skipCnt:e.cnt.skipCnt,cntTotal:e.cnt.cntTotal,joinStartID:e.cnt.joinStartID,joined:e.cnt.joined,changedFav:e.cnt.changedFav,favChange:e.cnt.favChange,postErr:e.cnt.postErr,postVideo:e.cnt.postVideo,videoErr:e.cnt.videoErr,filterDet:e.cnt.filterDet,startSearch:e.filter.startSearch}},function(e){return{onFetchCnt:function(t,n,o,r,a){return e(O.P(t,n,o,r,a))},onFetchCntReset:function(){return e(O.Q())},onJoinGrp:function(t,n){return e(O.ac(t,n))},onChangeFav:function(t,n,o,r,a,s){return e(O.h(t,n,o,r,a,s))},onShareCnt:function(t){return e(O.ic(t))},onChangeTag:function(t){return e(O.w(t))},onChangeCnt:function(t,n,o,r,a){return e(O.d(t,n,o,r,a))}}})(y))}}]);
//# sourceMappingURL=19.10beae66.chunk.js.map