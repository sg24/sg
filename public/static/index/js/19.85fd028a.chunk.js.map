{"version":3,"sources":["containers/AroundMe/utility/utility.js","containers/AroundMe/EditForm/MediaItems/MediaItems.js","containers/AroundMe/EditForm/Loader/Loader.js","containers/AroundMe/EditForm/Form.js"],"names":["updateObject","oldObject","updatedProperties","Object","C_Users_g_my_sg_final_deploy_react_index_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__","getImageURL","image","canvas","document","createElement","Promise","resolve","reject","getContext","width","videoWidth","height","videoHeight","drawImage","toBlob","blob","MediaItems","_this","this","media","props","cnt","map","index","react_default","a","className","key","onClick","removeMedia","bind","id","index_es","icon","type","src","url","alt","controls","Component","loader","globalClass","bg","push","join","videoRef","React","createRef","Form","state","post","value","touched","valid","disableInput","start","err","loading","chunks","auth","status","disable","upload","mediaRecorder","showEmoji","match","params","loaded","uploadedVideo","uploadedImg","uploadedSnap","removedMedia","inputChangedHandler","event","target","setState","addEmojiHandler","concat","native","cameraHandler","navigator","mediaDevices","these","assertThisInitialized","getUserMedia","constraints","webkitGetUserMedia","mozGetUserMedia","call","video","then","stream","current","srcObject","catch","captureHandler","imageData","getVideoTracks","forEach","track","stop","toConsumableArray","window","URL","createObjectURL","file","uuid","closeCameraHandler","removeMediaHandler","updateMedia","filter","uploaded","videoCnt","removedCnt","videoRecHandler","rec","audio","MediaRecorder","ondataavailable","e","data","stopRecHandler","onstop","Blob","getTracks","cancelRecHandler","uploadMediaHandler","querySelector","click","uploadImageHandler","uploadVideoHandler","showEmojiHandler","selectMediaHandler","stopPropagation","preventDefault","files","handleFiles","i","length","split","userAuthHandler","submitFormHandler","uploadCnt","closeAroundmeHandler","history","goBack","formContent","FormData","append","JSON","stringify","_step","_iterator","createForOfIteratorHelper","s","n","done","ext","pop","f","axios","onUploadProgress","progressEvent","lengthComputable","percentage","Math","round","total","res","location","assign","_this2","headers","data-categ","_step2","_iterator2","itm","_step3","_iterator3","TextTrackCue","snapshot","emojiCnt","mediaCnt","mediaClass","mediaVidClass","style","backgroundColor","position","top","mediaOpt","dist_es","set","onSelect","EditForm_MediaItems_MediaItems","Loader_Loader","Fragment","disabled","placeholder","onChange","toString","multiple","accept","formCnt","ref","autoPlay","onSubmit","withRouter","connect"],"mappings":"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","file":"static/js/19.85fd028a.chunk.js","sourcesContent":["export const updateObject = (oldObject, updatedProperties) => {\r\n    return {\r\n        ...oldObject,\r\n        ...updatedProperties\r\n    }\r\n}\r\n\r\nexport const getImageURL = image => {\r\n    let canvas = document.createElement('canvas');\r\n    return new Promise((resolve, reject) => {\r\n        if (canvas.getContext) {\r\n                canvas.width = image.videoWidth;\r\n                canvas.height = image.videoHeight;\r\n                canvas.getContext('2d').drawImage(image, 0, 0);\r\n                canvas.toBlob((blob) => {\r\n                    resolve(blob)\r\n                });\r\n        } else {\r\n            reject('Please update your Browser')\r\n        }\r\n    })\r\n}\r\n\r\nexport const checkValidity = (value, rules) => {\r\n    let isValid = true;\r\n\r\n    if (!rules) {\r\n        return true;\r\n    }\r\n\r\n    if (rules.required) {\r\n        isValid =  value.trim() !== '' && isValid;\r\n    }\r\n\r\n    if (rules.minLength) {\r\n        isValid =  value.length >= rules.minLength  && isValid\r\n    }\r\n\r\n    return isValid;\r\n}","import React, { Component } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nclass MediaItems extends Component {\r\n    render() {\r\n        let media = this.props.cnt.map((cnt, index) => (\r\n            <div \r\n                className=\"aroundme__form--itm__prev--wrapper\"\r\n                key={index}>\r\n                <div>\r\n                    <div \r\n                        className=\"aroundme__form--itm__prev--close\"\r\n                        onClick={this.props.removeMedia.bind(this, cnt.id)}>\r\n                        <FontAwesomeIcon \r\n                            icon={['fas', 'times']} />\r\n                    </div>\r\n                    {cnt.type === 'image' ? <img src={cnt.url} alt=\"\" /> : \r\n                    <video \r\n                        src={cnt.url} \r\n                        controls>\r\n                        <p>our browser doesn't support embedded videos</p>\r\n                    </video>}\r\n                </div>\r\n            </div>\r\n        ))\r\n        return <div className=\"aroundme__form--itm__prev\">{media}</div>;\r\n    }\r\n}\r\n\r\nexport default MediaItems;","import React from 'react';\r\n\r\nimport './Loader.css';\r\nconst loader = props => {\r\n    let cnt = 'Loading ....';\r\n    let globalClass = ['global'];\r\n\r\n    if (props.cnt) {\r\n        cnt = props.cnt\r\n    }\r\n\r\n    if (props.bg) {\r\n        globalClass.push('global--bg')\r\n    }\r\n\r\n    return (\r\n        <section className={globalClass.join(' ')}>\r\n        <div className=\"global__wrapper\">\r\n        <div>\r\n            <div className=\"top mask\">\r\n            <div className=\"plane\"></div>\r\n            </div>\r\n            <div className=\"middle mask\">\r\n            <div className=\"plane\"></div>\r\n            </div>\r\n            <div className=\"bottom mask\">\r\n            <div className=\"plane\"></div>\r\n            </div>\r\n        </div>\r\n        <p>{cnt}</p>\r\n        </div>\r\n    </section>\r\n    );\r\n}\r\n\r\nexport default loader;","import React, { Component } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport axios from 'axios';\r\nimport uuid from 'uuid';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport 'emoji-mart/css/emoji-mart.css'\r\nimport { Picker } from 'emoji-mart'\r\n\r\nimport './Form.css';\r\nimport { updateObject, getImageURL } from '../utility/utility';\r\nimport MediaItems from './MediaItems/MediaItems';\r\nimport Loader from './Loader/Loader';\r\n// import Auth from './Auth/Auth';\r\n\r\nlet videoRef = React.createRef(null);\r\nclass Form extends Component {\r\n    state = {\r\n        post: {\r\n            value: '',\r\n            touched: false,\r\n            valid: false\r\n        },\r\n        disableInput: false,\r\n        start: false,\r\n        err: null,\r\n        loading: false,\r\n        media: [],\r\n        chunks: [],\r\n        auth: false,\r\n        status: false,\r\n        disable: false,\r\n        upload: 0,\r\n        mediaRecorder: null,\r\n        showEmoji: false,\r\n        id: this.props.match.params.id,\r\n        loaded: false,\r\n        uploadedVideo: [],\r\n        uploadedImg: [],\r\n        uploadedSnap: [],\r\n        removedMedia: []\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.post('https://www.slodge24.com/aroundme', {id: this.state.id}, {\r\n            headers: {'data-categ': 'fetcharoundme'}}).then(res=> {\r\n               if (res.data && res.data.cnt && res.data.cnt.length > 0) {\r\n                let cnt = res.data.cnt[0]\r\n                let image = []\r\n                let video = []\r\n                if (cnt.image.length > 0 || cnt.video.length > 0) {\r\n                    for (let itm of cnt.image) {\r\n                        image.push({id: itm.id, url: `https://www.slodge24.com/media/image/${itm.id}`, type: 'image', uploaded: true})\r\n                    }\r\n                    for (let itm of cnt.video) {\r\n                        video.push({id: itm.id, url: `https://www.slodge24.com/media/video/${itm.id}`, type: 'video', uploaded: true})\r\n                    }\r\n                }\r\n                this.setState({post: {value: cnt.post,touched: true,valid: TextTrackCue}, media: [...image, ...video], loaded: true, uploadedVideo: cnt.video,\r\n                    uploadedImg: cnt.image, uploadedSnap: cnt.snapshot})\r\n               } else {\r\n                   this.setState({err: 'Post not found'})\r\n               }\r\n        }).catch(err => {\r\n            this.setState({err})\r\n        })\r\n    }\r\n\r\n    inputChangedHandler = (event) => {\r\n        let value = event.target.value;\r\n        let post = updateObject(this.state.post, {value, valid: value !== '', touched: true});\r\n        this.setState({post, err: null})\r\n    }\r\n\r\n    addEmojiHandler = (cnt) => {\r\n        let value = `${this.state.post.value} ${cnt.native}`;\r\n        let post = updateObject(this.state.post, {value, valid: value !== '', touched: true});\r\n        this.setState({post, err: null})\r\n    }\r\n\r\n    cameraHandler = () => {\r\n        this.setState({loading: true})\r\n        if (!('mediaDevices' in navigator)) {\r\n            navigator.mediaDevices = {};\r\n        }\r\n        let these = this;\r\n        if (!('getUserMedia' in navigator.mediaDevices)) {\r\n            navigator.mediaDevices.getUserMedia = function(constraints) {\r\n            var getUserMedia = navigator.webkitGetUserMedia || navigator.mozGetUserMedia;\r\n        \r\n            if (!getUserMedia) {\r\n                return these.setState({err: 'Camera access not supported by Browser!'});\r\n            }\r\n        \r\n            return new Promise(function(resolve, reject) {\r\n                getUserMedia.call(navigator, constraints, resolve, reject);\r\n            });\r\n            }\r\n        }\r\n    \r\n        navigator.mediaDevices.getUserMedia({video: true})\r\n            .then(function(stream) {\r\n                videoRef.current.srcObject= stream;\r\n                these.setState({start: true, loading: false})\r\n            })\r\n            .catch(function(err) {\r\n                these.setState({err, start: false, loading: false})\r\n            });\r\n    }\r\n\r\n    captureHandler = () => {\r\n        if (videoRef && videoRef.current) {\r\n            getImageURL(videoRef.current).then(imageData => {\r\n                videoRef.current.srcObject.getVideoTracks().forEach(function(track) {\r\n                    track.stop();\r\n                });\r\n                let media = [...this.state.media];\r\n                let url = window.URL.createObjectURL(imageData);\r\n                media.push({file: imageData, type: 'image', id: uuid(), url})\r\n                this.setState({media, start: false, err: null})\r\n            }).catch(err => {\r\n                this.setState({err})\r\n            })\r\n        }\r\n    }\r\n\r\n    closeCameraHandler = () => {\r\n        if (videoRef && videoRef.current) {\r\n            videoRef.current.srcObject.getVideoTracks().forEach(function(track) {\r\n                track.stop();\r\n            });\r\n            this.setState({start: false, err: null, loading: false})\r\n        }\r\n    }\r\n\r\n    removeMediaHandler = (id) => {\r\n        let media = [...this.state.media];\r\n        let updateMedia = media.filter(cnt => cnt.id !== id);\r\n        let removedMedia =  media.filter(cnt => cnt.id === id)[0];\r\n        let uploadedImg = this.state.uploadedImg\r\n        let uploadedVideo = this.state.uploadedVideo\r\n        let uploadedSnap = this.state.uploadedSnap\r\n        if (removedMedia && removedMedia.uploaded && removedMedia.type === 'image') {\r\n            uploadedImg = uploadedImg.filter(cnt => cnt.id !== id);\r\n        }\r\n        if (removedMedia && removedMedia.uploaded && removedMedia.type === 'video') {\r\n            uploadedVideo = uploadedVideo.filter(cnt => cnt.id !== id);\r\n            removedMedia = uploadedSnap.filter(cnt => cnt.videoCnt === id)[0]\r\n            uploadedSnap = uploadedSnap.filter(cnt => cnt.videoCnt !== id);\r\n        }\r\n        let removedCnt = [...this.state.removedMedia]\r\n        removedCnt.push(removedMedia)\r\n        this.setState({media: updateMedia, uploadedImg, uploadedVideo, uploadedSnap, removedMedia: removedCnt})\r\n    }\r\n\r\n    videoRecHandler = () => {\r\n        this.setState({loading: true, rec: true})\r\n        let these = this;\r\n        if (!('mediaDevices' in navigator)) {\r\n            navigator.mediaDevices = {};\r\n        }\r\n        \r\n        if (!('getUserMedia' in navigator.mediaDevices)) {\r\n            navigator.mediaDevices.getUserMedia = function(constraints) {\r\n            var getUserMedia = navigator.webkitGetUserMedia || navigator.mozGetUserMedia;\r\n        \r\n            if (!getUserMedia) {\r\n                return these.setState({err: 'Camera access not supported by browser!', rec: false});\r\n            }\r\n        \r\n            return new Promise(function(resolve, reject) {\r\n                getUserMedia.call(navigator, constraints, resolve, reject);\r\n            });\r\n            }\r\n        }\r\n        navigator.mediaDevices.getUserMedia({audio: true, video: true})\r\n            .then(function(stream) {\r\n                let mediaRecorder = new MediaRecorder(stream);\r\n                mediaRecorder.start();\r\n                mediaRecorder.ondataavailable = function(e) {\r\n                    these.state.chunks.push(e.data);\r\n                }\r\n                videoRef.current.srcObject = stream;\r\n                these.setState({mediaRecorder, start: true, loading: false})\r\n            })\r\n            .catch(function(err) {\r\n                these.setState({err, start: false, loading: false, rec: false})\r\n            }); \r\n        \r\n    }\r\n\r\n    stopRecHandler = () => {\r\n        let mediaRecorder = this.state.mediaRecorder;\r\n        let these = this;\r\n        mediaRecorder.stop();\r\n        mediaRecorder.onstop = function(e) {\r\n            var blob = new Blob(these.state.chunks, { 'type' : 'mp4' });\r\n            mediaRecorder.stream.getTracks().forEach( track => \r\n                track.stop())\r\n            let media = [...these.state.media];\r\n            let url = window.URL.createObjectURL(blob);\r\n            media.push({file: blob, type: 'video', id: uuid(), url})\r\n            these.setState({mediaRecorder: null, chunks: [], media, start: false, err: null, rec: false})\r\n        }\r\n    }\r\n\r\n    cancelRecHandler = () => {\r\n        let mediaRecorder = this.state.mediaRecorder;\r\n        if (mediaRecorder) {\r\n            mediaRecorder.stream.getTracks().forEach( track => \r\n                track.stop())\r\n                this.setState({mediaRecorder: null, start: false, err: null, loading: false, rec: false})\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (videoRef && videoRef.current && videoRef.current.srcObject) {\r\n            videoRef.current.srcObject.getVideoTracks().forEach(function(track) {\r\n                track.stop();\r\n            });\r\n        }\r\n    }\r\n\r\n    uploadMediaHandler = () => {\r\n        document.querySelector('.aroundme__form--itm__file').click()\r\n    }\r\n\r\n    uploadImageHandler = () => {\r\n        document.querySelector('.aroundme__form--itm__img').click()\r\n    }\r\n\r\n    uploadVideoHandler = () => {\r\n        document.querySelector('.aroundme__form--itm__vid').click()\r\n    }\r\n\r\n    showEmojiHandler = () => {\r\n        this.setState({showEmoji: !this.state.showEmoji})\r\n    }\r\n\r\n    selectMediaHandler = (event) => {\r\n        event.stopPropagation();\r\n        event.preventDefault();\r\n        if (event.target.files) {\r\n            const files = event.target.files;\r\n            this.handleFiles(files)\r\n        }\r\n    }\r\n\r\n    handleFiles = (files) => {\r\n        let media = [...this.state.media]\r\n        for (let i = 0; i < files.length; i++) {\r\n            const file = files[i];\r\n            if (file.type.split('/')[0] === 'video' || file.type.split('/')[0] === 'image') {\r\n                let url = window.URL.createObjectURL(file);\r\n                media.push({file, type: file.type.split('/')[0], id: uuid(), url})\r\n            }\r\n        }\r\n        this.setState({media})\r\n    }\r\n\r\n    userAuthHandler = () => {\r\n        this.setState({auth: false, status: true})\r\n    }\r\n\r\n    submitFormHandler = (event) => {\r\n        event.preventDefault();\r\n        // if (this.props.status || this.state.status) {\r\n            this.uploadCnt()\r\n            this.setState({disable: true})\r\n        // } else {\r\n        //     this.setState({auth: true})\r\n        // }\r\n    }\r\n\r\n    closeAroundmeHandler = () => {\r\n        this.props.history.goBack();\r\n        if (videoRef && videoRef.current && videoRef.current.srcObject) {\r\n            videoRef.current.srcObject.getVideoTracks().forEach(function(track) {\r\n                track.stop();\r\n            });\r\n        }\r\n    }\r\n\r\n    uploadCnt = () => {\r\n        let these = this;\r\n        let formContent = new FormData();\r\n        formContent.append('post', this.state.post.value);\r\n        formContent.append('id', this.state.id);\r\n        formContent.append('uploadedvideo', JSON.stringify(this.state.uploadedVideo));\r\n        formContent.append('uploadedimage', JSON.stringify(this.state.uploadedImg));\r\n        formContent.append('uploadedsnap',  JSON.stringify(this.state.uploadedSnap));\r\n        formContent.append('removedmedia',  JSON.stringify(this.state.removedMedia));\r\n        \r\n        for (let media of this.state.media) {\r\n            if (!media.uploaded) {\r\n                let ext = media.file.type.split('/').pop();\r\n                if (media.file.type.split('/')[0] === 'video') {\r\n                    formContent.append('video', media.file, `${media.id}.${ext}`);\r\n                } else {\r\n                    formContent.append('image', media.file, `${media.id}.${ext}`);\r\n                }\r\n            }\r\n        }\r\n\r\n        axios.post('https://www.slodge24.com/edit/aroundme', formContent, {\r\n            onUploadProgress: function (progressEvent) {\r\n                if (progressEvent.lengthComputable) {\r\n                    const percentage = Math.round((progressEvent.loaded * 100) / progressEvent.total);\r\n                    these.setState({upload: percentage})\r\n                }\r\n            }  \r\n        }).then((res) => {\r\n            window.location.assign('/index/aroundme')\r\n        }).catch((err) => {\r\n            this.setState({err, disable: false})\r\n        });\r\n    }\r\n\r\n    render() {\r\n        let emojiCnt = null;\r\n        let mediaCnt = null;\r\n        let mediaClass = ['aroundme__form--media'];\r\n        let mediaVidClass = ['aroundme__form--media__vid-hide'];\r\n        let loader = null;\r\n        let upload = null;\r\n\r\n        if (this.state.upload > 0) {\r\n            upload = (\r\n                <div style={{\r\n                    height: 4,\r\n                    width: `${this.state.upload}%`,\r\n                    backgroundColor: '#16cf27',\r\n                    position: 'absolute',\r\n                    top: 0\r\n                }}></div>\r\n            )\r\n        }\r\n\r\n        let mediaOpt = (\r\n            <ul className=\"aroundme__form--opt\">\r\n                <li \r\n                    className=\"aroundme__form--opt__camera\"\r\n                    onClick={this.cameraHandler}>\r\n                    <FontAwesomeIcon \r\n                        icon={['fas', 'camera']} />\r\n                </li>\r\n                <li \r\n                    className=\"aroundme__form--opt__rec\"\r\n                    onClick={this.videoRecHandler}>\r\n                    <div></div>\r\n                    <FontAwesomeIcon \r\n                        icon={['fas', 'video']} />\r\n                </li>\r\n                <li \r\n                    className=\"aroundme__form--opt__img\"\r\n                    onClick={this.uploadImageHandler}>\r\n                    <FontAwesomeIcon \r\n                        icon={['fas', 'images']} />\r\n                </li>\r\n                <li \r\n                    className=\"aroundme__form--opt__video\"\r\n                    onClick={this.uploadVideoHandler}>\r\n                    <FontAwesomeIcon \r\n                        icon={['fas', 'video']} />\r\n                </li>\r\n                <li \r\n                    className=\"aroundme__form--opt__file\"\r\n                    onClick={this.uploadMediaHandler}>\r\n                    <FontAwesomeIcon \r\n                        icon={['fas', 'upload']} />\r\n                </li>\r\n                <li \r\n                    className=\"aroundme__form--opt__smile\"\r\n                    onClick={this.showEmojiHandler}>\r\n                    <FontAwesomeIcon \r\n                        icon={['fas', 'smile']} />\r\n                </li>\r\n            </ul>\r\n        )\r\n\r\n        if ( this.state.showEmoji) {\r\n            emojiCnt = (\r\n                <div \r\n                    className=\"aroundme__form--emoji\">\r\n                    <div onClick={this.showEmojiHandler}></div>\r\n                    <Picker \r\n                        set=\"facebook\"\r\n                        onSelect={this.addEmojiHandler}/>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        if (!this.state.loading && !this.state.start && this.state.media.length > 0) {\r\n             mediaCnt = (\r\n                <MediaItems\r\n                    cnt={this.state.media}\r\n                    removeMedia={this.removeMediaHandler}/>\r\n             )\r\n        }\r\n\r\n        if (this.state.loading ){\r\n            loader = (\r\n                <div className=\"aroundme__form--media__loading\">\r\n                    <Loader \r\n                        cnt=\"Initializing camera ...\"\r\n                        bg/>\r\n                </div>\r\n\r\n            )\r\n        }\r\n\r\n        if (this.state.start || this.state.loading) {\r\n            mediaVidClass = ['aroundme__form--media__vid-show'];\r\n            mediaClass.push('aroundme__form--media__show')\r\n            mediaOpt = null\r\n        }\r\n\r\n        let cnt = (\r\n            <>\r\n                <div className=\"aroundme__form--cnt\">\r\n                    <div className=\"aroundme__form--cnt--wrapper\">\r\n                        <textarea \r\n                            value={this.state.post.value}\r\n                            className=\"aroundme__form--cnt__det--input aroundme__form--cnt__det--text\"\r\n                            disabled={this.state.disableInput}\r\n                            placeholder=\"Write something ....\"\r\n                            onChange={this.inputChangedHandler}></textarea>\r\n                        {/* { !this.state.post.valid && this.state.post.touched ?\r\n                            <div className=\"aroundme__form--err\">Content must not be empty</div>\r\n                            : null\r\n                        } */}\r\n                        { this.state.err ?\r\n                            <div className=\"aroundme__form--err\">{this.state.err.toString()}</div>\r\n                            : null\r\n                        }\r\n                        { emojiCnt }\r\n                    </div>\r\n                </div>\r\n                { mediaOpt }\r\n                <div className=\"aroundme__form--itm\">\r\n                    <div className=\"aroundme__form--itm__wrapper\">\r\n                        <input type=\"file\" multiple className=\"aroundme__form--itm__file\"\r\n                            onChange={this.selectMediaHandler} accept=\"*\"/>\r\n                        <input type=\"file\" multiple className=\"aroundme__form--itm__file aroundme__form--itm__vid\"\r\n                            onChange={this.selectMediaHandler} accept=\"video/*\"/>\r\n                        <input type=\"file\" multiple className=\"aroundme__form--itm__file aroundme__form--itm__img\"\r\n                            onChange={this.selectMediaHandler} accept=\"image/*\"/>\r\n                        { mediaCnt }\r\n                    </div>\r\n                </div>\r\n                <div className=\"aroundme__form--footer\">\r\n                    <button \r\n                        type=\"submit\" \r\n                        className=\"aroundme__form--footer__btn\"\r\n                        disabled={(!this.state.post.value && this.state.media.length < 1) || this.state.disable}>\r\n                            Post\r\n                    </button>\r\n                </div>\r\n            </>\r\n        )\r\n\r\n        if (this.state.auth) {\r\n            // cnt = (\r\n            //     <Auth \r\n            //         userAuth={this.userAuthHandler}/>\r\n            // )\r\n        }\r\n\r\n        let formCnt = <Loader/>;\r\n\r\n        if (this.state.loaded) {\r\n            formCnt = (\r\n                <>\r\n                    { upload }\r\n                    { cnt }\r\n                    <div className={mediaClass.join(' ')}>\r\n                        <video \r\n                            ref={videoRef}\r\n                            autoPlay\r\n                            className={mediaVidClass.join(' ')}>\r\n                            <p>our browser doesn't support embedded videos</p>\r\n                        </video> \r\n                        { loader }\r\n                        {this.state.start ?\r\n                        <div className=\"aroundme__form--media__snap\">\r\n                        {!this.state.rec ? (\r\n                            <>\r\n                                <div \r\n                                    className=\"aroundme__form--media__snap--wrapper\"\r\n                                    onClick={this.captureHandler}>\r\n                                        <FontAwesomeIcon \r\n                                            icon={['fas', 'camera']} />\r\n                                </div>\r\n                                <div \r\n                                    className=\"aroundme__form--media__snap--close\"\r\n                                    onClick={this.closeCameraHandler}>\r\n                                    <FontAwesomeIcon \r\n                                        icon={['fas', 'times']} />\r\n                                </div> \r\n                            </>\r\n                        ) :\r\n                            <>\r\n                                <div \r\n                                    className=\"aroundme__form--media__snap--wrapper aroundme__form--media__snap--wrapper__rec\"\r\n                                    onClick={this.stopRecHandler}>\r\n                                        <FontAwesomeIcon \r\n                                            icon={['fas', 'video']} />\r\n                                </div>\r\n                                <div \r\n                                    className=\"aroundme__form--media__snap--close\"\r\n                                    onClick={this.cancelRecHandler}>\r\n                                    <FontAwesomeIcon \r\n                                    icon={['fas', 'times']} />\r\n                                </div> \r\n                            </>\r\n                        }\r\n                        </div> : null}\r\n                    </div>\r\n                </>\r\n            )\r\n        }\r\n\r\n        return (\r\n            <form \r\n                className=\"aroundme__form\"\r\n                onSubmit={this.submitFormHandler}>\r\n                <div className=\"aroundme__form--main-cnt\">\r\n                    <div className=\"aroundme__form--backdrop\"  onClick={this.closeAroundmeHandler}>\r\n                    </div>  \r\n                    <div className=\"aroundme__form--wrapper\">\r\n                        {formCnt }\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n       status: state.auth.status\r\n    };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, null)(Form));"],"sourceRoot":""}