(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{501:function(e,t,n){},523:function(e,t,n){},531:function(e,t,n){"use strict";n.r(t);var o=n(67),a=n(0),s=n.n(a),r=n(19),i=n(66),c=(n(502),n(97)),l=n.n(c),p=n(73),u=n(520),d=n.n(u),_=n(53),h=(n(523),n(501),n(2)),m=n(9);var g=e=>{let t=null,n=["reuse-group__cnt--desc__opt--join"],o=!1,a=["reuse-group__cnt--desc__opt--cancel reuse-group__cnt--desc__opt--cancel"],r=["reuse-group__footer--info__options"],i=null,c=null,l=s.a.createElement(_.a,{name:e.cnt.title,size:"60",round:!0});if(e.cnt.image&&e.cnt.image.length>0&&(l=s.a.createElement("img",{src:"".concat(window.location.protocol+"//"+window.location.host,"/media/image/").concat(e.cnt.image[0].id),alt:"group"})),e.joinStartID&&e.joinStartID.length>0){var u,g=Object(p.a)(e.joinStartID);try{for(g.s();!(u=g.n()).done;)u.value===e.cnt._id&&(n.push("reuse-group__cnt--desc__opt--join__start"),a.push("reuse-group__cnt--desc__opt--join__start"))}catch(v){g.e(v)}finally{g.f()}}if(e.joined&&e.joined.length>0){var f,E=Object(p.a)(e.joined);try{for(E.s();!(f=E.n()).done;){let t=f.value;e.cnt._id===t&&(o=!0)}}catch(v){E.e(v)}finally{E.f()}}e.cnt.userOpt&&e.cnt.requestTotal>0&&(t=s.a.createElement("div",{className:"reuse-group__footer--info__active"},e.cnt.requestTotal));let b=s.a.createElement("div",{className:n.join(" "),onClick:e.join},s.a.createElement(m.a,{icon:["fas","plus"],className:"icon icon__reuse-group--cnt__join"}),"Join");return e.showOpt&&e.showOpt.visible&&e.cnt._id===e.showOpt.id&&r.push("reuse-group__footer--info__options--visible"),(e.cnt.member||e.cnt.userOpt)&&(b=s.a.createElement("div",{className:"reuse-group__cnt--desc__opt--chat"},s.a.createElement("a",{href:"/chat/group/".concat(e.cnt._id)},s.a.createElement(m.a,{icon:["fas","comment-dots"],className:"icon icon__reuse-group--cnt__comment"}),"Chat"))),e.cnt.member&&(c=s.a.createElement("li",{onClick:e.exitGrp,className:"reuse-group__footer--info__options--del"},"Exit Group")),e.cnt.userOpt&&(i=s.a.createElement(s.a.Fragment,null,s.a.createElement("li",{className:"reuse-group__footer--info__options--edit"},s.a.createElement("a",{href:"/edit/group/".concat(e.cnt._id)},s.a.createElement(m.a,{icon:["far","edit"],className:"icon icon__reuse-grp--options"}),"Edit")),s.a.createElement("li",{onClick:e.deleteGrp,className:"reuse-group__footer--info__options--del"},s.a.createElement(m.a,{icon:["far","trash-alt"],className:"icon icon__reuse-grp--options"}),"Delete"))),(o||e.cnt.request)&&(b=s.a.createElement("div",{className:a.join(" "),onClick:e.cancelReq},s.a.createElement(m.a,{icon:["fas","times"],className:"icon icon__reuse-group--cnt__cancel"}),"Cancel")),s.a.createElement("div",{className:"reuse-group"},s.a.createElement("div",{className:"reuse-group__wrapper"},s.a.createElement("ul",{className:"reuse-group__header"},s.a.createElement("li",null,s.a.createElement("div",{className:"reuse-group__header--tm"},s.a.createElement(m.a,{icon:["fas","calendar-check"],className:"icon icon__reuse-group--header__calend"}),s.a.createElement("span",null,s.a.createElement(d.a,{format:"MMM YYYY"},e.cnt.groupCreated)))),s.a.createElement("li",null,s.a.createElement("div",{className:"reuse-group__header--categ reuse-group__header--categ__mode"},s.a.createElement(m.a,{icon:["fas","tag"],className:"icon icon__reuse-group--header__tag--mode"}),String(e.cnt.groupMode).substr(0,1).toUpperCase()+String(e.cnt.groupMode).substr(1).toLowerCase()),s.a.createElement("div",{className:"reuse-group__header--categ"},s.a.createElement(m.a,{icon:e.cnt.category.length>1?["fas","tags"]:["fas","tag"],className:"icon icon__reuse-group--header__tag"}),e.cnt.category[0]))),s.a.createElement("div",{className:"reuse-group__cnt"},s.a.createElement("div",{className:"reuse-group__cnt--img"},l),s.a.createElement("div",{className:"reuse-group__cnt--desc"},s.a.createElement("div",{className:"reuse-group__cnt--desc__title"},e.cnt.member||e.cnt.userOpt?s.a.createElement("a",{href:"/chat/group/".concat(e.cnt._id)},e.cnt.title):e.cnt.title),s.a.createElement("div",{className:"reuse-group__cnt--desc__opt"},b))),s.a.createElement("div",{className:"reuse-group__footer"},s.a.createElement("ul",{className:"reuse-group__footer--grp-det"},s.a.createElement("li",{className:"reuse-group__footer--grp-det__users"},s.a.createElement("div",{className:"reuse-group__footer--grp-det__users--wrapper"},s.a.createElement("div",{className:"reuse-group__footer--grp-det__users--icn"},s.a.createElement(m.a,{icon:["fas","users"],className:"icon icon__reuse-group--footer__users"})),Object(h.d)(e.cnt.members)))),e.clipboard?s.a.createElement("div",{className:"reuse-group__footer--tooltip"},e.clipboard):null,s.a.createElement("div",{className:"reuse-group__footer--info",onClick:e.userOpt},s.a.createElement("div",{className:"reuse-group__footer--info__mid"}),s.a.createElement("ul",{className:r.join(" ")},s.a.createElement("li",{className:"reuse-group__footer--info__options--status",onClick:e.groupInfo},s.a.createElement(m.a,{icon:["fas","info"],className:"icon icon__reuse-grp--options__info"}),"Info"),s.a.createElement("li",{className:"reuse-group__footer--info__options--status",onClick:e.copyLink},s.a.createElement(m.a,{icon:["fas","clipboard"],className:"icon icon__reuse-grp--options"}),"Invite"),i,c),t))))};var f=e=>{return l()(e.content,"groupCreated",{reverse:!0}).map((t,n)=>s.a.createElement(g,{key:n,cnt:t,groupInfo:e.groupInfo.bind(void 0,t._id),join:e.join.bind(void 0,t._id,"join"),joinStartID:e.joinStartID,joined:e.joined,cancelReq:e.join.bind(void 0,t._id,"cancel"),userOpt:e.userOpt.bind(void 0,t._id),showOpt:e.showOpt,deleteGrp:e.changeCnt.bind(void 0,t._id,t.title,"delete",!1),exitGrp:e.changeCnt.bind(void 0,t._id,t.title,"exit",!1),copyLink:e.copyLink.bind(void 0,t._id),clipboard:e.clipboard}))},E=n(29),b=n(60),v=n(4);t.default=Object(i.f)(Object(r.b)(e=>({status:e.auth.status,userID:e.auth.userID,cnts:e.cnt.cnts,skipCnt:e.cnt.skipCnt,cntTotal:e.cnt.cntTotal,joinStartID:e.cnt.joinStartID,joined:e.cnt.joined,changedFav:e.cnt.changedFav,favChange:e.cnt.favChange,postErr:e.cnt.postErr,postVideo:e.cnt.postVideo,videoErr:e.cnt.videoErr,filterDet:e.cnt.filterDet}),e=>({onFetchCnt:(t,n,o,a,s)=>e(v.N(t,n,o,a,s)),onFetchCntReset:()=>e(v.O()),onJoinGrp:(t,n)=>e(v.Vb(t,n)),onChangeFav:(t,n,o,a,s,r)=>e(v.h(t,n,o,a,s,r)),onShareCnt:t=>e(v.dc(t)),onChangeTag:t=>e(v.w(t)),onChangeCnt:(t,n,o,a,s)=>e(v.d(t,n,o,a,s))}))(class extends a.Component{constructor(e){super(e),this.onScroll=(()=>{window.innerHeight+Math.ceil(window.pageYOffset+1)>=document.body.offsetHeight&&this.props.onFetchCnt("group"!==this.state.filterTag?"filter"===this.state.filterTag?"filter=="+this.props.filterDet:this.state.filterTag:"group",this.state.fetchLimit,this.props.skipCnt+this.state.fetchLimit,this.props.cntTotal)}),this.joinGrpHandler=((e,t)=>{this.props.onJoinGrp(e,t)}),this.groupInfoHandler=(e=>{this.props.onShareCnt(Object(o.a)({},e)),this.props.history.push("/index/group/".concat(e._id))}),this.showUserOptHandler=(e=>{if(this.state.cntOpt&&this.state.cntOpt.id===e)return void this.setState((e,t)=>({cntOpt:Object(h.f)(e.cntOpt,{visible:!e.cntOpt.visible})}));const t={visible:!0,id:e};this.setState({cntOpt:t})}),this.changeCntHandler=((e,t,n,o)=>{this.props.onChangeCnt(e,t,n,o,"delete"===n?"deletegroup":"exitgroup")}),this.copyLinkHandler=(e=>{!function(e){navigator.clipboard?navigator.clipboard.writeText(e).then(function(){t.setState({clipboard:"Copying to clipboard was successful!",resetClipboard:!0})},function(e){t.setState({clipboard:"Could not copy link to clipboard"})}):function(e){var n=document.createElement("textarea");n.value=e,n.style.top="0",n.style.left="0",n.style.position="fixed",n.style.padding=0,n.style.width="2em",n.style.height="2em",n.style.border="none",n.style.outline="none",n.style.boxShadow="none",document.body.appendChild(n),n.focus(),n.select();try{var o=document.execCommand("copy"),a=o?"successful":"unsuccessful";t.setState({clipboard:"successful"===a?"Copying to clipboard was successful!":"Could not copy link to clipboard",resetClipboard:"successful"===a})}catch(s){t.setState({clipboard:"Could not copy link to clipboard"})}document.body.removeChild(n)}(e)}("https://www.slodge24.com/chat/group/".concat(e));let t=this});let t=0;this.props.onFetchCntReset(),t=window.innerHeight>=1200?18:window.innerHeight>=900?12:window.innerHeight>=500?9:6,this.state={cntOpt:null,fetchLimit:t,filterTag:"group",mediaItms:[],clipboard:null,resetClipboard:!1,clearClipboard:null,scrollEnable:!1}}componentDidMount(){this.props.onFetchCnt(this.props.userID,this.state.filterTag,this.state.fetchLimit,0,0),this.props.onChangeTag("/group")}componentDidUpdate(){if(this.props.cnts&&this.props.cnts.length>0&&!this.state.scrollEnable&&(window.addEventListener("scroll",this.onScroll,!1),this.setState({scrollEnable:!0})),this.state.clipboard&&this.state.resetClipboard){clearTimeout(this.state.clearClipboard);let e=setTimeout(()=>{this.setState({clipboard:null})},2e3);this.setState({resetClipboard:!1,clearClipboard:e})}}componentWillUnmount(){this.props.onFetchCntReset(),window.removeEventListener("scroll",this.onScroll,!1)}render(){let e=s.a.createElement(E.a,null);return this.props.postErr&&(e=null),this.props.cnts&&0===this.props.cnts.length&&"shared"===this.state.filterTag&&(e=s.a.createElement(b.a,{isAuth:null!==this.props.userID,det:"No Group found!",icn:"user-friends",filter:!0})),this.props.cnts&&0===this.props.cnts.length&&"shared"!==this.state.filterTag&&(e=s.a.createElement(b.a,{isAuth:this.props.status,det:"No Group found!",icn:"user-friends",filter:!0})),this.props.cnts&&this.props.cnts.length>0&&(e=s.a.createElement(f,{content:this.props.cnts,join:this.joinGrpHandler,joinStartID:this.props.joinStartID,joined:this.props.joined,groupInfo:this.groupInfoHandler,userOpt:this.showUserOptHandler,showOpt:this.state.cntOpt,changeCnt:this.changeCntHandler,copyLink:this.copyLinkHandler,clipboard:this.state.clipboard})),this.props.status||(e=s.a.createElement(b.a,{isAuth:this.props.status,det:"No Group found!",icn:"user-friends",filter:!0})),e}}))}}]);
//# sourceMappingURL=8.ed547944.chunk.js.map