(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{763:function(e,t,r){e.exports=function(){"use strict";function e(e,t){if(e)for(var r in e)({}).hasOwnProperty.call(e,r)&&t(r,e[r])}var t={unstyled:"p","header-one":"h1","header-two":"h2","header-three":"h3","header-four":"h4","header-five":"h5","header-six":"h6","unordered-list-item":"ul","ordered-list-item":"ol",blockquote:"blockquote",code:"pre"};function r(e){return e&&t[e]}function a(t){var r="";return e(t,function(e,t){t&&(r+="".concat(e,":").concat(t,";"))}),r}function n(e){return!(!(e.entityRanges.length>0)||(t=e.text,void 0!==t&&null!==t&&0!==t.length&&0!==t.trim().length&&"atomic"!==e.type));var t}function s(e,t){var r={};return e.COLOR[t]&&(r.COLOR=e.COLOR[t]),e.BGCOLOR[t]&&(r.BGCOLOR=e.BGCOLOR[t]),e.FONTSIZE[t]&&(r.FONTSIZE=e.FONTSIZE[t]),e.FONTFAMILY[t]&&(r.FONTFAMILY=e.FONTFAMILY[t]),e.UNDERLINE[t]&&(r.UNDERLINE=!0),e.ITALIC[t]&&(r.ITALIC=!0),e.BOLD[t]&&(r.BOLD=!0),e.STRIKETHROUGH[t]&&(r.STRIKETHROUGH=!0),e.CODE[t]&&(r.CODE=!0),e.SUBSCRIPT[t]&&(r.SUBSCRIPT=!0),e.SUPERSCRIPT[t]&&(r.SUPERSCRIPT=!0),r}function c(e,t,r){var a=!0;return r>0&&r<e.length?t.forEach(function(t){a=a&&e[t][r]===e[t][r-1]}):a=!1,a}function i(e,t,r,a){var n=e[t];if("function"===typeof a){var s=a(n,r);if(s)return s}if("MENTION"===n.type)return'<a href="'.concat(n.data.url,'" class="wysiwyg-mention" data-mention data-value="').concat(n.data.value,'">').concat(r,"</a>");if("LINK"===n.type){var c=n.data.targetOption||"_self";return'<a href="'.concat(n.data.url,'" target="').concat(c,'">').concat(r,"</a>")}if("IMAGE"===n.type){var i=n.data.alignment;return i&&i.length?'<div style="text-align:'.concat(i,';"><img src="').concat(n.data.src,'" alt="').concat(n.data.alt,'" style="height: ').concat(n.data.height,";width: ").concat(n.data.width,'"/></div>'):'<img src="'.concat(n.data.src,'" alt="').concat(n.data.alt,'" style="height: ').concat(n.data.height,";width: ").concat(n.data.width,'"/>')}return"EMBEDDED_LINK"===n.type?'<iframe width="'.concat(n.data.width,'" height="').concat(n.data.height,'" src="').concat(n.data.src,'" frameBorder="0"></iframe>'):r}function o(e,t,r,a){var n=[],i=Array.from(e.text);if(i.length>0)for(var o,u=function(e){var t=e.text,r=e.inlineStyleRanges,a={BOLD:new Array(t.length),ITALIC:new Array(t.length),UNDERLINE:new Array(t.length),STRIKETHROUGH:new Array(t.length),CODE:new Array(t.length),SUPERSCRIPT:new Array(t.length),SUBSCRIPT:new Array(t.length),COLOR:new Array(t.length),BGCOLOR:new Array(t.length),FONTSIZE:new Array(t.length),FONTFAMILY:new Array(t.length),length:t.length};return r&&r.length>0&&r.forEach(function(e){for(var t=e.offset,r=t+e.length,n=t;n<r;n+=1)0===e.style.indexOf("color-")?a.COLOR[n]=e.style.substring(6):0===e.style.indexOf("bgcolor-")?a.BGCOLOR[n]=e.style.substring(8):0===e.style.indexOf("fontsize-")?a.FONTSIZE[n]=e.style.substring(9):0===e.style.indexOf("fontfamily-")?a.FONTFAMILY[n]=e.style.substring(11):a[e.style]&&(a[e.style][n]=!0)}),a}(e),l=r;l<a;l+=1)l!==r&&c(u,t,l)?(o.text.push(i[l]),o.end=l+1):(o={styles:s(u,l),text:[i[l]],start:l,end:l+1},n.push(o));return n}function u(t,r){var a=o(t,["BOLD","ITALIC","UNDERLINE","STRIKETHROUGH","CODE","SUPERSCRIPT","SUBSCRIPT"],r.start,r.end),n="";return a.forEach(function(t){n+=function(t){var r=t.styles,a=function(e){if(e&&e.length>0){var t=e.map(function(e){switch(e){case"\n":return"<br>";case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";default:return e}});return t.join("")}return""}(t.text);return e(r,function(e,t){a=function(e,t){return"BOLD"===e?"<strong>".concat(t,"</strong>"):"ITALIC"===e?"<em>".concat(t,"</em>"):"UNDERLINE"===e?"<ins>".concat(t,"</ins>"):"STRIKETHROUGH"===e?"<del>".concat(t,"</del>"):"CODE"===e?"<code>".concat(t,"</code>"):"SUPERSCRIPT"===e?"<sup>".concat(t,"</sup>"):"SUBSCRIPT"===e?"<sub>".concat(t,"</sub>"):t}(e,a)}),a}(t)}),n=function(e,t){if(e&&(e.COLOR||e.BGCOLOR||e.FONTSIZE||e.FONTFAMILY)){var r='style="';return e.COLOR&&(r+="color: ".concat(e.COLOR,";")),e.BGCOLOR&&(r+="background-color: ".concat(e.BGCOLOR,";")),e.FONTSIZE&&(r+="font-size: ".concat(e.FONTSIZE).concat(/^\d+$/.test(e.FONTSIZE)?"px":"",";")),e.FONTFAMILY&&(r+="font-family: ".concat(e.FONTFAMILY,";")),"<span ".concat(r+='"',">").concat(t,"</span>")}return t}(r.styles,n)}function l(e,t,r,a){var n=[],s=function(e,t){var r=[],a=0,n=e.entityRanges.map(function(e){var t=e.offset,r=e.length,a=e.key;return{offset:t,length:r,key:a,type:"ENTITY"}});return(n=(n=n.concat(function(e,t){var r=[];if(t)for(var a=0,n=0,s=e,c=t.trigger||"#",i=t.separator||" ";s.length>0&&n>=0;)if(s[0]===c?(n=0,a=0,s=s.substr(c.length)):(n=s.indexOf(i+c))>=0&&(s=s.substr(n+(i+c).length),a+=n+i.length),n>=0){var o=s.indexOf(i)>=0?s.indexOf(i):s.length,u=s.substr(0,o);u&&u.length>0&&r.push({offset:a,length:u.length+c.length,type:"HASHTAG"}),a+=c.length}return r}(e.text,t))).sort(function(e,t){return e.offset-t.offset})).forEach(function(e){e.offset>a&&r.push({start:a,end:e.offset}),r.push({start:e.offset,end:e.offset+e.length,entityKey:e.key,type:e.type}),a=e.offset+e.length}),a<e.text.length&&r.push({start:a,end:e.text.length}),r}(e,r);return s.forEach(function(r,c){var l=function(e,t,r,a){var n=[];o(e,["COLOR","BGCOLOR","FONTSIZE","FONTFAMILY"],r.start,r.end).forEach(function(t){n.push(u(e,t))});var s=n.join("");return"ENTITY"===r.type?void 0!==r.entityKey&&null!==r.entityKey&&(s=i(t,r.entityKey,s,a)):"HASHTAG"===r.type&&(s='<a href="'.concat(s,'" class="wysiwyg-hashtag">').concat(s,"</a>")),s}(e,t,r,a);0===c&&(l=function(e){if(e){for(var t=e,r=0;r<t.length&&" "===e[r];r+=1)t=t.replace(" ","&nbsp;");return t}return e}(l)),c===s.length-1&&(l=function(e){if(e){for(var t=e,r=t.length-1;r>=0&&" "===t[r];r-=1)t="".concat(t.substring(0,r),"&nbsp;").concat(t.substring(r+1));return t}return e}(l)),n.push(l)}),n.join("")}function p(e,t,n,s,c){var i,o=[],u=[];return e.forEach(function(e){var h=!1;if(i?i.type!==e.type?(o.push("</".concat(r(i.type),">\n")),o.push("<".concat(r(e.type),">\n"))):i.depth===e.depth?u&&u.length>0&&(o.push(p(u,t,n,s,c)),u=[]):(h=!0,u.push(e)):o.push("<".concat(r(e.type),">\n")),!h){o.push("<li");var f=a(e.data);f&&o.push(' style="'.concat(f,'"')),s&&o.push(' dir = "auto"'),o.push(">"),o.push(l(e,t,n,c)),o.push("</li>\n"),i=e}}),u&&u.length>0&&o.push(p(u,t,n,s,c)),o.push("</".concat(r(i.type),">\n")),o.join("")}return function(e,t,s,c){var o=[];if(e){var u=e.blocks,h=e.entityMap;if(u&&u.length>0){var f=[];if(u.forEach(function(e){if("unordered-list-item"===(m=e.type)||"ordered-list-item"===m)f.push(e);else{if(f.length>0){var u=p(f,h,t,c);o.push(u),f=[]}var d=function(e,t,s,c,o){var u=[];if(n(e))u.push(i(t,e.entityRanges[0].key,void 0,o));else{var p=r(e.type);if(p){u.push("<".concat(p));var h=a(e.data);h&&u.push(' style="'.concat(h,'"')),c&&u.push(' dir = "auto"'),u.push(">"),u.push(l(e,t,s,o)),u.push("</".concat(p,">"))}}return u.push("\n"),u.join("")}(e,h,t,s,c);o.push(d)}var m}),f.length>0){var d=p(f,h,t,s,c);o.push(d),f=[]}}}return o.join("")}}()},764:function(e,t,r){},765:function(e,t,r){},766:function(e,t,r){},767:function(e,t,r){},789:function(e,t,r){"use strict";r.r(t);var a=r(15),n=r(16),s=r(17),c=r(18),i=r(0),o=r.n(i),u=r(86),l=r(24),p=r(8),h=r(72),f=r(763),d=r.n(f),m=(r(764),r(765),r(4)),g=function(e){Object(c.a)(r,e);var t=Object(s.a)(r);function r(){var e;Object(a.a)(this,r);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={inputValue:""},e.filterContentHandler=function(t){e.setState({inputValue:t.target.value}),e.props.onFilterUser(e.props.users,t.target.value)},e}return Object(n.a)(r,[{key:"render",value:function(){return o.a.createElement("input",{className:"reuse-share__tab--srch__input",placeholder:"search user....",autoFocus:!0,onChange:this.filterContentHandler,value:this.state.inputValue})}}]),r}(i.Component),_=Object(l.b)(function(e){return{users:e.grp.users}},function(e){return{onFilterUser:function(t,r){return e(m.Jb(t,r))}}})(g),v=function(e){Object(c.a)(r,e);var t=Object(s.a)(r);function r(){return Object(a.a)(this,r),t.apply(this,arguments)}return Object(n.a)(r,[{key:"render",value:function(){return o.a.createElement(_,null)}}]),r}(i.Component),E=(r(766),r(93)),O=(r(767),function(e){var t=["reuse-user__det--opt__acc"],r=["reuse-user__det--opt__rej"],a=!1,n=o.a.createElement("img",{src:e.userDet.image,alt:""}),s=o.a.createElement("li",null,o.a.createElement("div",null,e.userDet.studenttotal)," Student"),c=o.a.createElement("div",{className:"reuse-user__det--img__status reuse-user__det--img__status--on"});if(e.disable&&e.disable.length>0){var i,u=Object(E.a)(e.disable);try{for(u.s();!(i=u.n()).done;)i.value===e.userDet._id&&(t.push("reuse-user__det--opt__acc--disable"),r.push("reuse-user__det--opt__acc--disable"),a=!0)}catch(l){u.e(l)}finally{u.f()}}return e.userOpt&&(s="request"===e.curTab?o.a.createElement("div",{className:"reuse-user__det--opt"},o.a.createElement("button",{className:t.join(" "),onClick:e.accept,disabled:a},"Accept"),o.a.createElement("button",{className:r.join(" "),onClick:e.reject,disabled:a},"Reject")):o.a.createElement("div",{className:"reuse-user__det--opt"},o.a.createElement("button",{className:"reuse-user__det--opt__blk",onClick:e.remove},o.a.createElement(p.a,{icon:["fas","times"],className:"icon icon__reuse-user--det__opt"}),"Remove"))),e.userDet.status||(c=o.a.createElement("div",{className:"reuse-user__det--img__status reuse-user__det--img__status--off"})),e.userDet.username&&!e.userDet.image&&(n=o.a.createElement(h.a,{name:e.userDet.username,size:"60",round:!0})),o.a.createElement("div",{className:"reuse-user",onClick:e.selected},o.a.createElement("div",{className:["reuse-user__det"].join(" ")},o.a.createElement("div",{className:"reuse-user__det--img"},n,c),o.a.createElement("ul",{className:"reuse-user__det--user"},o.a.createElement("li",{className:"reuse-user__det--user__info"},o.a.createElement("a",{href:"/user/profile/"+e.userDet._id},e.userDet.username)),s)))}),b=function(e){return e.content.map(function(t,r){return o.a.createElement(O,{key:r,userDet:t,id:t._id,userOpt:e.userOpt,curTab:e.curTab,disable:e.disable,accept:e.changeCnt.bind(void 0,t._id,"accept",t.username,!0),reject:e.changeCnt.bind(void 0,t._id,"reject",t.username,!1),remove:e.changeCnt.bind(void 0,t._id,"remove",t.username,!1)})})},I=r(40),y=function(e){Object(c.a)(r,e);var t=Object(s.a)(r);function r(){var e;Object(a.a)(this,r);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={users:[]},e.changeCntHandler=function(t,r,a,n){e.props.onChangeCnt(e.props.grpInfo._id,t,r,a,e.props.curTab,n)},e}return Object(n.a)(r,[{key:"componentDidUpdate",value:function(){this.props.filterUser&&JSON.stringify(this.state.users)!==JSON.stringify(this.props.filterUser)&&this.setState({users:this.props.filterUser}),this.props.filterUser||JSON.stringify(this.state.users)===JSON.stringify(this.props.users)||this.setState({users:this.props.users})}},{key:"render",value:function(){var e=o.a.createElement(I.a,null);return this.state.users&&(e=o.a.createElement(b,{content:this.state.users,userOpt:this.props.userOpt,curTab:this.props.curTab,changeCnt:this.changeCntHandler,disable:this.props.disable})),o.a.createElement("div",{className:"reuse-share__all-users"},e)}}]),r}(i.Component),N=Object(l.b)(function(e){return{users:e.grp.users,userOpt:e.grp.userOpt,curTab:e.grp.curTab,disable:e.grp.disable,grpInfo:e.grp.grpInfo,filterUser:e.grp.filterUser}},function(e){return{onChangeCnt:function(t,r,a,n,s,c){return e(m.q(t,r,a,n,s,c))}}})(y),T=r(162),C=function(e){Object(c.a)(r,e);var t=Object(s.a)(r);function r(){var e;Object(a.a)(this,r);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={showInput:!1,showNewTab:!1,curTab:"online"},e.closeShareHandler=function(){e.props.history.goBack()},e.showSearchInputHandler=function(){e.setState(function(e,t){return{showInput:!e.showInput}}),e.props.onResetInputFilter()},e.changeTabHandler=function(t){var r=null;r="online"===t?t:r,r="offline"===t?t:r,r="request"===t?t:r,e.setState({curTab:r,showNewTab:!0})},e}return Object(n.a)(r,[{key:"componentDidMount",value:function(){this.props.grpInfo&&this.props.onFetchInfo(this.props.grpInfo._id,this.state.curTab)}},{key:"componentWillUnmount",value:function(){this.props.onDefaultShareProps()}},{key:"componentDidUpdate",value:function(){this.state.showNewTab&&(this.props.onFetchInfo(this.props.grpInfo,this.state.curTab),this.setState({showNewTab:!1}))}},{key:"render",value:function(){var e=null,t=null,r=["reuse-share__tab--srch__icn"],a=null,n=null,s=o.a.createElement("div",{className:"reuse-prf__grp--img__status reuse-prf__grp--img__status--off"});this.state.showInput&&(r.push("reuse-share__tab--srch__icn--hidden"),e=o.a.createElement("div",{className:"reuse-share__tab--srch__wrapper"},o.a.createElement("div",{className:"reuse-share__tab--srch__close",onClick:this.showSearchInputHandler},o.a.createElement(p.a,{icon:["fas","times"]})),o.a.createElement("div",{className:"reuse-share__tab--srch__input-wrapper"},o.a.createElement(v,null))));var c=o.a.createElement("div",{className:"reuse-share__wrapper"},o.a.createElement(I.a,null));if(this.props.grpInfo&&!this.props.grpInfo.userImage&&(a=o.a.createElement(h.a,{name:this.props.grpInfo.username,size:"30",round:!0})),this.props.grpInfo&&this.props.grpInfo.userImage&&(a=o.a.createElement("img",{src:this.props.grpInfo.userImage,alt:""})),this.props.grpInfo&&!this.props.grpInfo.image.length&&(n=o.a.createElement(h.a,{name:this.props.grpInfo.title,size:"100"})),this.props.grpInfo&&this.props.grpInfo.image.length>0&&(n=o.a.createElement("img",{src:"".concat(window.location.protocol+"//"+window.location.host,"/media/image/").concat(this.props.grpInfo.image[0].id),alt:"group"})),this.props.grpInfo){var i=JSON.parse(this.props.grpInfo.desc),u=d()(i,{trigger:"#",separator:" "},!0);this.props.grpInfo.status&&(s=o.a.createElement("div",{className:"reuse-prf__grp--img__status reuse-prf__grp--img__status--on"})),this.props.grpInfo.userOpt&&(t=o.a.createElement("li",{className:"request"===this.state.curTab?"active-grp-content-tab":null,onClick:this.changeTabHandler.bind(this,"request")},"Request",this.props.requestTotal>0?o.a.createElement("span",null,this.props.requestTotal):null,"request"===this.state.curTab?o.a.createElement("div",{className:"active-grp-content-tab__active"}):null)),c=o.a.createElement("div",{className:"reuse-share__wrapper"},o.a.createElement("div",{className:"reuse-prf"},o.a.createElement("div",{className:"reuse-prf__grp"},o.a.createElement("div",{className:"reuse-prf__grp--img"},o.a.createElement("div",{className:"reuse-prf__grp--img__wrapper"},n,this.props.grpInfo.userOpt?o.a.createElement("div",null,o.a.createElement("a",{href:"/edit/group/".concat(this.props.grpInfo._id)},o.a.createElement(p.a,{icon:["fas","edit"]}))):null)),o.a.createElement("div",{className:"reuse-prf__grp--det"},o.a.createElement("div",{className:"reuse-prf__grp--det__name"},this.props.grpInfo.title),o.a.createElement("div",{className:"reuse-prf__grp--det__admin"},o.a.createElement("div",{className:"reuse-prf__grp--det__admin--title"},o.a.createElement(p.a,{icon:["fas","cogs"],className:"icon icon__reuse-prf__grp--admin"}),"Admin"),o.a.createElement("div",{className:"reuse-prf__grp--det__admin--info"},o.a.createElement("div",{className:"reuse-prf__grp--det__admin--info-wrapper"},o.a.createElement("div",null,a,s),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("a",{href:"/user/profile/".concat(this.props.grpInfo.authorID)},this.props.grpInfo.username," ")),o.a.createElement("li",null,o.a.createElement("span",null,this.props.grpInfo.studenttotal)," Friend")))))))),o.a.createElement("p",{className:"reuse-share__desc",dangerouslySetInnerHTML:{__html:u}}),o.a.createElement("div",{className:"reuse-share__tab"},o.a.createElement("ul",{className:"reuse-share__tab--cnt"},o.a.createElement("li",{className:"online"===this.state.curTab?"active-grp-content-tab":null,onClick:this.changeTabHandler.bind(this,"online")},"online"===this.state.curTab?o.a.createElement("div",{className:"active-grp-content-tab__active"}):null,"Online"),o.a.createElement("li",{className:"offline"===this.state.curTab?"reuse-share__tab--cnt__offline active-grp-content-tab":"reuse-share__tab--cnt__offline",onClick:this.changeTabHandler.bind(this,"offline")},"offline"===this.state.curTab?o.a.createElement("div",{className:"active-grp-content-tab__active"}):null,"Offline"),t),o.a.createElement("div",{className:"reuse-share__tab--srch"},o.a.createElement("div",{className:r.join(" "),onClick:this.showSearchInputHandler},o.a.createElement(p.a,{icon:["fas","search"],className:"icon icon__reuse-form--srch"})),e)),o.a.createElement(N,null))}this.props.grpErr&&(c=o.a.createElement(T.a,{err:this.props.grpErr}));var l=o.a.createElement("div",{className:"reuse-share"},o.a.createElement("div",{className:"reuse-share__main-wrapper"},o.a.createElement("div",{className:"reuse-share__backdrop",onClick:this.closeShareHandler}),c));return this.props.grpInfo||(this.closeShareHandler(),l=null),l}}]),r}(i.Component);t.default=Object(u.f)(Object(l.b)(function(e){return{grpInfo:e.grp.grpInfo,grpErr:e.grp.grpErr,status:e.auth.status,requestTotal:e.grp.requestTotal}},function(e){return{onDefaultShareProps:function(){return e(m.kc())},onFetchInfo:function(t,r){return e(m.W(t,r))},onResetInputFilter:function(){return e(m.hc())}}})(C))}}]);
//# sourceMappingURL=12.ba36751f.chunk.js.map