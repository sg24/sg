{"version":3,"sources":["components/Main/Advert/AdvertContent/AdvertContent.js","components/Main/Advert/Advert.js","containers/SiteMain/MainContent/Adverts/Adverts.js"],"names":["advertContent","props","formatter","buildFormatter","engStrings","userOpt","userOptDetClass","userOptClass","favAdd","isLiked","userOptMode","react_default","a","createElement","className","onClick","changeCnt","index_es","icon","fav","userImage","src","cnt","alt","mode","changeCntPublish","username","react_avatar_es","name","size","round","_step","_iterator","Object","createForOfIteratorHelper","changedFav","s","n","done","value","_id","id","liked","err","e","f","media","mediaCnt","concat","toConsumableArray","snapshot","image","playVideo","mediaWrapperClass","length","_step2","isShowned","_iterator2","mediaItms","mediaItm","animateItm","direction","removePrevAnim","push","removePrevMedia","showPrevAnim","displayMedia","position","prevAnim","type","updateMedia","curMedia","videoCnt","objectSpread2","url","window","location","protocol","host","mediaType","video","playerIcnId","bind","this","onDragStart","touch-action","disableAnim","join","onAnimationEnd","removeAnim","controls","autoPlay","draggable","videoErr","message","Aux","nextMedia","prevMedia","showCnt","visible","index","href","deleteCnt","authorID","lib_default","date","created","live","category","share","title","String","desc","substr","transformNumber","view","comment","favorite","favChange","FavoriteActive","advert","arraySort","content","reverse","map","AdvertContent_AdvertContent","key","showCntOpt","slidePlay","moveSlidePlay","clearSlidePlay","IS_ANIMATED","Adverts","_this","classCallCheck","_super","call","onScroll","innerHeight","Math","ceil","pageYOffset","document","body","offsetHeight","onFetchCnt","userID","state","filterTag","filterDet","fetchLimit","skipCnt","cntTotal","showUserOptHandler","cntOpt","setState","prevState","updateObject","newCntOpt","changeFavoriteHandler","cntGrp","onChangeFav","showShareHandler","shareID","onChangeShareID","history","changeMediaHandler","maxLength","animateSlider","removeAnimHandler","event","playVideoHandler","onFetchVideo","slidePlayHandler","target","setPointerCapture","pointerId","clearSlidePlayhandler","slide","releasePointerCapture","style","left","videoPlayerIcn","querySelector","moveSlidePlayHandler","hasPointerCapture","newpos","clientX","parentElement","offsetLeft","offsetWidth","playerIcnHeight","timeFrame","setTimeout","filterMedia","filter","mediaDet","changeCntHandler","det","modelType","checkTitle","onChangeCnt","onFetchCntReset","limit","animationComplete","scrollEnable","onChangeTag","cnts","addEventListener","match","params","removeEventListener","Loader","postErr","NoAcc","isAuth","icn","Advert","postVideo","Component","withRouter","connect","auth","cntErr","dispatch","fetchType","actions","cntType","path","confirm"],"mappings":"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","file":"static/js/8.078e6c2e.chunk.js","sourcesContent":["import React from 'react';\r\nimport TimeAgo from 'react-timeago';\r\nimport buildFormatter from 'react-timeago/lib/formatters/buildFormatter'\r\nimport Avatar from 'react-avatar';\r\n\r\nimport './AdvertContent.css';\r\nimport '../../../UI/ShareIcn/ShareIcn.css'; \r\nimport { transformNumber, engStrings } from '../../../../shared/utility';\r\nimport Aux from '../../../../hoc/Auxs/Aux';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport FavoriteActive from '../../../UI/FavoriteActive/FavoriteActive';\r\n\r\nconst advertContent = props => {\r\n    const formatter = buildFormatter(engStrings);\r\n    let userOpt = null;\r\n    let userOptDetClass = ['reuse-ads__footer--details'];\r\n    let userOptClass = ['reuse-ads__footer--details__options'];\r\n    let favAdd = null;\r\n    let isLiked = null;\r\n    // let mediaTotal = props.cnt.snapshot.length+props.cnt.image.length;\r\n    let userOptMode = (\r\n            <li \r\n                className=\"reuse-ads__footer--details__options--status\"\r\n                onClick={props.changeCnt}>\r\n                <FontAwesomeIcon \r\n                    icon={['far', 'eye-slash']} \r\n                    className=\"icon icon__reuse-ads--options__dft\" /> \r\n                Draft\r\n            </li>\r\n    );\r\n\r\n    let fav = <FontAwesomeIcon \r\n        icon={['far', 'heart']} \r\n        className=\"icon icon__reuse-ads--footer__heart\" />\r\n    \r\n    let userImage = <img src={props.cnt.userImage} alt=\"\" />\r\n\r\n    if (props.cnt.mode === 'draft') {\r\n      userOptMode = (\r\n        <li \r\n            className=\"reuse-ads__footer--details__options--status\"\r\n            onClick={props.changeCntPublish}>\r\n            <FontAwesomeIcon \r\n                icon={['far', 'eye']} \r\n                className=\"icon icon__reuse-ads--options__dft\" /> \r\n            Publish\r\n        </li>\r\n      )\r\n    }\r\n    \r\n    if (props.cnt.username && !props.cnt.userImage) {\r\n        userImage = <Avatar  name={props.cnt.username} size='36' round />;\r\n    }\r\n    \r\n    for (let changedFav of props.changedFav) {\r\n        if (props.cnt._id === changedFav.id) {\r\n            favAdd = changedFav.favAdd;\r\n            isLiked= changedFav.liked;\r\n        }\r\n    }\r\n\r\n    let media = null;\r\n    let mediaCnt =  [...props.cnt.snapshot, ...props.cnt.image];\r\n    let playVideo = null;\r\n    let mediaWrapperClass = ['reuse-ads__media--wrapper'];\r\n\r\n    if (mediaCnt.length > 0) {\r\n        let isShowned = false;\r\n        for (let mediaItm of props.mediaItms) {\r\n            if (mediaItm.id === props.cnt._id) {\r\n                isShowned = true;\r\n                if (props.animateItm.id === props.cnt._id) {\r\n                    if (props.animateItm.direction === 'next' && !props.removePrevAnim) {\r\n                        mediaWrapperClass.push('reuse-ads__media--wrapper__anim');\r\n                    } \r\n                    if (props.animateItm.direction === 'prev' && !props.removePrevAnim) {\r\n                        mediaWrapperClass.push('reuse-ads__media--wrapper__anim-rev');\r\n                    }\r\n                }\r\n\r\n                // if (props.animateItm === null) {\r\n                //     mediaWrapperClass.push('reuse-ads__media--wrapper__anim');\r\n                // }\r\n\r\n                if (props.removePrevMedia && props.removePrevMedia.id === props.cnt._id) {\r\n                    showPrevAnim(props.removePrevMedia);\r\n                }\r\n\r\n                displayMedia(mediaItm.position);\r\n            }\r\n        }\r\n        if (!isShowned) {\r\n            if (props.removePrevMedia && props.removePrevMedia.id === props.cnt._id) {\r\n                showPrevAnim(props.removePrevMedia);\r\n            }\r\n            displayMedia(0)\r\n        }\r\n    }\r\n\r\n    function showPrevAnim(prevAnim) {\r\n        if (prevAnim.type === 'next') {\r\n            mediaWrapperClass.push('reuse-ads__media--wrapper__anim-exit');\r\n        } else {\r\n            mediaWrapperClass.push('reuse-ads__media--wrapper__anim-exit-rev')\r\n        }\r\n    }\r\n\r\n    function displayMedia(position) {\r\n        let updateMedia = mediaCnt[position];\r\n        let curMedia = updateMedia.videoCnt ? {url: `${window.location.protocol + '//' + window.location.host}/media/image/${updateMedia.id}`, ...updateMedia, mediaType: 'snapshot'} : \r\n        {url: `${window.location.protocol + '//' + window.location.host}/media/image/${updateMedia.id}`, ...updateMedia, mediaType: 'image'};\r\n        if (curMedia && curMedia.mediaType === 'snapshot') {\r\n            playVideo = (\r\n                props.video && props.video.id !== curMedia.id ? \r\n                <div \r\n                    className={props.playerIcnId && props.playerIcnId === props.cnt._id ? \r\n                        'reuse-ads__media--wrapper__icn reuse-ads__media--wrapper__icn-move' : 'reuse-ads__media--wrapper__icn'}\r\n                        onClick={props.playVideo.bind(this, curMedia)}>\r\n                    <FontAwesomeIcon \r\n                        icon={['fas', 'play-circle']} \r\n                        className=\"icon icon__reuse-ads--media__play\" /> \r\n                </div>: null\r\n            );\r\n        }\r\n\r\n        media = (\r\n            <div className=\"reuse-ads__media\">\r\n                <div className={props.video && props.video.id === curMedia.id ? \r\n                        'reuse-ads__media--main-wrapper reuse-ads__media--main-wrapper__load' : 'reuse-ads__media--main-wrapper'}>\r\n                    <div \r\n                        onDragStart={() => false }\r\n                        touch-action=\"pan-y\"\r\n                        className={props.disableAnim ? 'reuse-ads__media--wrapper' : mediaWrapperClass.join(' ')} onAnimationEnd={props.removeAnim}>\r\n                        { playVideo }\r\n                        { props.video && props.video.id === curMedia.id && props.video.url ? \r\n                            <video \r\n                                // onPointerDown={(event) => props.slidePlay(props.cnt._id, mediaTotal, event)}\r\n                                // onPointerMove={(event) => props.moveSlidePlay(props.cnt._id, mediaTotal, event)}\r\n                                // onPointerUp={(event) => props.clearSlidePlay(event)}\r\n                                src={props.video.url} controls autoPlay>\r\n                                <p>our browser doesn't support embedded videos</p>\r\n                            </video> :\r\n                        props.video && props.video.id === curMedia.id ? null : \r\n                        <img \r\n                            draggable=\"false\"\r\n                            onDragStart={() => false }\r\n                            src={curMedia.url}  alt=\"advert\"\r\n                            // onPointerDown={(event) => props.slidePlay(props.cnt._id, mediaTotal, event)}\r\n                            // onPointerMove={(event) => props.moveSlidePlay(props.cnt._id, mediaTotal, event)}\r\n                            // onPointerUp={(event) => props.clearSlidePlay(event)} \r\n                            />\r\n                        }\r\n                        { props.videoErr && props.videoErr.id === curMedia.id ? \r\n                            <div \r\n                                className=\"reuse-ads__video-err\"\r\n                                // onPointerDown={(event) => props.slidePlay(props.cnt._id, mediaTotal, event)}\r\n                                // onPointerMove={(event) => props.moveSlidePlay(props.cnt._id, mediaTotal, event)}\r\n                                // onPointerUp={(event) => props.clearSlidePlay(event)}\r\n                                >\r\n                                <div \r\n                                    className=\"reuse-ads__video-err--icn\"\r\n                                    onClick={props.playVideo.bind(this, curMedia.id, props.cnt.video)}>\r\n                                    <FontAwesomeIcon \r\n                                        icon={['fas', 'redo']} \r\n                                        className=\"icon icon__reuse-ads--video-err__icn\"/>\r\n                                </div>\r\n                                <h3> {props.videoErr.err.message} </h3> \r\n                            </div> : null}\r\n                    </div>\r\n                </div>\r\n                \r\n                {\r\n                    mediaCnt && mediaCnt.length > 1 ? \r\n                    <Aux>\r\n                        <div \r\n                            className=\"reuse-ads__media--cnt reuse-ads__media--cnt__nxt\"\r\n                            onClick={props.nextMedia}>\r\n                            <FontAwesomeIcon \r\n                                icon={['fas', 'angle-right']} \r\n                                className=\"icon icon__reuse-ads--media__nxt\" />\r\n                        </div>\r\n                        <div \r\n                            className=\"reuse-ads__media--cnt reuse-ads__media--cnt__prev\"\r\n                            onClick={props.prevMedia}>\r\n                            <FontAwesomeIcon \r\n                                icon={['fas', 'angle-left']} \r\n                                className=\"icon icon__reuse-ads--media__prev\" />\r\n                        </div>\r\n                    </Aux> : null\r\n                }\r\n            </div>\r\n        );\r\n    } \r\n\r\n    if (props.showCnt && props.showCnt.visible && props.index === props.showCnt.id) {\r\n        userOptDetClass.push('reuse-ads__footer--details__clk');\r\n        userOptClass.push('reuse-ads__footer--details__options--visible')\r\n    }\r\n\r\n    if (props.cnt.userOpt) {\r\n        userOpt = (\r\n            <div className={userOptDetClass.join(' ')} onClick={props.userOpt}>\r\n            <div className=\"reuse-ads__footer--details__mid\"></div>\r\n            <ul className={userOptClass.join(' ')}>\r\n                <li>\r\n                    <a href={`/edit/advert/${props.cnt._id}`}>\r\n                        <FontAwesomeIcon \r\n                            icon={['far', 'edit']} \r\n                            className=\"icon icon__reuse-ads--options\" /> \r\n                        Edit \r\n                    </a>\r\n                </li>\r\n                {userOptMode}\r\n                <li\r\n                    onClick={props.deleteCnt}>\r\n                    <FontAwesomeIcon \r\n                        icon={['far', 'trash-alt']} \r\n                        className=\"icon icon__reuse-ads--options\" /> \r\n                    Delete \r\n                </li>\r\n            </ul>\r\n        </div>\r\n        )\r\n    }\r\n\r\n    if (props.cnt.liked && isLiked === null) {\r\n        fav = <FontAwesomeIcon \r\n            icon={['fas', 'heart']} \r\n            className=\"icon icon__reuse-ads--footer__heart\" />\r\n    }\r\n\r\n    if (isLiked) {\r\n        fav = <FontAwesomeIcon \r\n            icon={['fas', 'heart']} \r\n            className=\"icon icon__reuse-ads--footer__heart\" />\r\n    }\r\n\r\n    return (\r\n      \r\n        <div className=\"reuse-ads\">\r\n            <div className=\"reuse-ads__overlaywrapper\">\r\n                <div className=\"reuse-ads__wrapper\">\r\n                    <ul className=\"reuse-ads__header\">\r\n                        <li>\r\n                            <div className=\"reuse-ads__header--category__img\">\r\n                                { userImage }\r\n                            </div>\r\n                            <div className=\"reuse-ads__header--category__det\">\r\n                                <div className=\"reuse-ads__header--category__det--name\"><a href={`/user/profile/${props.cnt.authorID}`}> {props.cnt.username} </a></div>\r\n                                <div className=\"reuse-ads__header--category__det--timePosted\">\r\n                                    @ { <TimeAgo date={props.cnt.created} live={false} formatter={formatter}/> }\r\n                                </div> \r\n                            </div>\r\n                        </li>\r\n                        <li>\r\n                            <p className=\"reuse-ads__header--share__category\"> \r\n                                <FontAwesomeIcon \r\n                                    icon={ props.cnt.category.length > 1 ? ['fas', 'tags'] : ['fas', 'tag']} \r\n                                    className=\"icon icon__reuse-ads--header__tag\" />\r\n                                { props.cnt.category[0] }\r\n                            </p>\r\n                            <div className=\"reuse-share\">\r\n                                <div className=\"reuse-share__icn\" onClick={props.share}>\r\n                                    <FontAwesomeIcon \r\n                                        icon={['fas', 'location-arrow']} \r\n                                        className=\"icon icon__reuse-share--icn\" /> \r\n                                </div>\r\n                             </div>\r\n                        </li>\r\n                    </ul>\r\n                    {media}\r\n                    <p className=\"reuse-ads__title\"> <a href={\"/view/advert/\" + props.cnt._id}>{props.cnt.title}</a></p>\r\n                    <p className=\"reuse-ads__description\">\r\n                        <a href={\"/view/advert/\" + props.cnt._id}>\r\n                            {String(props.cnt.desc).length > 149 ? String(props.cnt.desc).substr(0, 150) + '...' : props.cnt.desc} \r\n                        </a>\r\n                    </p>\r\n                \r\n                    <div className=\"reuse-ads__footer\">\r\n                        <ul className=\"reuse-ads__footer--list\">\r\n                            <li>\r\n                                <FontAwesomeIcon \r\n                                    icon={['far', 'eye']} \r\n                                    className=\"icon icon__reuse-ads--footer__eye\" /> \r\n                                {transformNumber(props.cnt.view)} \r\n                            </li>\r\n                            <li className=\"reuse-ads__footer--list__item-middle\">\r\n                                <FontAwesomeIcon \r\n                                    icon={['far', 'comments']} \r\n                                    className=\"icon icon__reuse-ads--footer__chats\" /> \r\n                                {transformNumber(props.cnt.comment)} \r\n                            </li>\r\n                            <li>\r\n                                <span onClick={props.fav}>{fav}</span>\r\n                                {transformNumber(favAdd !== null ? favAdd : props.cnt.favorite)} \r\n                                {props.favChange && props.favChange.id === props.cnt._id ? <FavoriteActive \r\n                                    liked={props.favChange.isLiked}/> : null}\r\n                            </li>\r\n                        </ul>\r\n                        {userOpt}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default advertContent;","import React from 'react';\r\nimport arraySort from 'array-sort';\r\n\r\nimport AdvertContent from './AdvertContent/AdvertContent';\r\n\r\nconst advert = props => {\r\n    let content = arraySort(props.content, 'cntCreated', {reverse: true})\r\n    const allAdvert = content.map((cnt, index) => (\r\n        <AdvertContent \r\n             key={index}\r\n             index={cnt._id}\r\n             cnt={cnt} \r\n             media={props.media}\r\n             userOpt={props.userOpt.bind(this, cnt._id)} \r\n             showCnt={props.showCntOpt}\r\n             fav={props.fav.bind(this, cnt._id, cnt.liked, cnt.favorite, 'advert')}\r\n             changedFav={props.changedFav}\r\n             favChange={props.favChange}\r\n             share={props.share.bind(this, cnt._id)}\r\n             nextMedia={props.nextMedia.bind(this, cnt._id, cnt.snapshot.length+cnt.image.length , 'next')}\r\n             prevMedia={props.prevMedia.bind(this, cnt._id, cnt.snapshot.length+cnt.image.length, 'prev')}\r\n             mediaItms={props.mediaItms}\r\n             removeAnim={props.removeAnim}\r\n             disableAnim={props.disableAnim}\r\n             animateItm={props.animateItm}\r\n             removePrevMedia={props.removePrevMedia}\r\n             playVideo={props.playVideo}\r\n             videoErr={props.videoErr}\r\n             playerIcnId={props.playerIcnId}\r\n             slidePlay={props.slidePlay}\r\n             moveSlidePlay={props.moveSlidePlay}\r\n             clearSlidePlay={props.clearSlidePlay}\r\n             video={props.video}\r\n             deleteCnt={props.changeCnt.bind(this, cnt._id, cnt.title, 'delete', 'advert')}\r\n             changeCnt={props.changeCnt.bind(this, cnt._id, cnt.title, 'draft', 'advert')}/>\r\n    ));\r\n\r\n    return allAdvert;\r\n}\r\n\r\nexport default advert;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport 'pepjs';\r\n\r\nimport Advert from '../../../../components/Main/Advert/Advert';\r\nimport Loader from '../../../../components/UI/Loader/Loader';\r\nimport NoAcc from '../../../../components/Main/NoAcc/NoAcc';\r\nimport { updateObject } from '../../../../shared/utility';\r\nimport * as actions from '../../../../store/actions/index';\r\n\r\nlet IS_ANIMATED = true;\r\n\r\nclass Adverts extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.props.onFetchCntReset();\r\n        let limit = 0;\r\n        if (window.innerHeight >= 1200) {\r\n            limit = 12\r\n        } else if(window.innerHeight >= 900) {\r\n            limit = 10;\r\n        } else if(window.innerHeight >= 500) {\r\n            limit = 9\r\n        } else {\r\n            limit = 6;\r\n        }\r\n        this.state = {\r\n            cntOpt: null,\r\n            fetchLimit: limit,\r\n            filterTag: 'advert',\r\n            mediaItms: [],\r\n            animateItm: null,\r\n            removeAnim: false,\r\n            removePrevMedia: null,\r\n            playerIcnId: null,\r\n            animationComplete: true,\r\n            scrollEnable: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.onFetchCnt(this.props.userID, this.state.filterTag, this.state.fetchLimit, 0, 0);\r\n        this.props.onChangeTag('/advert');\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (this.props.cnts && this.props.cnts.length > 0 && !this.state.scrollEnable) {\r\n            window.addEventListener('scroll', this.onScroll, false);\r\n            this.setState({scrollEnable: true})\r\n        }\r\n        if (this.props.match.params.id && this.state.filterTag !== this.props.match.params.id && this.props.match.params.id !== 'share' && this.props.match.params.id !== 'filter' && this.props.match.params.id !== 'startfilter') {\r\n            this.props.onFetchCntReset();;\r\n            this.props.onFetchCnt(this.props.userID, `advert-${this.props.match.params.id}`, this.state.fetchLimit, 0, 0);\r\n            this.setState({\r\n                filterTag: this.props.match.params.id\r\n            });\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.onFetchCntReset();\r\n        window.removeEventListener('scroll', this.onScroll, false);\r\n    }\r\n\r\n    onScroll = () => {\r\n        if ((window.innerHeight + Math.ceil(window.pageYOffset + 1)) >= document.body.offsetHeight) {\r\n            this.props.onFetchCnt(\r\n                    this.props.userID,  \r\n                    this.state.filterTag !== 'advert' ? \r\n                    this.state.filterTag === 'filter' ?  'filter=='+this.props.filterDet : `advert-${this.state.filterTag}` : 'post' ,\r\n                    this.state.fetchLimit, this.props.skipCnt + this.state.fetchLimit, this.props.cntTotal);\r\n        }\r\n    } \r\n\r\n    showUserOptHandler = (id) => {\r\n        if (this.state.cntOpt && this.state.cntOpt.id === id) {\r\n            this.setState((prevState, props) => {\r\n                return {\r\n                    cntOpt: updateObject(prevState.cntOpt, {visible: !prevState.cntOpt.visible})\r\n                }\r\n            });\r\n            return\r\n        }\r\n\r\n        const newCntOpt = {visible: true, id}\r\n        this.setState({cntOpt: newCntOpt})\r\n    }\r\n\r\n    changeFavoriteHandler = (id, isLiked, favAdd, cntGrp) => {\r\n        this.props.onChangeFav(id, isLiked, favAdd, this.props.changedFav, this.props.userID, cntGrp);\r\n    }\r\n\r\n    showShareHandler = (shareID) => {\r\n        this.props.onChangeShareID(shareID, 'advert');\r\n        this.props.history.push('/index/advert/share')\r\n    };\r\n\r\n    changeMediaHandler = (id, maxLength, type) => {\r\n        this.setState({removePrevMedia: {id, type}, removeAnim: false});\r\n        this.animateSlider(id, maxLength, type, 900);\r\n    }\r\n\r\n    removeAnimHandler = (event) => {\r\n        if (!this.state.removePrevMedia) {\r\n            this.setState({removeAnim: true})\r\n        }\r\n    }\r\n\r\n    playVideoHandler = (snapshot) => {\r\n        this.props.onFetchVideo(snapshot.id, `${window.location.protocol + '//' + window.location.host}/media/video/${snapshot.videoCnt}`)\r\n    }\r\n\r\n    slidePlayHandler = (id, maxLength, event) => {\r\n        let slide = event.target;\r\n        slide.setPointerCapture(event.pointerId);\r\n        this.setState({playerIcnId: id})\r\n    }\r\n\r\n    clearSlidePlayhandler = (event) => {\r\n        let slide = event.target;\r\n        slide.releasePointerCapture(event.pointerId);\r\n        slide.style.left = 0 +'px';\r\n        let videoPlayerIcn = document.querySelector('.reuse-ads__media--wrapper__icn-move');\r\n        if (videoPlayerIcn) {\r\n            videoPlayerIcn.style.left = 45 + '%';\r\n        }\r\n    }\r\n\r\n    moveSlidePlayHandler = (id, maxLength, event) => {\r\n        let slide = event.target;\r\n        if (slide.hasPointerCapture && slide.hasPointerCapture(event.pointerId)) {\r\n            let newpos = event.clientX - slide.parentElement.offsetLeft - (slide.offsetWidth/2);\r\n            if (newpos < -(slide.offsetWidth/2 + slide.offsetWidth/4)) {\r\n                if (IS_ANIMATED) {\r\n                    IS_ANIMATED = false;\r\n                    this.animateSlider(id, maxLength, 'next', 0)\r\n                }\r\n            } else if ( newpos > (slide.offsetWidth/2 + slide.offsetWidth/4)) {\r\n                if (IS_ANIMATED) {\r\n                    IS_ANIMATED = false;\r\n                    this.animateSlider(id, maxLength, 'prev', 0)\r\n                }\r\n            } \r\n            let videoPlayerIcn = document.querySelector('.reuse-ads__media--wrapper__icn-move');\r\n            if (videoPlayerIcn) {\r\n                let playerIcnHeight = (newpos / slide.offsetWidth) * 100\r\n                videoPlayerIcn.style.left =  playerIcnHeight + 45 + '%';\r\n            }\r\n            slide.style.left = newpos +'px';\r\n        }\r\n    }\r\n\r\n    animateSlider = (id, maxLength, type, timeFrame) => {\r\n        setTimeout(() => {\r\n            let mediaItms = [...this.state.mediaItms];\r\n            let filterMedia = mediaItms.filter(media => media.id === id);\r\n            let mediaDet = {id, position: type === 'next' ?  maxLength > 1 ? 1 : 0 : maxLength - 1};\r\n            if (filterMedia.length > 0) {\r\n                for (let mediaItm of filterMedia) {\r\n                    mediaDet = {id: mediaItm.id, position: type === 'next' ? mediaItm.position+=1 : mediaItm.position-=1};\r\n                    if (mediaDet.position > maxLength - 1) {\r\n                        mediaDet = updateObject(mediaDet, {position: 0});\r\n                    }\r\n    \r\n                    if (mediaDet.position < 0) {\r\n                        mediaDet = updateObject(mediaDet, {position: maxLength - 1});\r\n                    }\r\n                    let updateMedia = mediaItms.filter(media => media.id !== id);\r\n                    updateMedia.push(mediaDet);\r\n                    this.setState({mediaItms: updateMedia, removeAnim: false,  removePrevMedia: null, animateItm: {id, direction: type}})\r\n                }\r\n                return\r\n            }\r\n            mediaItms.push(mediaDet);\r\n            this.setState({mediaItms, removeAnim: false, removePrevMedia: null,  animateItm: {id, direction: type}})   \r\n        }, timeFrame)\r\n\r\n        setTimeout(() => {\r\n            IS_ANIMATED = true;\r\n        }, 500)\r\n    }\r\n    \r\n    changeCntHandler = (id, title, det, modelType) => {\r\n        let checkTitle = String(title).length > 50 ? String(title).substr(0, 50) + '...' : title\r\n        this.props.onChangeCnt(id, checkTitle, det, false, modelType);\r\n    }\r\n\r\n    render() {\r\n\r\n        let cnt = <Loader />;\r\n        if (this.props.postErr) {\r\n            cnt = null\r\n        }\r\n\r\n        if (this.props.cnts && this.props.cnts.length === 0) {\r\n            cnt = <NoAcc \r\n                    isAuth={this.props.userID !== null}\r\n                    det='No content found!'\r\n                    icn='clone'\r\n                    filter />\r\n        }\r\n\r\n        if (this.props.cnts && this.props.cnts.length === 0) {\r\n            cnt = <NoAcc \r\n                    isAuth={this.props.userID !== null}\r\n                    det='No content found!'\r\n                    icn='clone'\r\n                    filter />\r\n        }\r\n\r\n        if (this.props.cnts && this.props.cnts.length > 0) {\r\n            cnt = <Advert \r\n                content={this.props.cnts} \r\n                media={this.props.media}\r\n                userOpt={this.showUserOptHandler}\r\n                showCntOpt={this.state.cntOpt}\r\n                fav={this.changeFavoriteHandler}\r\n                changedFav={this.props.changedFav}\r\n                favChange={this.props.favChange}\r\n                share={this.showShareHandler}\r\n                nextMedia={this.changeMediaHandler}\r\n                prevMedia={this.changeMediaHandler}\r\n                mediaItms={this.state.mediaItms}\r\n                removeAnim={this.removeAnimHandler}\r\n                disableAnim={this.state.removeAnim}\r\n                animateItm={this.state.animateItm}\r\n                removePrevMedia={this.state.removePrevMedia}\r\n                playVideo={this.playVideoHandler}\r\n                videoErr={this.props.videoErr}\r\n                video={this.props.postVideo}\r\n                playerIcnId={this.state.playerIcnId}\r\n                slidePlay={this.slidePlayHandler}\r\n                moveSlidePlay={this.moveSlidePlayHandler}\r\n                clearSlidePlay={this.clearSlidePlayhandler}\r\n                changeCnt={this.changeCntHandler}/>\r\n        }\r\n\r\n        return cnt\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        userID: state.auth.userID,\r\n        cnts: state.cnt.cnts,\r\n        skipCnt: state.cnt.skipCnt,\r\n        cntTotal: state.cnt.cntTotal,\r\n        changedFav: state.cnt.changedFav,\r\n        favChange: state.cnt.favChange,\r\n        cntErr: state.cnt.cntErr,\r\n        postVideo: state.cnt.postVideo,\r\n        videoErr: state.cnt.videoErr,\r\n        filterDet: state.cnt.filterDet\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        onFetchCnt: (userID, fetchType, limit, skipCnt, cntTotal) => dispatch(actions.fetchCntInit(userID, fetchType, limit, skipCnt, cntTotal)),\r\n        onFetchCntReset: () => dispatch(actions.fetchCntReset()),\r\n        onChangeFav: (id, liked, favAdd, changedFav, userID, cntGrp) => dispatch(actions.changeFavInit(id, liked, favAdd, changedFav, userID, cntGrp)),\r\n        onChangeShareID: (shareID,  cntType) => dispatch(actions.shareID(shareID,  cntType)),\r\n        onChangeTag: (path) => dispatch(actions.changeTagsPath(path)),\r\n        onFetchVideo: (id, url) => dispatch(actions.fetchVideo(id, url)),\r\n        onChangeCnt: (id, title, det, confirm, modelType) => dispatch(actions.changeCntInit(id, title, det, confirm,  modelType))\r\n    };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Adverts));"],"sourceRoot":""}