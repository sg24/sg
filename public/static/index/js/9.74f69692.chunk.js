(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{501:function(e,t,n){},524:function(e,t,n){},532:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(19),i=n(66),c=n(97),o=n.n(c),l=n(73),p=n(98),h=n.n(p),d=n(99),m=n.n(d),_=n(53),u=(n(524),n(501),n(9)),w=n(43),v=n(2),f=n(79);var g=e=>{const t=m()(v.c);let n=null,a=["reuse-pwt__content--det__user--det"],r=["reuse-pwt__content--det__user--det__opt"],i=null,c=null,o=s.a.createElement("li",{className:"reuse-pwt__content--det__user--det__opt--status",onClick:e.changeCnt},s.a.createElement(u.a,{icon:["far","eye-slash"],className:"icon icon__reuse-pwt--options__dft"}),"Draft"),p=s.a.createElement(u.a,{icon:["far","heart"],className:"icon icon__reuse-pwt--footer__heart"}),d=s.a.createElement("img",{src:e.pwt.userImage,alt:""});"draft"===e.pwt.mode&&(o=s.a.createElement("li",{className:"reuse-pwt__content--det__user--det__opt--status",onClick:e.changeCntPublish},s.a.createElement(u.a,{icon:["far","eye"],className:"icon icon__reuse-pwt--options__dft"}),"Publish")),e.pwt.username&&!e.pwt.userImage&&(d=s.a.createElement(_.a,{name:e.pwt.username,size:"50",round:!0}));var g,E=Object(l.a)(e.changedFav);try{for(E.s();!(g=E.n()).done;){let t=g.value;e.pwt._id===t.id&&(i=t.favAdd,c=t.liked)}}catch(b){E.e(b)}finally{E.f()}e.showCnt&&e.showCnt.visible&&e.showCnt.id===e.pwt._id&&(a.push("reuse-pwt__content--det__user--det__clk"),r.push("reuse-pwt__content--det__user--det__opt--visible")),e.pwt.userOpt&&(n=s.a.createElement("div",{className:a.join(" "),onClick:e.userOpt},s.a.createElement("div",{className:"reuse-pwt__content--det__user--det__mid"}),s.a.createElement("ul",{className:r.join(" ")},s.a.createElement("li",null,s.a.createElement("a",{href:"/edit/poet/".concat(e.pwt._id)},s.a.createElement(u.a,{icon:["far","edit"],className:"icon icon__reuse-pwt--options"}),"Edit")),o,s.a.createElement("li",{onClick:e.deleteCnt},s.a.createElement(u.a,{icon:["far","trash-alt"],className:"icon icon__reuse-pwt--options"}),"Delete")))),e.pwt.liked&&null===c&&(p=s.a.createElement(u.a,{icon:["fas","heart"],className:"icon icon__reuse-pwt--footer__heart"})),c&&(p=s.a.createElement(u.a,{icon:["fas","heart"],className:"icon icon__reuse-pwt--footer__heart"}));let C=s.a.createElement("div",{className:"reuse-pwt"},s.a.createElement("div",{className:"reuse-share"},s.a.createElement("div",{className:"reuse-share__icn",onClick:e.share},s.a.createElement(u.a,{icon:["fas","location-arrow"],className:"icon icon__reuse-share--icn"}))),s.a.createElement("div",{className:"reuse-pwt__content"},s.a.createElement("div",{className:"reuse-pwt__content--tag"},s.a.createElement("span",null,s.a.createElement(u.a,{icon:e.pwt.category.length>1?["fas","tags"]:["fas","tag"],className:"icon icon__reuse-pwt--header__tag"}),e.pwt.category[0])),s.a.createElement("div",{className:"reuse-pwt__content--title"},s.a.createElement("div",{className:"reuse-pwt__content--title__wrapper"},s.a.createElement("a",{href:"/view/poet/"+e.pwt._id},String(e.pwt.title).length>149?String(e.pwt.title).substr(0,150)+"...":e.pwt.title))),s.a.createElement("div",{className:"reuse-pwt__content--det"},s.a.createElement("div",{className:"reuse-pwt__content--det__user"},s.a.createElement("div",{className:"reuse-pwt__content--det__user--img"},d),s.a.createElement("a",{href:"/user/profile/"+e.pwt.authorID}," ",String(e.pwt.username).substr(0,8)," "),s.a.createElement("div",{className:"reuse-pwt__content--det__user--time"},"@ ",s.a.createElement(h.a,{date:e.pwt.pwtCreated,live:!1,formatter:t})),n))),s.a.createElement("ul",{className:"reuse-pwt__footer"},s.a.createElement("li",null,s.a.createElement(u.a,{icon:["far","smile"],className:"icon icon__reuse-pwt--footer__smile"}),Object(v.d)(e.pwt.helpFull)),s.a.createElement("li",null,s.a.createElement("span",{onClick:e.fav},p),Object(v.d)(null!==i?i:e.pwt.favorite),e.favChange&&e.favChange.id===e.pwt._id?s.a.createElement(f.a,{liked:e.favChange.isLiked}):null),s.a.createElement("li",null,s.a.createElement(u.a,{icon:["far","comment-dots"],className:"icon icon__reuse-pwt--footer__comments"}),Object(v.d)(e.pwt.comment))));return s.a.createElement(w.a,null,C)};var E=e=>{return o()(e.content,"pwtCreated",{reverse:!0}).map((t,n)=>s.a.createElement(g,{key:n,pwt:t,media:e.media,userOpt:e.userOpt.bind(void 0,t._id),showCnt:e.showCntOpt,fav:e.fav.bind(void 0,t._id,t.liked,t.favorite,"poet"),changedFav:e.changedFav,favChange:e.favChange,share:e.share.bind(void 0,t._id),deleteCnt:e.changeCnt.bind(void 0,t._id,t.title,"delete","poet"),changeCnt:e.changeCnt.bind(void 0,t._id,t.title,"draft","poet")}))},C=n(29),b=n(60),N=n(4);t.default=Object(i.f)(Object(r.b)(e=>({userID:e.auth.userID,cnts:e.cnt.cnts,cntErr:e.cnt.cntErr,skipCnt:e.cnt.skipCnt,cntTotal:e.cnt.cntTotal,changedFav:e.cnt.changedFav,favChange:e.cnt.favChange,filterDet:e.cnt.filterDet}),e=>({onFetchShareActive:()=>e(N.sb()),onFetchShareCntActive:()=>e(N.rb()),onFetchNotifyActive:()=>e(N.ib()),onFetchPtActive:()=>e(N.kb()),onFetchQueActive:()=>e(N.mb()),onFetchCntActive:()=>e(N.K()),onFetchReqActive:()=>e(N.ob()),onFetchCnt:(t,n,a,s,r)=>e(N.N(t,n,a,s,r)),onFetchCntReset:()=>e(N.O()),onChangeFav:(t,n,a,s,r,i)=>e(N.h(t,n,a,s,r,i)),onChangeShareID:(t,n)=>e(N.fc(t,n)),onChangeTag:t=>e(N.w(t)),onChangeCnt:(t,n,a,s,r)=>e(N.d(t,n,a,s,r))}))(class extends a.Component{constructor(e){super(e),this.onScroll=(()=>{window.innerHeight+Math.ceil(window.pageYOffset+1)>=document.body.offsetHeight&&this.props.onFetchCnt(this.props.userID,"poet",this.state.fetchLimit,this.props.skipCnt+this.state.fetchLimit,this.props.cntTotal)}),this.showUserOptHandler=(e=>{if(this.state.cntOpt&&this.state.cntOpt.id===e)return void this.setState((e,t)=>({cntOpt:Object(v.f)(e.cntOpt,{visible:!e.cntOpt.visible})}));const t={visible:!0,id:e};this.setState({cntOpt:t})}),this.changeFavoriteHandler=((e,t,n,a)=>{this.props.onChangeFav(e,t,n,this.props.changedFav,this.props.userID,a)}),this.showShareHandler=(e=>{this.props.onChangeShareID(e,"poet"),this.props.history.push("/index/poet/share")}),this.changeCntHandler=((e,t,n,a)=>{let s=String(t).length>50?String(t).substr(0,50)+"...":t;this.props.onChangeCnt(e,s,n,!1,a)}),this.props.onFetchCntReset();let t=0;t=window.innerHeight>=1200?18:window.innerHeight>=900?12:window.innerHeight>=500?9:6,this.state={cntOpt:null,fetchLimit:t,filterTag:"poet",mediaItms:[],animateItm:null,removeAnim:!1,removePrevMedia:null,playerIcnId:null,animationComplete:!0,scrollEnable:!1}}componentDidMount(){this.props.onFetchCnt(this.props.userID,this.state.filterTag,this.state.fetchLimit,0,0),this.props.onChangeTag("/poet")}componentDidUpdate(){this.props.cnts&&this.props.cnts.length>0&&!this.state.scrollEnable&&(window.addEventListener("scroll",this.onScroll,!1),this.setState({scrollEnable:!0}))}componentWillUnmount(){this.props.onFetchCntReset(),window.removeEventListener("scroll",this.onScroll,!1)}render(){let e=s.a.createElement(C.a,null);return this.props.cntErr&&(e=null),this.props.cnts&&0===this.props.cnts.length&&(e=s.a.createElement(b.a,{isAuth:null!==this.props.userID,det:"No content found!",icn:"clone",filter:!0})),this.props.cnts&&0===this.props.cnts.length&&(e=s.a.createElement(b.a,{isAuth:null!==this.props.userID,det:"No content found!",icn:"clone",filter:!0})),this.props.cnts&&this.props.cnts.length>0&&(e=s.a.createElement(E,{content:this.props.cnts,media:this.props.media,userOpt:this.showUserOptHandler,showCntOpt:this.state.cntOpt,fav:this.changeFavoriteHandler,changedFav:this.props.changedFav,favChange:this.props.favChange,share:this.showShareHandler,changeCnt:this.changeCntHandler})),e}}))}}]);
//# sourceMappingURL=9.74f69692.chunk.js.map