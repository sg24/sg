{"version":3,"sources":["components/Main/Qchat/QchatContent/QchatContent.js","components/Main/Qchat/Qchat.js","containers/SiteMain/MainContent/Qchats/Qchats.js"],"names":["qchatContent","props","formatter","buildFormatter","engStrings","userOpt","userOptDetClass","userOptClass","title","String","cnt","length","substr","tooltip","userOptMode","react_default","a","createElement","className","onClick","changeCnt","index_es","icon","userImage","src","alt","mode","changeCntPublish","username","react_avatar_es","name","size","round","showCnt","visible","_id","id","push","showTooltip","href","concat","authorID","join","deleteCnt","qchatTotal","hour","minute","second","share","lib_default","date","created","live","transformNumber","comment","access","start","write","qchat","arraySort","content","reverse","map","index","QchatContent_QchatContent","key","bind","showCntOpt","startExam","contentID","Qchats","_this","Object","classCallCheck","this","_super","call","onScroll","window","innerHeight","Math","ceil","pageYOffset","document","body","offsetHeight","onFetchCnt","userID","state","filterTag","filterDet","fetchLimit","skipCnt","cntTotal","showUserOptHandler","cntOpt","setState","prevState","updateObject","newCntOpt","showShareHandler","shareID","onChangeShareID","history","showTooltipHandler","changeCntHandler","det","modelType","checkTitle","onChangeCnt","startExamHandler","open","focus","onFetchCntReset","limit","active","onChangeTag","cnts","scrollEnable","addEventListener","match","params","startSearch","location","search","removeEventListener","Loader","postErr","NoAcc","isAuth","icn","filter","Qchat","Component","withRouter","connect","auth","changedFav","favChange","cntErr","postVideo","videoErr","dispatch","onFetchShareActive","actions","onFetchShareCntActive","onFetchCntActive","onFetchNotifyActive","onFetchPtActive","onFetchQueActive","onFetchReqActive","fetchType","onChangeFav","liked","favAdd","cntGrp","cntType","path","onFetchVideo","url","confirm"],"mappings":"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","file":"static/js/23.1ea5a2b0.chunk.js","sourcesContent":["import React from 'react';\r\nimport TimeAgo from 'react-timeago';\r\nimport buildFormatter from 'react-timeago/lib/formatters/buildFormatter';\r\nimport Avatar from 'react-avatar';\r\n\r\nimport './QchatContent.css';\r\nimport '../../../UI/ShareIcn/ShareIcn.css'; \r\nimport { transformNumber, engStrings } from '../../../../shared/utility';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nconst qchatContent = props => {\r\n    const formatter = buildFormatter(engStrings);\r\n    let userOpt = null;\r\n    let userOptDetClass = ['reuse-onlineque__content--posted__user--det'];\r\n    let userOptClass = ['reuse-onlineque__content--posted__user--det__opt'];\r\n    let title = String(props.cnt.title).length > 149 ? String(props.cnt.title).substr(0, 150) + '...' : props.cnt.title;\r\n    let tooltip = null;\r\n    let userOptMode = (\r\n        <li\r\n           className=\"reuse-onlineque__content--posted__user--det__opt--status\"\r\n           onClick={props.changeCnt}>\r\n            <FontAwesomeIcon \r\n                icon={['far', 'eye-slash']} \r\n                className=\"icon icon__reuse-onlineque--options__dft\" />\r\n            Draft\r\n        </li>\r\n    );\r\n\r\n    let userImage = <img src={props.cnt.userImage} alt=\"\" />\r\n\r\n    if (props.cnt.mode === 'draft') {\r\n      userOptMode = (\r\n        <li\r\n           className=\"reuse-onlineque__content--posted__user--det__opt--status\"\r\n           onClick={props.changeCntPublish}>\r\n            <FontAwesomeIcon \r\n                icon={['far', 'eye']} \r\n                className=\"icon icon__reuse-onlineque--options__dft\" />\r\n            Publish\r\n        </li>\r\n      )\r\n    }\r\n    \r\n    if (props.cnt.username && !props.cnt.userImage) {\r\n        userImage = <Avatar  name={props.cnt.username} size='36' round />;\r\n    }\r\n\r\n    if (props.showCnt && props.showCnt.visible && props.cnt._id === props.showCnt.id) {\r\n        userOptDetClass.push('reuse-onlineque__content--posted__user--det__clk ');\r\n        userOptClass.push('reuse-onlineque__content--posted__user--det__opt--visible')\r\n    }\r\n\r\n    if (props.showTooltip && props.showTooltip.visible && props.cnt._id === props.showTooltip.id) {\r\n        tooltip = (\r\n            <ul className=\"reuse-onlineque__footer--tooltip\">\r\n                <li> (1) Add author as friend. <a href={`/user/profile/${props.cnt.authorID}`}>{props.cnt.username}</a></li>\r\n                <li> (2) Chat to request access</li>\r\n            </ul>\r\n        )\r\n    }\r\n\r\n    if (props.cnt.userOpt) {\r\n        userOpt = (\r\n            <div className={userOptDetClass.join(' ')} onClick={props.userOpt}>\r\n                 <div className=\"reuse-onlineque__content--posted__user--det__mid\"></div>\r\n                <ul className={userOptClass.join(' ')}>\r\n                    <li>\r\n                        <a href={`/edit/qchat/${props.cnt._id}`}>\r\n                            <FontAwesomeIcon \r\n                                icon={['far', 'edit']} \r\n                                className=\"icon icon__reuse-onlineque--options\" />\r\n                            Edit \r\n                        </a>\r\n                    </li>\r\n                    { userOptMode }\r\n                    <li \r\n                        onClick={props.deleteCnt}>\r\n                        <FontAwesomeIcon \r\n                            icon={['far', 'trash-alt']} \r\n                            className=\"icon icon__reuse-onlineque--options\" />\r\n                        Delete \r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"reuse-onlineque\">\r\n        <ul className=\"reuse-onlineque__header\">\r\n            <li>\r\n                <div className=\"reuse-onlineque__header--quesNumber\">\r\n                    { props.cnt.qchatTotal}\r\n                </div>\r\n                <div className=\"reuse-onlineque__header--title\">\r\n                    { props.cnt.qchatTotal > 1 ? 'Questions' : 'Question'}\r\n                </div>\r\n            </li>\r\n            <li>\r\n                <div className=\"reuse-onlineque__header--quesTime\">\r\n                    <FontAwesomeIcon \r\n                        icon={['far', 'clock']} \r\n                        className=\"icon icon__reuse-onlineque--time\" />\r\n                    {`${props.cnt.hour ? props.cnt.hour : 0}hr\r\n                        ${props.cnt.minute ? props.cnt.minute : 0}min\r\n                        ${props.cnt.second ? props.cnt.second : 0}sec `}\r\n                </div>\r\n            </li>\r\n            <li>\r\n                <div className=\"reuse-share\">\r\n                    <div className=\"reuse-share__icn\" onClick={props.share}>\r\n                        <FontAwesomeIcon \r\n                            icon={['fas', 'location-arrow']} \r\n                            className=\"icon icon__reuse-share--icn\" />\r\n                    </div> \r\n                </div>\r\n            </li>\r\n        </ul>\r\n        <div className=\"reuse-onlineque__content\">\r\n            <p className=\"reuse-onlineque__content--title\">\r\n                <a href={`/view/qchat/${props.cnt._id}`}>{ title }</a>\r\n            </p>\r\n            <div className=\"reuse-onlineque__content--posted\">\r\n                <div className=\"reuse-onlineque__content--posted__user\">\r\n                    <div className=\"reuse-onlineque__content--posted__user--img\">\r\n                        { userImage }\r\n                    </div>\r\n                    <span>\r\n                        <a href={`/user/profile/${props.cnt.authorID}`}>{props.cnt.username}</a>\r\n                        @ <TimeAgo date={props.cnt.created} live={false} formatter={formatter}/> \r\n                    </span>\r\n                    { userOpt }\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <ul className=\"reuse-onlineque__footer\">\r\n            <li>\r\n                <a href={`/view/qchat/${props.cnt._id}`}>\r\n                    <FontAwesomeIcon \r\n                        icon={['far', 'comment-dots']} \r\n                        className=\"icon icon__reuse-onlineque--comment\" />\r\n                    { transformNumber(props.cnt.comment)}\r\n                </a>\r\n            </li>\r\n            <li className=\"reuse-onlineque__footer--exam\">\r\n                {props.cnt.access ? ( <span className=\"reuse-onlineque__footer--exam__start\" onClick={props.start}> Start</span>) : ( \r\n                <span \r\n                    className=\"reuse-onlineque__footer--exam__req\"\r\n                    onClick={props.tooltip}> \r\n                    <FontAwesomeIcon \r\n                        icon={['fas', 'lock']} \r\n                        className=\"icon icon__reuse-onlineque--comment\" /> Request \r\n                </span>\r\n                )}\r\n            </li>\r\n            <li>\r\n                <a href={`/view/qchat/${props.cnt._id}`}>\r\n                    <FontAwesomeIcon \r\n                        icon={['fas', 'pencil-alt']} \r\n                        className=\"icon icon__reuse-onlineque--pen\" /> \r\n                    { transformNumber(props.cnt.write)}\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        { tooltip }\r\n    </div>\r\n    );\r\n};\r\n\r\nexport default qchatContent;","import React from 'react';\r\nimport arraySort from 'array-sort';\r\n\r\nimport QchatContent from './QchatContent/QchatContent';\r\n\r\nconst qchat = props => {\r\n    let content = arraySort(props.content, 'created', {reverse: true})\r\n    const allQchat = content.map((cnt, index) => (\r\n        <QchatContent \r\n             key={index} \r\n             cnt={cnt}\r\n             userOpt={props.userOpt.bind(this, cnt._id)} \r\n             showCnt={props.showCntOpt}\r\n             share={props.share.bind(this, cnt._id)}\r\n             tooltip={props.tooltip.bind(this, cnt._id)}\r\n             showTooltip={props.showTooltip}\r\n             start={props.startExam.bind(this, cnt.contentID)}\r\n             deleteCnt={props.changeCnt.bind(this, cnt._id, cnt.title, 'delete', 'deleteqchat')}\r\n             changeCnt={props.changeCnt.bind(this, cnt._id, cnt.title, 'draft', 'qchat')}/>\r\n    ));\r\n\r\n    return allQchat;\r\n}\r\n\r\nexport default qchat;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport 'pepjs';\r\n\r\nimport Qchat from '../../../../components/Main/Qchat/Qchat';\r\nimport Loader from '../../../../components/UI/Loader/Loader';\r\nimport NoAcc from '../../../../components/Main/NoAcc/NoAcc';\r\nimport { updateObject } from '../../../../shared/utility';\r\nimport * as actions from '../../../../store/actions/index';\r\n\r\nclass Qchats extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n         this.props.onFetchCntReset();\r\n        let limit = 0;\r\n        if (window.innerHeight >= 1200) {\r\n            limit = 18\r\n        } else if(window.innerHeight >= 900) {\r\n            limit = 12;\r\n        } else if(window.innerHeight >= 500) {\r\n            limit = 9\r\n        } else {\r\n            limit = 6;\r\n        }\r\n        this.state = {\r\n            cntOpt: null,\r\n            fetchLimit: limit,\r\n            filterTag: 'qchat',\r\n            showTooltip: null,\r\n            active: null\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.onFetchCnt(this.props.userID, this.state.filterTag, this.state.fetchLimit, 0, 0);\r\n        this.props.onChangeTag('/qchat');\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (this.props.cnts && this.props.cnts.length > 0 && !this.state.scrollEnable) {\r\n            window.addEventListener('scroll', this.onScroll, false);\r\n            this.setState({scrollEnable: true})\r\n        }\r\n        if (this.props.match.params.id && this.state.filterTag !== this.props.match.params.id && this.props.match.params.id !== 'share' && this.props.match.params.id !== 'filter' && this.props.match.params.id !== 'startfilter') {\r\n            this.props.onFetchCntReset();;\r\n            this.props.onFetchCnt(this.props.userID, `qchat-${this.props.match.params.id}`, this.state.fetchLimit, 0, 0);\r\n            this.setState({\r\n                filterTag: this.props.match.params.id\r\n            });\r\n        }\r\n        if (this.props.startSearch && this.props.filterDet && this.props.location.search && this.state.filterTag !== `filter==${this.props.filterDet}`) {\r\n            this.props.onFetchCntReset();\r\n            let cnt = `filter==${this.props.filterDet}`;\r\n            this.props.onFetchCnt(this.props.userID, 'qchat-'+cnt, this.state.fetchLimit, 0, 0);\r\n            this.setState({\r\n                filterTag: cnt\r\n            });\r\n        }\r\n        if (!this.props.startSearch && !this.props.match.params.id && this.state.filterTag !== 'qchat') {\r\n            this.props.onFetchCntReset();\r\n            this.props.onFetchCnt(this.props.userID, 'qchat', this.state.fetchLimit, 0, 0);\r\n            this.setState({\r\n                filterTag: 'qchat'\r\n            });\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.onFetchCntReset();\r\n        window.removeEventListener('scroll', this.onScroll, false);\r\n    }\r\n\r\n    onScroll = () => {\r\n        if ((window.innerHeight + Math.ceil(window.pageYOffset + 1)) >= document.body.offsetHeight) {\r\n            this.props.onFetchCnt(\r\n                    this.props.userID,  \r\n                    this.state.filterTag !== 'qchat' ? \r\n                    this.state.filterTag === 'filter' ?  'filter=='+this.props.filterDet : `qchat-${this.state.filterTag}` : 'qchat' ,\r\n                    this.state.fetchLimit, this.props.skipCnt + this.state.fetchLimit, this.props.cntTotal);\r\n        }\r\n    } \r\n\r\n    showUserOptHandler = (id) => {\r\n        if (this.state.cntOpt && this.state.cntOpt.id === id) {\r\n            this.setState((prevState, props) => {\r\n                return {\r\n                    cntOpt: updateObject(prevState.cntOpt, {visible: !prevState.cntOpt.visible})\r\n                }\r\n            });\r\n            return\r\n        }\r\n\r\n        const newCntOpt = {visible: true, id}\r\n        this.setState({cntOpt: newCntOpt})\r\n    }\r\n\r\n    showShareHandler = (shareID) => {\r\n        this.props.onChangeShareID(shareID, 'qchat');\r\n        this.props.history.push('/index/qchat/share')\r\n    };\r\n\r\n    showTooltipHandler = (id) => {\r\n        if (this.state.showTooltip && this.state.showTooltip.id === id) {\r\n            this.setState((prevState, props) => {\r\n                return {\r\n                    showTooltip: updateObject(prevState.showTooltip, {visible: !prevState.showTooltip.visible})\r\n                }\r\n            });\r\n            return\r\n        }\r\n\r\n        const newCntOpt = {visible: true, id}\r\n        this.setState({showTooltip: newCntOpt})\r\n    }\r\n\r\n    changeCntHandler = (id, title, det, modelType) => {\r\n        let checkTitle = String(title).length > 50 ? String(title).substr(0, 50) + '...' : title\r\n        this.props.onChangeCnt(id, checkTitle, det, false, modelType);\r\n    }\r\n\r\n    startExamHandler = (id) => {\r\n       var win = window.open(`https://www.slodge24.com/examtab/${id}`, '_blank');\r\n       win.focus();\r\n    }\r\n\r\n    render() {\r\n        let cnt = <Loader />;\r\n        if (this.props.postErr) {\r\n            cnt = null\r\n        }\r\n\r\n        if (this.props.cnts && this.props.cnts.length === 0 && this.state.filterTag === 'shared') {\r\n            cnt = <NoAcc \r\n                    isAuth={this.props.userID !== null}\r\n                    det='No content found!'\r\n                    icn='clone'\r\n                    filter />\r\n        }\r\n\r\n        if (this.props.cnts && this.props.cnts.length === 0 && this.state.filterTag !== 'shared') {\r\n            cnt = <NoAcc \r\n                    isAuth={this.props.userID !== null}\r\n                    det='No content found!'\r\n                    icn='clone'\r\n                    filter />\r\n        }\r\n\r\n        if (this.props.cnts && this.props.cnts.length > 0) {\r\n            cnt = <Qchat \r\n                content={this.props.cnts} \r\n                userOpt={this.showUserOptHandler}\r\n                showCntOpt={this.state.cntOpt}\r\n                share={this.showShareHandler}\r\n                tooltip={this.showTooltipHandler}\r\n                showTooltip={this.state.showTooltip}\r\n                startExam={this.startExamHandler}\r\n                changeCnt={this.changeCntHandler}/>\r\n        }\r\n\r\n        return cnt\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        userID: state.auth.userID,\r\n        cnts: state.cnt.cnts,\r\n        skipCnt: state.cnt.skipCnt,\r\n        cntTotal: state.cnt.cntTotal,\r\n        changedFav: state.cnt.changedFav,\r\n        favChange: state.cnt.favChange,\r\n        cntErr: state.cnt.cntErr,\r\n        postVideo: state.cnt.postVideo,\r\n        videoErr: state.cnt.videoErr,\r\n        filterDet: state.cnt.filterDet,\r\n        startSearch: state.filter.startSearch\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        onFetchShareActive: () => dispatch(actions.fetchShareactiveInit()),\r\n        onFetchShareCntActive: () => dispatch(actions.fetchShareCntactiveInit()),\r\n        onFetchCntActive: () => dispatch(actions.fetchCntActiveInit()),\r\n        onFetchNotifyActive: () => dispatch(actions.fetchNotifyactiveInit()),\r\n        onFetchPtActive: () => dispatch(actions.fetchPtActiveInit()),\r\n        onFetchQueActive: () => dispatch(actions.fetchQueActiveInit()),\r\n        onFetchReqActive: () => dispatch(actions.fetchReqActiveInit()),\r\n        onFetchCnt: (userID, fetchType, limit, skipCnt, cntTotal) => dispatch(actions.fetchCntInit(userID, fetchType, limit, skipCnt, cntTotal)),\r\n        onFetchCntReset: () => dispatch(actions.fetchCntReset()),\r\n        onChangeFav: (id, liked, favAdd, changedFav, userID, cntGrp) => dispatch(actions.changeFavInit(id, liked, favAdd, changedFav, userID, cntGrp)),\r\n        onChangeShareID: (shareID,  cntType) => dispatch(actions.shareID(shareID,  cntType)),\r\n        onChangeTag: (path) => dispatch(actions.changeTagsPath(path)),\r\n        onFetchVideo: (id, url) => dispatch(actions.fetchVideo(id, url)),\r\n        onChangeCnt: (id, title, det, confirm, modelType) => dispatch(actions.changeCntInit(id, title, det, confirm,  modelType))\r\n    };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Qchats));"],"sourceRoot":""}