(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{651:function(e,t,n){},778:function(e,t,n){},795:function(e,t,n){"use strict";n.r(t);var o=n(87),a=n(16),r=n(17),s=n(218),i=n(18),c=n(19),l=n(0),p=n.n(l),u=n(24),d=n(86),m=(n(664),n(124)),_=n.n(m),h=n(93),f=n(679),g=n.n(f),b=n(73),v=(n(778),n(651),n(3)),E=n(9),C=function(e){var t=null,n=["reuse-group__cnt--desc__opt--join"],o=!1,a=["reuse-group__cnt--desc__opt--cancel reuse-group__cnt--desc__opt--cancel"],r=["reuse-group__footer--info__options"],s=null,i=null,c=p.a.createElement(b.a,{name:e.cnt.title,size:"60",round:!0});if(e.cnt.image&&e.cnt.image.length>0&&(c=p.a.createElement("img",{src:"".concat(window.location.protocol+"//"+window.location.host,"/media/image/").concat(e.cnt.image[0].id),alt:"group"})),e.joinStartID&&e.joinStartID.length>0){var l,u=Object(h.a)(e.joinStartID);try{for(u.s();!(l=u.n()).done;)l.value===e.cnt._id&&(n.push("reuse-group__cnt--desc__opt--join__start"),a.push("reuse-group__cnt--desc__opt--join__start"))}catch(C){u.e(C)}finally{u.f()}}if(e.joined&&e.joined.length>0){var d,m=Object(h.a)(e.joined);try{for(m.s();!(d=m.n()).done;){var _=d.value;e.cnt._id===_&&(o=!0)}}catch(C){m.e(C)}finally{m.f()}}e.cnt.userOpt&&e.cnt.requestTotal>0&&(t=p.a.createElement("div",{className:"reuse-group__footer--info__active"},e.cnt.requestTotal));var f=p.a.createElement("div",{className:n.join(" "),onClick:e.join},p.a.createElement(E.a,{icon:["fas","plus"],className:"icon icon__reuse-group--cnt__join"}),"Join");return e.showOpt&&e.showOpt.visible&&e.cnt._id===e.showOpt.id&&r.push("reuse-group__footer--info__options--visible"),(e.cnt.member||e.cnt.userOpt)&&(f=p.a.createElement("div",{className:"reuse-group__cnt--desc__opt--chat"},p.a.createElement("a",{href:"/chat/group/".concat(e.cnt._id)},p.a.createElement(E.a,{icon:["fas","comment-dots"],className:"icon icon__reuse-group--cnt__comment"}),"Chat"))),e.cnt.member&&(i=p.a.createElement("li",{onClick:e.exitGrp,className:"reuse-group__footer--info__options--del"},"Exit Group")),e.cnt.userOpt&&(s=p.a.createElement(p.a.Fragment,null,p.a.createElement("li",{className:"reuse-group__footer--info__options--edit"},p.a.createElement("a",{href:"/edit/group/".concat(e.cnt._id)},p.a.createElement(E.a,{icon:["far","edit"],className:"icon icon__reuse-grp--options"}),"Edit")),p.a.createElement("li",{onClick:e.deleteGrp,className:"reuse-group__footer--info__options--del"},p.a.createElement(E.a,{icon:["far","trash-alt"],className:"icon icon__reuse-grp--options"}),"Delete"))),(o||e.cnt.request)&&(f=p.a.createElement("div",{className:a.join(" "),onClick:e.cancelReq},p.a.createElement(E.a,{icon:["fas","times"],className:"icon icon__reuse-group--cnt__cancel"}),"Cancel")),p.a.createElement("div",{className:"reuse-group"},p.a.createElement("div",{className:"reuse-group__wrapper"},p.a.createElement("ul",{className:"reuse-group__header"},p.a.createElement("li",null,p.a.createElement("div",{className:"reuse-group__header--tm"},p.a.createElement(E.a,{icon:["fas","calendar-check"],className:"icon icon__reuse-group--header__calend"}),p.a.createElement("span",null,p.a.createElement(g.a,{format:"MMM YYYY"},e.cnt.groupCreated)))),p.a.createElement("li",null,p.a.createElement("div",{className:"reuse-group__header--categ reuse-group__header--categ__mode"},p.a.createElement(E.a,{icon:["fas","tag"],className:"icon icon__reuse-group--header__tag--mode"}),String(e.cnt.groupMode).substr(0,1).toUpperCase()+String(e.cnt.groupMode).substr(1).toLowerCase()),p.a.createElement("div",{className:"reuse-group__header--categ"},p.a.createElement(E.a,{icon:e.cnt.category.length>1?["fas","tags"]:["fas","tag"],className:"icon icon__reuse-group--header__tag"}),e.cnt.category[0]))),p.a.createElement("div",{className:"reuse-group__cnt"},p.a.createElement("div",{className:"reuse-group__cnt--img"},c),p.a.createElement("div",{className:"reuse-group__cnt--desc"},p.a.createElement("div",{className:"reuse-group__cnt--desc__title"},e.cnt.member||e.cnt.userOpt?p.a.createElement("a",{href:"/chat/group/".concat(e.cnt._id)},e.cnt.title):e.cnt.title),p.a.createElement("div",{className:"reuse-group__cnt--desc__opt"},f))),p.a.createElement("div",{className:"reuse-group__footer"},p.a.createElement("ul",{className:"reuse-group__footer--grp-det"},p.a.createElement("li",{className:"reuse-group__footer--grp-det__users"},p.a.createElement("div",{className:"reuse-group__footer--grp-det__users--wrapper"},p.a.createElement("div",{className:"reuse-group__footer--grp-det__users--icn"},p.a.createElement(E.a,{icon:["fas","users"],className:"icon icon__reuse-group--footer__users"})),Object(v.d)(e.cnt.members)))),e.clipboard&&e.clipboard.id===e.cnt._id?p.a.createElement("div",{className:"reuse-group__footer--tooltip"},e.clipboard.msg):null,p.a.createElement("div",{className:"reuse-group__footer--info",onClick:e.userOpt},p.a.createElement("div",{className:"reuse-group__footer--info__mid"}),p.a.createElement("ul",{className:r.join(" ")},p.a.createElement("li",{className:"reuse-group__footer--info__options--status",onClick:e.groupInfo},p.a.createElement(E.a,{icon:["fas","info"],className:"icon icon__reuse-grp--options__info"}),"Info"),p.a.createElement("li",{className:"reuse-group__footer--info__options--status",onClick:e.copyLink},p.a.createElement(E.a,{icon:["fas","clipboard"],className:"icon icon__reuse-grp--options"}),"Invite"),s,i),t))))},j=function(e){return _()(e.content,"groupCreated",{reverse:!0}).map(function(t,n){return p.a.createElement(C,{key:n,cnt:t,groupInfo:e.groupInfo.bind(void 0,t),join:e.join.bind(void 0,t._id,"join"),joinStartID:e.joinStartID,joined:e.joined,cancelReq:e.join.bind(void 0,t._id,"cancel"),userOpt:e.userOpt.bind(void 0,t._id),showOpt:e.showOpt,deleteGrp:e.changeCnt.bind(void 0,t._id,t.title,"delete",!1),exitGrp:e.changeCnt.bind(void 0,t._id,t.title,"exit",!1),copyLink:e.copyLink.bind(void 0,t._id),clipboard:e.clipboard})})},w=n(40),N=n(78),O=n(5),y=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(e){var r;Object(a.a)(this,n),(r=t.call(this,e)).onScroll=function(){window.innerHeight+Math.ceil(window.pageYOffset+1)>=document.body.offsetHeight&&r.props.onFetchCnt(r.props.userID,"group"!==r.state.filterTag?"filter"===r.state.filterTag?"filter=="+r.props.filterDet:"group-".concat(r.state.filterTag):"group",r.state.fetchLimit,r.props.skipCnt+r.state.fetchLimit,r.props.cntTotal)},r.joinGrpHandler=function(e,t){r.props.onJoinGrp(e,t)},r.groupInfoHandler=function(e){r.props.onShareCnt(Object(o.a)({},e)),r.props.history.push("/index/group/info/".concat(e._id))},r.showUserOptHandler=function(e){if(r.state.cntOpt&&r.state.cntOpt.id===e)r.setState(function(e,t){return{cntOpt:Object(v.f)(e.cntOpt,{visible:!e.cntOpt.visible})}});else{var t={visible:!0,id:e};r.setState({cntOpt:t})}},r.changeCntHandler=function(e,t,n,o){r.props.onChangeCnt(e,t,n,o,"delete"===n?"deletegroup":"exitgroup")},r.copyLinkHandler=function(e){!function(n){if(!navigator.clipboard)return void function(n){var o=document.createElement("textarea");o.value=n,o.style.top="0",o.style.left="0",o.style.position="fixed",o.style.padding=0,o.style.width="2em",o.style.height="2em",o.style.border="none",o.style.outline="none",o.style.boxShadow="none",document.body.appendChild(o),o.focus(),o.select();try{var a=document.execCommand("copy"),r=a?"successful":"unsuccessful";t.setState({clipboard:"successful"===r?{msg:"Copying to clipboard was successful!",id:e}:{msg:"Could not copy link to clipboard",id:e},resetClipboard:"successful"===r})}catch(s){t.setState({clipboard:{msg:"Could not copy link to clipboard",id:e}})}document.body.removeChild(o)}(n);navigator.clipboard.writeText(n).then(function(){t.setState({clipboard:{msg:"Copying to clipboard was successful!",id:e},resetClipboard:!0})},function(n){t.setState({clipboard:{msg:"Could not copy link to clipboard",id:e}})})}("https://www.slodge24.com/chat/group/".concat(e));var t=Object(s.a)(r)};var i=0;return r.props.onFetchCntReset(),i=window.innerHeight>=1200?18:window.innerHeight>=900?12:window.innerHeight>=500?9:6,r.state={cntOpt:null,fetchLimit:i,filterTag:"group",mediaItms:[],clipboard:null,resetClipboard:!1,clearClipboard:null,scrollEnable:!1},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchCnt(this.props.userID,this.state.filterTag,this.state.fetchLimit,0,0),this.props.onChangeTag("/group")}},{key:"componentDidUpdate",value:function(){var e=this;if(this.props.cnts&&this.props.cnts.length>0&&!this.state.scrollEnable&&(window.addEventListener("scroll",this.onScroll,!1),this.setState({scrollEnable:!0})),this.props.match.params.id&&this.state.filterTag!==this.props.match.params.id&&"share"!==this.props.match.params.id&&"filter"!==this.props.match.params.id&&"startfilter"!==this.props.match.params.id&&(this.props.onFetchCntReset(),this.props.onFetchCnt(this.props.userID,"group-".concat(this.props.match.params.id),this.state.fetchLimit,0,0),this.setState({filterTag:this.props.match.params.id})),this.state.clipboard&&this.state.resetClipboard){clearTimeout(this.state.clearClipboard);var t=setTimeout(function(){e.setState({clipboard:null})},2e3);this.setState({resetClipboard:!1,clearClipboard:t})}}},{key:"componentWillUnmount",value:function(){this.props.onFetchCntReset(),window.removeEventListener("scroll",this.onScroll,!1)}},{key:"render",value:function(){var e=p.a.createElement(w.a,null);return this.props.postErr&&(e=null),this.props.cnts&&0===this.props.cnts.length&&"shared"===this.state.filterTag&&(e=p.a.createElement(N.a,{isAuth:null!==this.props.userID,det:"No Group found!",icn:"user-friends",filter:!0})),this.props.cnts&&0===this.props.cnts.length&&"shared"!==this.state.filterTag&&(e=p.a.createElement(N.a,{isAuth:this.props.status,det:"No Group found!",icn:"user-friends",filter:!0})),this.props.cnts&&this.props.cnts.length>0&&(e=p.a.createElement(j,{content:this.props.cnts,join:this.joinGrpHandler,joinStartID:this.props.joinStartID,joined:this.props.joined,groupInfo:this.groupInfoHandler,userOpt:this.showUserOptHandler,showOpt:this.state.cntOpt,changeCnt:this.changeCntHandler,copyLink:this.copyLinkHandler,clipboard:this.state.clipboard})),this.props.status||(e=p.a.createElement(N.a,{isAuth:this.props.status,det:"No Group found!",icn:"user-friends",filter:!0})),e}}]),n}(l.Component);t.default=Object(d.f)(Object(u.b)(function(e){return{status:e.auth.status,userID:e.auth.userID,cnts:e.cnt.cnts,skipCnt:e.cnt.skipCnt,cntTotal:e.cnt.cntTotal,joinStartID:e.cnt.joinStartID,joined:e.cnt.joined,changedFav:e.cnt.changedFav,favChange:e.cnt.favChange,postErr:e.cnt.postErr,postVideo:e.cnt.postVideo,videoErr:e.cnt.videoErr,filterDet:e.cnt.filterDet}},function(e){return{onFetchCnt:function(t,n,o,a,r){return e(O.N(t,n,o,a,r))},onFetchCntReset:function(){return e(O.O())},onJoinGrp:function(t,n){return e(O.Yb(t,n))},onChangeFav:function(t,n,o,a,r,s){return e(O.h(t,n,o,a,r,s))},onShareCnt:function(t){return e(O.gc(t))},onChangeTag:function(t){return e(O.w(t))},onChangeCnt:function(t,n,o,a,r){return e(O.d(t,n,o,a,r))}}})(y))}}]);
//# sourceMappingURL=19.b8eb0bda.chunk.js.map