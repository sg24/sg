(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{501:function(e,t,n){},523:function(e,t,n){},531:function(e,t,n){"use strict";n.r(t);var s=n(67),r=n(0),a=n.n(r),o=n(19),i=n(66),c=(n(502),n(97)),l=n.n(c),p=n(73),u=n(520),d=n.n(u),_=n(53),h=(n(523),n(501),n(2)),m=n(9);var g=e=>{let t=null,n=["reuse-group__cnt--desc__opt--join"],s=!1,r=["reuse-group__cnt--desc__opt--cancel reuse-group__cnt--desc__opt--cancel"],o=["reuse-group__footer--info__options"],i=null,c=null,l=a.a.createElement(_.a,{name:e.cnt.title,size:"60",round:!0});if(e.cnt.image&&e.cnt.image.length>0&&(l=a.a.createElement("img",{src:"".concat(window.location.protocol+"//"+window.location.host,"/media/image/").concat(e.cnt.image[0].id),alt:"group"})),e.joinStartID&&e.joinStartID.length>0){var u,g=Object(p.a)(e.joinStartID);try{for(g.s();!(u=g.n()).done;)u.value===e.cnt._id&&(n.push("reuse-group__cnt--desc__opt--join__start"),r.push("reuse-group__cnt--desc__opt--join__start"))}catch(j){g.e(j)}finally{g.f()}}if(e.joined&&e.joined.length>0){var f,E=Object(p.a)(e.joined);try{for(E.s();!(f=E.n()).done;){let t=f.value;e.cnt._id===t&&(s=!0)}}catch(j){E.e(j)}finally{E.f()}}e.cnt.userOpt&&e.cnt.requestTotal>0&&(t=a.a.createElement("div",{className:"reuse-group__footer--info__active"},e.cnt.requestTotal));let v=a.a.createElement("div",{className:n.join(" "),onClick:e.join},a.a.createElement(m.a,{icon:["fas","plus"],className:"icon icon__reuse-group--cnt__join"}),"Join");return e.showOpt&&e.showOpt.visible&&e.cnt._id===e.showOpt.id&&o.push("reuse-group__footer--info__options--visible"),(e.cnt.member||e.cnt.userOpt)&&(v=a.a.createElement("div",{className:"reuse-group__cnt--desc__opt--chat"},a.a.createElement("a",{href:"/chat/group/".concat(e.cnt._id)},a.a.createElement(m.a,{icon:["fas","comment-dots"],className:"icon icon__reuse-group--cnt__comment"}),"Chat"))),e.cnt.member&&(c=a.a.createElement("li",{onClick:e.exitGrp,className:"reuse-group__footer--info__options--del"},"Exit Group")),e.cnt.userOpt&&(i=a.a.createElement(a.a.Fragment,null,a.a.createElement("li",{className:"reuse-group__footer--info__options--edit"},a.a.createElement("a",{href:"/edit/group/".concat(e.cnt._id)},a.a.createElement(m.a,{icon:["far","edit"],className:"icon icon__reuse-grp--options"}),"Edit")),a.a.createElement("li",{onClick:e.deleteGrp,className:"reuse-group__footer--info__options--del"},a.a.createElement(m.a,{icon:["far","trash-alt"],className:"icon icon__reuse-grp--options"}),"Delete"))),(s||e.cnt.request)&&(v=a.a.createElement("div",{className:r.join(" "),onClick:e.cancelReq},a.a.createElement(m.a,{icon:["fas","times"],className:"icon icon__reuse-group--cnt__cancel"}),"Cancel")),a.a.createElement("div",{className:"reuse-group"},a.a.createElement("div",{className:"reuse-group__wrapper"},a.a.createElement("ul",{className:"reuse-group__header"},a.a.createElement("li",null,a.a.createElement("div",{className:"reuse-group__header--tm"},a.a.createElement(m.a,{icon:["fas","calendar-check"],className:"icon icon__reuse-group--header__calend"}),a.a.createElement("span",null,a.a.createElement(d.a,{format:"MMM YYYY"},e.cnt.groupCreated)))),a.a.createElement("li",null,a.a.createElement("div",{className:"reuse-group__header--categ"},a.a.createElement(m.a,{icon:e.cnt.category.length>1?["fas","tags"]:["fas","tag"],className:"icon icon__reuse-group--header__tag"}),e.cnt.category[0]))),a.a.createElement("div",{className:"reuse-group__cnt"},a.a.createElement("div",{className:"reuse-group__cnt--img"},l),a.a.createElement("div",{className:"reuse-group__cnt--desc"},a.a.createElement("div",{className:"reuse-group__cnt--desc__title"},e.cnt.member||e.cnt.userOpt?a.a.createElement("a",{href:"/chat/group/".concat(e.cnt._id)},e.cnt.title):e.cnt.title),a.a.createElement("div",{className:"reuse-group__cnt--desc__opt"},v))),a.a.createElement("div",{className:"reuse-group__footer"},a.a.createElement("ul",{className:"reuse-group__footer--grp-det"},a.a.createElement("li",{className:"reuse-group__footer--grp-det__users"},a.a.createElement("div",{className:"reuse-group__footer--grp-det__users--wrapper"},a.a.createElement("div",{className:"reuse-group__footer--grp-det__users--icn"},a.a.createElement(m.a,{icon:["fas","users"],className:"icon icon__reuse-group--footer__users"})),Object(h.d)(e.cnt.members)))),a.a.createElement("div",{className:"reuse-group__footer--info",onClick:e.userOpt},a.a.createElement("div",{className:"reuse-group__footer--info__mid"}),a.a.createElement("ul",{className:o.join(" ")},a.a.createElement("li",{className:"reuse-group__footer--info__options--status",onClick:e.groupInfo},a.a.createElement(m.a,{icon:["fas","info"],className:"icon icon__reuse-grp--options__info"}),"Info"),i,c),t))))};var f=e=>{return l()(e.content,"groupCreated",{reverse:!0}).map((t,n)=>a.a.createElement(g,{key:n,cnt:t,groupInfo:e.groupInfo.bind(void 0,t),join:e.join.bind(void 0,t._id,"join"),joinStartID:e.joinStartID,joined:e.joined,cancelReq:e.join.bind(void 0,t._id,"cancel"),userOpt:e.userOpt.bind(void 0,t._id),showOpt:e.showOpt,deleteGrp:e.changeCnt.bind(void 0,t._id,t.title,"delete",!1),exitGrp:e.changeCnt.bind(void 0,t._id,t.title,"exit",!1)}))},E=n(29),v=n(60),j=n(4);t.default=Object(i.f)(Object(o.b)(e=>({status:e.auth.status,userID:e.auth.userID,cnts:e.cnt.cnts,skipCnt:e.cnt.skipCnt,cntTotal:e.cnt.cntTotal,joinStartID:e.cnt.joinStartID,joined:e.cnt.joined,changedFav:e.cnt.changedFav,favChange:e.cnt.favChange,postErr:e.cnt.postErr,postVideo:e.cnt.postVideo,videoErr:e.cnt.videoErr,filterDet:e.cnt.filterDet}),e=>({onFetchCnt:(t,n,s,r,a)=>e(j.N(t,n,s,r,a)),onFetchCntReset:()=>e(j.O()),onJoinGrp:(t,n)=>e(j.Vb(t,n)),onChangeFav:(t,n,s,r,a,o)=>e(j.h(t,n,s,r,a,o)),onShareCnt:t=>e(j.dc(t)),onChangeTag:t=>e(j.w(t)),onChangeCnt:(t,n,s,r,a)=>e(j.d(t,n,s,r,a))}))(class extends r.Component{constructor(e){super(e),this.onScroll=(()=>{document.documentElement.scrollHeight-document.documentElement.scrollTop===document.documentElement.clientHeight&&this.props.onFetchCnt("group"!==this.state.filterTag?"filter"===this.state.filterTag?"filter=="+this.props.filterDet:this.state.filterTag:"group",this.state.fetchLimit,this.props.skipCnt+this.state.fetchLimit,this.props.cntTotal)}),this.joinGrpHandler=((e,t)=>{this.props.onJoinGrp(e,t)}),this.groupInfoHandler=(e=>{this.props.onShareCnt(Object(s.a)({},e)),this.props.history.push("/index/group/".concat(e._id))}),this.showUserOptHandler=(e=>{if(this.state.cntOpt&&this.state.cntOpt.id===e)return void this.setState((e,t)=>({cntOpt:Object(h.f)(e.cntOpt,{visible:!e.cntOpt.visible})}));const t={visible:!0,id:e};this.setState({cntOpt:t})}),this.changeCntHandler=((e,t,n,s)=>{this.props.onChangeCnt(e,t,n,s,"delete"===n?"deletegroup":"exitgroup")});let t=0;this.props.onFetchCntReset(),t=window.innerHeight>=1200?18:window.innerHeight>=900?12:window.innerHeight>=500?9:6,this.state={cntOpt:null,fetchLimit:t,filterTag:"group",mediaItms:[],scrollEnable:!1}}componentDidMount(){this.props.onFetchCnt(this.props.userID,this.state.filterTag,this.state.fetchLimit,0,0),this.props.onChangeTag("/group")}componentDidUpdate(){this.props.cnts&&this.props.cnts.length>0&&!this.state.scrollEnable&&(window.addEventListener("scroll",this.onScroll,!1),this.setState({scrollEnable:!0}))}componentWillUnmount(){this.props.onFetchCntReset(),window.removeEventListener("scroll",this.onScroll,!1)}render(){let e=a.a.createElement(E.a,null);return this.props.postErr&&(e=null),this.props.cnts&&0===this.props.cnts.length&&"shared"===this.state.filterTag&&(e=a.a.createElement(v.a,{isAuth:null!==this.props.userID,det:"No Group found!",icn:"user-friends",filter:!0})),this.props.cnts&&0===this.props.cnts.length&&"shared"!==this.state.filterTag&&(e=a.a.createElement(v.a,{isAuth:null!==this.props.userID,det:"No Group found!",icn:"user-friends",filter:!0})),this.props.cnts&&this.props.cnts.length>0&&(e=a.a.createElement(f,{content:this.props.cnts,join:this.joinGrpHandler,joinStartID:this.props.joinStartID,joined:this.props.joined,groupInfo:this.groupInfoHandler,userOpt:this.showUserOptHandler,showOpt:this.state.cntOpt,changeCnt:this.changeCntHandler})),this.props.status||(e=a.a.createElement(v.a,{isAuth:this.props.status,det:"No Group found!",icn:"user-friends",filter:!0})),e}}))}}]);
//# sourceMappingURL=8.bd9e848a.chunk.js.map