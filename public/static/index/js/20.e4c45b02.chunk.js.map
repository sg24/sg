{"version":3,"sources":["containers/AroundMe/utility/utility.js","containers/AroundMe/Form/MediaItems/MediaItems.js","containers/AroundMe/Form/Loader/Loader.js","containers/AroundMe/Form/Form.js"],"names":["updateObject","oldObject","updatedProperties","Object","C_Users_g_my_sg_final_deploy_react_index_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__","getImageURL","image","canvas","document","createElement","Promise","resolve","reject","getContext","width","videoWidth","height","videoHeight","drawImage","toBlob","blob","MediaItems","_this","this","media","props","cnt","map","index","react_default","a","className","key","onClick","removeMedia","bind","id","index_es","icon","type","src","url","alt","controls","Component","loader","globalClass","bg","push","join","videoRef","React","createRef","Form","state","post","value","touched","valid","disableInput","start","err","loading","chunks","auth","status","disable","upload","mediaRecorder","showEmoji","inputChangedHandler","event","target","setState","addEmojiHandler","concat","native","cameraHandler","navigator","mediaDevices","these","assertThisInitialized","getUserMedia","constraints","webkitGetUserMedia","mozGetUserMedia","call","video","then","stream","current","srcObject","catch","captureHandler","imageData","getVideoTracks","forEach","track","stop","toConsumableArray","window","URL","createObjectURL","file","uuid","closeCameraHandler","removeMediaHandler","updateMedia","filter","videoRecHandler","rec","audio","MediaRecorder","ondataavailable","e","data","stopRecHandler","onstop","Blob","getTracks","cancelRecHandler","uploadMediaHandler","querySelector","click","uploadImageHandler","uploadVideoHandler","showEmojiHandler","selectMediaHandler","stopPropagation","preventDefault","files","handleFiles","i","length","split","userAuthHandler","submitFormHandler","uploadCnt","closeAroundmeHandler","history","goBack","formContent","FormData","append","_step","_iterator","createForOfIteratorHelper","s","n","done","ext","pop","f","axios","onUploadProgress","progressEvent","lengthComputable","percentage","Math","round","loaded","total","res","emojiCnt","mediaCnt","mediaClass","mediaVidClass","style","backgroundColor","position","top","mediaOpt","dist_es","set","onSelect","Form_MediaItems_MediaItems","Loader_Loader","Fragment","disabled","placeholder","onChange","toString","multiple","accept","onSubmit","ref","autoPlay","withRouter","connect"],"mappings":"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","file":"static/js/20.e4c45b02.chunk.js","sourcesContent":["export const updateObject = (oldObject, updatedProperties) => {\r\n    return {\r\n        ...oldObject,\r\n        ...updatedProperties\r\n    }\r\n}\r\n\r\nexport const getImageURL = image => {\r\n    let canvas = document.createElement('canvas');\r\n    return new Promise((resolve, reject) => {\r\n        if (canvas.getContext) {\r\n                canvas.width = image.videoWidth;\r\n                canvas.height = image.videoHeight;\r\n                canvas.getContext('2d').drawImage(image, 0, 0);\r\n                canvas.toBlob((blob) => {\r\n                    resolve(blob)\r\n                });\r\n        } else {\r\n            reject('Please update your Browser')\r\n        }\r\n    })\r\n}\r\n\r\nexport const checkValidity = (value, rules) => {\r\n    let isValid = true;\r\n\r\n    if (!rules) {\r\n        return true;\r\n    }\r\n\r\n    if (rules.required) {\r\n        isValid =  value.trim() !== '' && isValid;\r\n    }\r\n\r\n    if (rules.minLength) {\r\n        isValid =  value.length >= rules.minLength  && isValid\r\n    }\r\n\r\n    return isValid;\r\n}","import React, { Component } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nclass MediaItems extends Component {\r\n    render() {\r\n        let media = this.props.cnt.map((cnt, index) => (\r\n            <div \r\n                className=\"aroundme__form--itm__prev--wrapper\"\r\n                key={index}>\r\n                <div>\r\n                    <div \r\n                        className=\"aroundme__form--itm__prev--close\"\r\n                        onClick={this.props.removeMedia.bind(this, cnt.id)}>\r\n                        <FontAwesomeIcon \r\n                            icon={['fas', 'times']} />\r\n                    </div>\r\n                    {cnt.type === 'image' ? <img src={cnt.url} alt=\"\" /> : \r\n                    <video \r\n                        src={cnt.url} \r\n                        controls>\r\n                        <p>our browser doesn't support embedded videos</p>\r\n                    </video>}\r\n                </div>\r\n            </div>\r\n        ))\r\n        return <div className=\"aroundme__form--itm__prev\">{media}</div>;\r\n    }\r\n}\r\n\r\nexport default MediaItems;","import React from 'react';\r\n\r\nimport './Loader.css';\r\nconst loader = props => {\r\n    let cnt = 'Loading ....';\r\n    let globalClass = ['global'];\r\n\r\n    if (props.cnt) {\r\n        cnt = props.cnt\r\n    }\r\n\r\n    if (props.bg) {\r\n        globalClass.push('global--bg')\r\n    }\r\n\r\n    return (\r\n        <section className={globalClass.join(' ')}>\r\n        <div className=\"global__wrapper\">\r\n        <div>\r\n            <div className=\"top mask\">\r\n            <div className=\"plane\"></div>\r\n            </div>\r\n            <div className=\"middle mask\">\r\n            <div className=\"plane\"></div>\r\n            </div>\r\n            <div className=\"bottom mask\">\r\n            <div className=\"plane\"></div>\r\n            </div>\r\n        </div>\r\n        <p>{cnt}</p>\r\n        </div>\r\n    </section>\r\n    );\r\n}\r\n\r\nexport default loader;","import React, { Component } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport axios from 'axios';\r\nimport uuid from 'uuid';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport 'emoji-mart/css/emoji-mart.css'\r\nimport { Picker } from 'emoji-mart'\r\n\r\nimport './Form.css';\r\nimport { updateObject, getImageURL } from '../utility/utility';\r\nimport MediaItems from './MediaItems/MediaItems';\r\nimport Loader from './Loader/Loader';\r\n// import Auth from './Auth/Auth';\r\n\r\nlet videoRef = React.createRef(null);\r\nclass Form extends Component {\r\n    state = {\r\n        post: {\r\n            value: '',\r\n            touched: false,\r\n            valid: false\r\n        },\r\n        disableInput: false,\r\n        start: false,\r\n        err: null,\r\n        loading: false,\r\n        media: [],\r\n        chunks: [],\r\n        auth: false,\r\n        status: false,\r\n        disable: false,\r\n        upload: 0,\r\n        mediaRecorder: null,\r\n        showEmoji: false\r\n    }\r\n\r\n    inputChangedHandler = (event) => {\r\n        let value = event.target.value;\r\n        let post = updateObject(this.state.post, {value, valid: value !== '', touched: true});\r\n        this.setState({post, err: null})\r\n    }\r\n\r\n    addEmojiHandler = (cnt) => {\r\n        let value = `${this.state.post.value} ${cnt.native}`;\r\n        let post = updateObject(this.state.post, {value, valid: value !== '', touched: true});\r\n        this.setState({post, err: null})\r\n    }\r\n\r\n    cameraHandler = () => {\r\n        this.setState({loading: true})\r\n        if (!('mediaDevices' in navigator)) {\r\n            navigator.mediaDevices = {};\r\n        }\r\n        let these = this;\r\n        if (!('getUserMedia' in navigator.mediaDevices)) {\r\n            navigator.mediaDevices.getUserMedia = function(constraints) {\r\n            var getUserMedia = navigator.webkitGetUserMedia || navigator.mozGetUserMedia;\r\n        \r\n            if (!getUserMedia) {\r\n                return these.setState({err: 'Camera access not supported by Browser!'});\r\n            }\r\n        \r\n            return new Promise(function(resolve, reject) {\r\n                getUserMedia.call(navigator, constraints, resolve, reject);\r\n            });\r\n            }\r\n        }\r\n    \r\n        navigator.mediaDevices.getUserMedia({video: true})\r\n            .then(function(stream) {\r\n                videoRef.current.srcObject= stream;\r\n                these.setState({start: true, loading: false})\r\n            })\r\n            .catch(function(err) {\r\n                these.setState({err, start: false, loading: false})\r\n            });\r\n    }\r\n\r\n    captureHandler = () => {\r\n        if (videoRef && videoRef.current) {\r\n            getImageURL(videoRef.current).then(imageData => {\r\n                videoRef.current.srcObject.getVideoTracks().forEach(function(track) {\r\n                    track.stop();\r\n                });\r\n                let media = [...this.state.media];\r\n                let url = window.URL.createObjectURL(imageData);\r\n                media.push({file: imageData, type: 'image', id: uuid(), url})\r\n                this.setState({media, start: false, err: null})\r\n            }).catch(err => {\r\n                this.setState({err})\r\n            })\r\n        }\r\n    }\r\n\r\n    closeCameraHandler = () => {\r\n        if (videoRef && videoRef.current) {\r\n            videoRef.current.srcObject.getVideoTracks().forEach(function(track) {\r\n                track.stop();\r\n            });\r\n            this.setState({start: false, err: null, loading: false})\r\n        }\r\n    }\r\n\r\n    removeMediaHandler = (id) => {\r\n        let media = [...this.state.media];\r\n        let updateMedia = media.filter(cnt => cnt.id !== id);\r\n        this.setState({media: updateMedia})\r\n    }\r\n\r\n    videoRecHandler = () => {\r\n        this.setState({loading: true, rec: true})\r\n        let these = this;\r\n        if (!('mediaDevices' in navigator)) {\r\n            navigator.mediaDevices = {};\r\n        }\r\n        \r\n        if (!('getUserMedia' in navigator.mediaDevices)) {\r\n            navigator.mediaDevices.getUserMedia = function(constraints) {\r\n            var getUserMedia = navigator.webkitGetUserMedia || navigator.mozGetUserMedia;\r\n        \r\n            if (!getUserMedia) {\r\n                return these.setState({err: 'Camera access not supported by browser!', rec: false});\r\n            }\r\n        \r\n            return new Promise(function(resolve, reject) {\r\n                getUserMedia.call(navigator, constraints, resolve, reject);\r\n            });\r\n            }\r\n        }\r\n        navigator.mediaDevices.getUserMedia({audio: true, video: true})\r\n            .then(function(stream) {\r\n                let mediaRecorder = new MediaRecorder(stream);\r\n                mediaRecorder.start();\r\n                mediaRecorder.ondataavailable = function(e) {\r\n                    these.state.chunks.push(e.data);\r\n                }\r\n                videoRef.current.srcObject = stream;\r\n                these.setState({mediaRecorder, start: true, loading: false})\r\n            })\r\n            .catch(function(err) {\r\n                these.setState({err, start: false, loading: false, rec: false})\r\n            }); \r\n        \r\n    }\r\n\r\n    stopRecHandler = () => {\r\n        let mediaRecorder = this.state.mediaRecorder;\r\n        let these = this;\r\n        mediaRecorder.stop();\r\n        mediaRecorder.onstop = function(e) {\r\n            var blob = new Blob(these.state.chunks, { 'type' : 'mp4' });\r\n            mediaRecorder.stream.getTracks().forEach( track => \r\n                track.stop())\r\n            let media = [...these.state.media];\r\n            let url = window.URL.createObjectURL(blob);\r\n            media.push({file: blob, type: 'video', id: uuid(), url})\r\n            these.setState({mediaRecorder: null, chunks: [], media, start: false, err: null, rec: false})\r\n        }\r\n    }\r\n\r\n    cancelRecHandler = () => {\r\n        let mediaRecorder = this.state.mediaRecorder;\r\n        if (mediaRecorder) {\r\n            mediaRecorder.stream.getTracks().forEach( track => \r\n                track.stop())\r\n                this.setState({mediaRecorder: null, start: false, err: null, loading: false, rec: false})\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (videoRef && videoRef.current && videoRef.current.srcObject) {\r\n            videoRef.current.srcObject.getVideoTracks().forEach(function(track) {\r\n                track.stop();\r\n            });\r\n        }\r\n    }\r\n\r\n    uploadMediaHandler = () => {\r\n        document.querySelector('.aroundme__form--itm__file').click()\r\n    }\r\n\r\n    uploadImageHandler = () => {\r\n        document.querySelector('.aroundme__form--itm__img').click()\r\n    }\r\n\r\n    uploadVideoHandler = () => {\r\n        document.querySelector('.aroundme__form--itm__vid').click()\r\n    }\r\n\r\n    showEmojiHandler = () => {\r\n        this.setState({showEmoji: !this.state.showEmoji})\r\n    }\r\n\r\n    selectMediaHandler = (event) => {\r\n        event.stopPropagation();\r\n        event.preventDefault();\r\n        if (event.target.files) {\r\n            const files = event.target.files;\r\n            this.handleFiles(files)\r\n        }\r\n    }\r\n\r\n    handleFiles = (files) => {\r\n        let media = [...this.state.media]\r\n        for (let i = 0; i < files.length; i++) {\r\n            const file = files[i];\r\n            if (file.type.split('/')[0] === 'video' || file.type.split('/')[0] === 'image') {\r\n                let url = window.URL.createObjectURL(file);\r\n                media.push({file, type: file.type.split('/')[0], id: uuid(), url})\r\n            }\r\n        }\r\n        this.setState({media})\r\n    }\r\n\r\n    userAuthHandler = () => {\r\n        this.setState({auth: false, status: true})\r\n    }\r\n\r\n    submitFormHandler = (event) => {\r\n        event.preventDefault();\r\n        // if (this.props.status || this.state.status) {\r\n            this.uploadCnt()\r\n            this.setState({disable: true})\r\n        // } else {\r\n        //     this.setState({auth: true})\r\n        // }\r\n    }\r\n\r\n    closeAroundmeHandler = () => {\r\n        this.props.history.goBack();\r\n        if (videoRef && videoRef.current && videoRef.current.srcObject) {\r\n            videoRef.current.srcObject.getVideoTracks().forEach(function(track) {\r\n                track.stop();\r\n            });\r\n        }\r\n    }\r\n\r\n    uploadCnt = () => {\r\n        let these = this;\r\n        let formContent = new FormData();\r\n        formContent.append('post', this.state.post.value);\r\n        for (let media of this.state.media) {\r\n            let ext = media.file.type.split('/').pop();\r\n            if (media.file.type.split('/')[0] === 'video') {\r\n                formContent.append('video', media.file, `${media.id}.${ext}`);\r\n            } else {\r\n                formContent.append('image', media.file, `${media.id}.${ext}`);\r\n            }\r\n        }\r\n\r\n        axios.post('https://www.slodge24.com/add/aroundme', formContent, {\r\n            onUploadProgress: function (progressEvent) {\r\n                if (progressEvent.lengthComputable) {\r\n                    const percentage = Math.round((progressEvent.loaded * 100) / progressEvent.total);\r\n                    these.setState({upload: percentage})\r\n                }\r\n            }  \r\n        }).then((res) => {\r\n            these.props.history.push('/index/aroundme')\r\n        }).catch((err) => {\r\n            this.setState({err, disable: false})\r\n        });\r\n    }\r\n\r\n    render() {\r\n        let emojiCnt = null;\r\n        let mediaCnt = null;\r\n        let mediaClass = ['aroundme__form--media'];\r\n        let mediaVidClass = ['aroundme__form--media__vid-hide'];\r\n        let loader = null;\r\n        let upload = null;\r\n\r\n        if (this.state.upload > 0) {\r\n            upload = (\r\n                <div style={{\r\n                    height: 4,\r\n                    width: `${this.state.upload}%`,\r\n                    backgroundColor: '#16cf27',\r\n                    position: 'absolute',\r\n                    top: 0\r\n                }}></div>\r\n            )\r\n        }\r\n\r\n        let mediaOpt = (\r\n            <ul className=\"aroundme__form--opt\">\r\n                <li \r\n                    className=\"aroundme__form--opt__camera\"\r\n                    onClick={this.cameraHandler}>\r\n                    <FontAwesomeIcon \r\n                        icon={['fas', 'camera']} />\r\n                </li>\r\n                <li \r\n                    className=\"aroundme__form--opt__rec\"\r\n                    onClick={this.videoRecHandler}>\r\n                    <div></div>\r\n                    <FontAwesomeIcon \r\n                        icon={['fas', 'video']} />\r\n                </li>\r\n                <li \r\n                    className=\"aroundme__form--opt__img\"\r\n                    onClick={this.uploadImageHandler}>\r\n                    <FontAwesomeIcon \r\n                        icon={['fas', 'images']} />\r\n                </li>\r\n                <li \r\n                    className=\"aroundme__form--opt__video\"\r\n                    onClick={this.uploadVideoHandler}>\r\n                    <FontAwesomeIcon \r\n                        icon={['fas', 'video']} />\r\n                </li>\r\n                <li \r\n                    className=\"aroundme__form--opt__file\"\r\n                    onClick={this.uploadMediaHandler}>\r\n                    <FontAwesomeIcon \r\n                        icon={['fas', 'upload']} />\r\n                </li>\r\n                <li \r\n                    className=\"aroundme__form--opt__smile\"\r\n                    onClick={this.showEmojiHandler}>\r\n                    <FontAwesomeIcon \r\n                        icon={['fas', 'smile']} />\r\n                </li>\r\n            </ul>\r\n        )\r\n\r\n        if ( this.state.showEmoji) {\r\n            emojiCnt = (\r\n                <div \r\n                    className=\"aroundme__form--emoji\">\r\n                    <div onClick={this.showEmojiHandler}></div>\r\n                    <Picker \r\n                        set=\"facebook\"\r\n                        onSelect={this.addEmojiHandler}/>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        if (!this.state.loading && !this.state.start && this.state.media.length > 0) {\r\n             mediaCnt = (\r\n                <MediaItems\r\n                    cnt={this.state.media}\r\n                    removeMedia={this.removeMediaHandler}/>\r\n             )\r\n        }\r\n\r\n        if (this.state.loading ){\r\n            loader = (\r\n                <div className=\"aroundme__form--media__loading\">\r\n                    <Loader \r\n                        cnt=\"Initializing camera ...\"\r\n                        bg/>\r\n                </div>\r\n\r\n            )\r\n        }\r\n\r\n        if (this.state.start || this.state.loading) {\r\n            mediaVidClass = ['aroundme__form--media__vid-show'];\r\n            mediaClass.push('aroundme__form--media__show')\r\n            mediaOpt = null\r\n        }\r\n\r\n        let cnt = (\r\n            <>\r\n                <div className=\"aroundme__form--cnt\">\r\n                    <div className=\"aroundme__form--cnt--wrapper\">\r\n                        <textarea \r\n                            value={this.state.post.value}\r\n                            className=\"aroundme__form--cnt__det--input aroundme__form--cnt__det--text\"\r\n                            disabled={this.state.disableInput}\r\n                            placeholder=\"Write something ....\"\r\n                            onChange={this.inputChangedHandler}></textarea>\r\n                        {/* { !this.state.post.valid && this.state.post.touched ?\r\n                            <div className=\"aroundme__form--err\">Content must not be empty</div>\r\n                            : null\r\n                        } */}\r\n                        { this.state.err ?\r\n                            <div className=\"aroundme__form--err\">{this.state.err.toString()}</div>\r\n                            : null\r\n                        }\r\n                        { emojiCnt }\r\n                    </div>\r\n                </div>\r\n                { mediaOpt }\r\n                <div className=\"aroundme__form--itm\">\r\n                    <div className=\"aroundme__form--itm__wrapper\">\r\n                        <input type=\"file\" multiple className=\"aroundme__form--itm__file\"\r\n                            onChange={this.selectMediaHandler} accept=\"*\"/>\r\n                        <input type=\"file\" multiple className=\"aroundme__form--itm__file aroundme__form--itm__vid\"\r\n                            onChange={this.selectMediaHandler} accept=\"video/*\"/>\r\n                        <input type=\"file\" multiple className=\"aroundme__form--itm__file aroundme__form--itm__img\"\r\n                            onChange={this.selectMediaHandler} accept=\"image/*\"/>\r\n                        { mediaCnt }\r\n                    </div>\r\n                </div>\r\n                <div className=\"aroundme__form--footer\">\r\n                    <button \r\n                        type=\"submit\" \r\n                        className=\"aroundme__form--footer__btn\"\r\n                        disabled={(!this.state.post.value && this.state.media.length < 1) || this.state.disable}>\r\n                            Post\r\n                    </button>\r\n                </div>\r\n            </>\r\n        )\r\n\r\n        if (this.state.auth) {\r\n            // cnt = (\r\n            //     <Auth \r\n            //         userAuth={this.userAuthHandler}/>\r\n            // )\r\n        }\r\n\r\n        return (\r\n            <form \r\n                className=\"aroundme__form\"\r\n                onSubmit={this.submitFormHandler}>\r\n                <div className=\"aroundme__form--main-cnt\">\r\n                    <div className=\"aroundme__form--backdrop\"  onClick={this.closeAroundmeHandler}>\r\n                    </div>  \r\n                    <div className=\"aroundme__form--wrapper\">\r\n                        { upload }\r\n                        { cnt }\r\n                        <div className={mediaClass.join(' ')}>\r\n                            <video \r\n                                ref={videoRef}\r\n                                autoPlay\r\n                                className={mediaVidClass.join(' ')}>\r\n                                <p>our browser doesn't support embedded videos</p>\r\n                            </video> \r\n                            { loader }\r\n                            {this.state.start ?\r\n                            <div className=\"aroundme__form--media__snap\">\r\n                            {!this.state.rec ? (\r\n                                <>\r\n                                    <div \r\n                                        className=\"aroundme__form--media__snap--wrapper\"\r\n                                        onClick={this.captureHandler}>\r\n                                            <FontAwesomeIcon \r\n                                                icon={['fas', 'camera']} />\r\n                                    </div>\r\n                                    <div \r\n                                        className=\"aroundme__form--media__snap--close\"\r\n                                        onClick={this.closeCameraHandler}>\r\n                                        <FontAwesomeIcon \r\n                                            icon={['fas', 'times']} />\r\n                                    </div> \r\n                                </>\r\n                            ) :\r\n                                <>\r\n                                    <div \r\n                                        className=\"aroundme__form--media__snap--wrapper aroundme__form--media__snap--wrapper__rec\"\r\n                                        onClick={this.stopRecHandler}>\r\n                                            <FontAwesomeIcon \r\n                                                icon={['fas', 'video']} />\r\n                                    </div>\r\n                                    <div \r\n                                        className=\"aroundme__form--media__snap--close\"\r\n                                        onClick={this.cancelRecHandler}>\r\n                                        <FontAwesomeIcon \r\n                                        icon={['fas', 'times']} />\r\n                                    </div> \r\n                                </>\r\n                            }\r\n                            </div> : null}\r\n                        </div>\r\n                        \r\n                    </div>\r\n                </div>\r\n            </form>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n       status: state.auth.status\r\n    };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, null)(Form));"],"sourceRoot":""}