{"version":3,"sources":["components/Main/Poet/PoetContent/PoetContent.js","components/Main/Poet/Poet.js","containers/SiteMain/MainContent/Poets/Poets.js"],"names":["poetContent","props","formatter","buildFormatter","engStrings","userOpt","userOptDetClass","userOptClass","favAdd","isLiked","userOptMode","react_default","a","createElement","className","onClick","changeCnt","index_es","icon","fav","userImage","src","pwt","alt","mode","changeCntPublish","username","react_avatar_es","name","size","round","_step","_iterator","Object","createForOfIteratorHelper","changedFav","s","n","done","value","_id","id","liked","err","e","f","showCnt","visible","push","join","href","concat","deleteCnt","pwtType","share","String","title","length","substr","authorID","lib_default","date","pwtCreated","live","transformNumber","helpFull","favorite","favChange","FavoriteActive","comment","Aux","poet","arraySort","content","reverse","map","index","PoetContent_PoetContent","key","media","bind","showCntOpt","Model","_this","classCallCheck","this","_super","call","onScroll","window","innerHeight","Math","ceil","pageYOffset","document","body","offsetHeight","onFetchCnt","userID","state","filterTag","filterDet","fetchLimit","skipCnt","cntTotal","showUserOptHandler","cntOpt","setState","prevState","updateObject","newCntOpt","changeFavoriteHandler","cntGrp","onChangeFav","showShareHandler","shareID","onChangeShareID","history","changeCntHandler","det","modelType","checkTitle","onChangeCnt","onFetchCntReset","limit","mediaItms","animateItm","removeAnim","removePrevMedia","playerIcnId","animationComplete","scrollEnable","onChangeTag","cnts","addEventListener","match","params","startSearch","location","search","cnt","removeEventListener","Loader","cntErr","NoAcc","isAuth","icn","filter","Poet","Component","withRouter","connect","auth","dispatch","onFetchShareActive","actions","onFetchShareCntActive","onFetchNotifyActive","onFetchPtActive","onFetchQueActive","onFetchCntActive","onFetchReqActive","fetchType","cntType","path","confirm"],"mappings":"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","file":"static/js/20.b040279e.chunk.js","sourcesContent":["import React from 'react';\r\nimport TimeAgo from 'react-timeago';\r\nimport buildFormatter from 'react-timeago/lib/formatters/buildFormatter'\r\nimport Avatar from 'react-avatar';\r\n\r\nimport './PoetContent.css'; \r\nimport '../../../UI/ShareIcn/ShareIcn.css'; \r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport Aux from '../../../../hoc/Auxs/Aux';\r\nimport { transformNumber, engStrings } from '../../../../shared/utility';\r\nimport FavoriteActive from '../../../UI/FavoriteActive/FavoriteActive';\r\n\r\nconst poetContent = props => {\r\n    const formatter = buildFormatter(engStrings);\r\n    let userOpt = null;\r\n    let userOptDetClass = ['reuse-pwt__content--det__user--det'];\r\n    let userOptClass = ['reuse-pwt__content--det__user--det__opt'];\r\n    let favAdd = null;\r\n    let isLiked = null;\r\n    let userOptMode = (\r\n        <li \r\n            className=\"reuse-pwt__content--det__user--det__opt--status\"\r\n            onClick={props.changeCnt}>\r\n            <FontAwesomeIcon \r\n                icon={['far', 'eye-slash']} \r\n                className=\"icon icon__reuse-pwt--options__dft\" />\r\n            Draft\r\n        </li>\r\n    );\r\n    let fav = <FontAwesomeIcon \r\n        icon={['far', 'heart']} \r\n        className=\"icon icon__reuse-pwt--footer__heart\" />\r\n\r\n    let userImage = <img src={props.pwt.userImage} alt=\"\" />\r\n\r\n    if (props.pwt.mode === 'draft') {\r\n      userOptMode = (\r\n        <li \r\n            className=\"reuse-pwt__content--det__user--det__opt--status\"\r\n            onClick={props.changeCntPublish}>\r\n            <FontAwesomeIcon \r\n                icon={['far', 'eye']} \r\n                className=\"icon icon__reuse-pwt--options__dft\" />\r\n            Publish\r\n        </li>\r\n      )\r\n    }\r\n    \r\n    if (props.pwt.username && !props.pwt.userImage) {\r\n        userImage = <Avatar  name={props.pwt.username} size='50' round />;\r\n    }\r\n\r\n    for (let changedFav of props.changedFav) {\r\n        if (props.pwt._id === changedFav.id) {\r\n            favAdd = changedFav.favAdd;\r\n            isLiked= changedFav.liked;\r\n        }\r\n    }\r\n\r\n    if (props.showCnt && props.showCnt.visible && props.showCnt.id === props.pwt._id)  {\r\n        userOptDetClass.push('reuse-pwt__content--det__user--det__clk');\r\n        userOptClass.push('reuse-pwt__content--det__user--det__opt--visible');\r\n    }\r\n\r\n    if (props.pwt.userOpt) {\r\n        userOpt = (\r\n            <div className={userOptDetClass.join(' ')} onClick={props.userOpt}>\r\n                <div className=\"reuse-pwt__content--det__user--det__mid\"></div>\r\n                <ul className={userOptClass.join(' ')}>\r\n                    <li>\r\n                        <a href={`/edit/poet/${props.pwt._id}`}>\r\n                            <FontAwesomeIcon \r\n                                icon={['far', 'edit']} \r\n                                className=\"icon icon__reuse-pwt--options\" />\r\n                            Edit \r\n                        </a>\r\n                    </li>\r\n                    { userOptMode }\r\n                    <li\r\n                        onClick={props.deleteCnt}>\r\n                        <FontAwesomeIcon \r\n                            icon={['far', 'trash-alt']} \r\n                            className=\"icon icon__reuse-pwt--options\" />\r\n                        Delete \r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    if (props.pwt.liked && isLiked === null) {\r\n        fav = <FontAwesomeIcon \r\n            icon={['fas', 'heart']} \r\n            className=\"icon icon__reuse-pwt--footer__heart\" />\r\n    }\r\n\r\n    if (isLiked) {\r\n        fav = <FontAwesomeIcon \r\n            icon={['fas', 'heart']} \r\n            className=\"icon icon__reuse-pwt--footer__heart\" />\r\n    }\r\n\r\n    let pwtType = (\r\n        <div className=\"reuse-pwt\">\r\n        <div className=\"reuse-share\">\r\n            <div className=\"reuse-share__icn\" onClick={props.share}>\r\n                <FontAwesomeIcon \r\n                    icon={['fas', 'location-arrow']} \r\n                    className=\"icon icon__reuse-share--icn\" />\r\n            </div>\r\n        </div>\r\n        <div className=\"reuse-pwt__content\">\r\n            {/* <div className=\"reuse-pwt__content--tag\">\r\n                <span>\r\n                    <FontAwesomeIcon \r\n                        icon={ props.pwt.category.length > 1 ? ['fas', 'tags'] : ['fas', 'tag']} \r\n                        className=\"icon icon__reuse-pwt--header__tag\" />\r\n                    { props.pwt.category[0] }\r\n                </span>\r\n            </div> */}\r\n            <div className=\"reuse-pwt__content--title\">\r\n                <div className=\"reuse-pwt__content--title__wrapper\">\r\n                    <a href={\"/view/poet/\" + props.pwt._id}> \r\n                      {String(props.pwt.title).length > 149 ? String(props.pwt.title).substr(0, 150) + '...' : props.pwt.title} \r\n                     </a>\r\n                </div>\r\n            </div>\r\n            <div className=\"reuse-pwt__content--det\">\r\n                <div className=\"reuse-pwt__content--det__user\">\r\n                    <div className=\"reuse-pwt__content--det__user--img\">\r\n                        { userImage }\r\n                    </div> \r\n                    <a href={\"/user/profile/\"+props.pwt.authorID}> {String(props.pwt.username).substr(0, 8)} </a>\r\n                        <div className=\"reuse-pwt__content--det__user--time\">\r\n                        @ { <TimeAgo date={props.pwt.pwtCreated} live={false} formatter={formatter} />}\r\n                    </div>\r\n                    {userOpt}\r\n                </div>\r\n            </div> \r\n        </div>\r\n        <ul className=\"reuse-pwt__footer\">\r\n            <li>\r\n                <a href={\"/view/poet/\" + props.pwt._id}>\r\n                    <FontAwesomeIcon \r\n                        icon={['far', 'smile']} \r\n                        className=\"icon icon__reuse-pwt--footer__smile\" />\r\n                    { transformNumber(props.pwt.helpFull) } \r\n                </a>\r\n            </li>\r\n            <li>\r\n                <span onClick={props.fav}>{fav}</span>\r\n                {transformNumber(favAdd !== null ? favAdd : props.pwt.favorite)} \r\n                {props.favChange && props.favChange.id === props.pwt._id ? <FavoriteActive \r\n                    liked={props.favChange.isLiked}/> : null}\r\n            </li>\r\n            <li>\r\n                <a href={\"/view/poet/\" + props.pwt._id}>\r\n                    <FontAwesomeIcon \r\n                        icon={['far', 'comment-dots']} \r\n                        className=\"icon icon__reuse-pwt--footer__comments\" />\r\n                    { transformNumber(props.pwt.comment) }\r\n                </a> \r\n            </li>\r\n        </ul>\r\n    </div>\r\n    );\r\n\r\n    return (\r\n        <Aux>\r\n            {pwtType}\r\n        </Aux>\r\n    );\r\n};\r\n\r\nexport default poetContent;","import React from 'react';\r\nimport arraySort from 'array-sort';\r\n\r\nimport PoetContent from './PoetContent/PoetContent';\r\n\r\nconst poet = props => {\r\n    let content = arraySort(props.content, 'pwtCreated', {reverse: true})\r\n    const allPwt = content.map((pwt, index) => (\r\n        <PoetContent \r\n             key={index} \r\n             pwt={pwt} \r\n             media={props.media}\r\n             userOpt={props.userOpt.bind(this, pwt._id)} \r\n             showCnt={props.showCntOpt}\r\n             fav={props.fav.bind(this, pwt._id, pwt.liked, pwt.favorite, 'poet')}\r\n             changedFav={props.changedFav}\r\n             favChange={props.favChange}\r\n             share={props.share.bind(this, pwt._id)}\r\n             deleteCnt={props.changeCnt.bind(this, pwt._id, pwt.title, 'delete', 'poet')}\r\n             changeCnt={props.changeCnt.bind(this, pwt._id, pwt.title, 'draft', 'poet')}/>\r\n    ));\r\n\r\n    return allPwt;\r\n}\r\n\r\nexport default poet;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport Poet from '../../../../components/Main/Poet/Poet';\r\nimport Loader from '../../../../components/UI/Loader/Loader';\r\nimport NoAcc from '../../../../components/Main/NoAcc/NoAcc';\r\nimport { updateObject } from '../../../../shared/utility';\r\nimport * as actions from '../../../../store/actions/index';\r\n\r\nclass Model extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.props.onFetchCntReset();\r\n        let limit = 0;\r\n        if (window.innerHeight >= 1200) {\r\n            limit = 18\r\n        } else if(window.innerHeight >= 900) {\r\n            limit = 12;\r\n        } else if(window.innerHeight >= 500) {\r\n            limit = 9\r\n        } else {\r\n            limit = 6;\r\n        }\r\n        this.state = {\r\n            cntOpt: null,\r\n            fetchLimit: limit,\r\n            filterTag: 'poet',\r\n            mediaItms: [],\r\n            animateItm: null,\r\n            removeAnim: false,\r\n            removePrevMedia: null,\r\n            playerIcnId: null,\r\n            animationComplete: true,\r\n            scrollEnable: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.onFetchCnt(this.props.userID, this.state.filterTag, this.state.fetchLimit, 0, 0);\r\n        this.props.onChangeTag('/poet');\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (this.props.cnts && this.props.cnts.length > 0 && !this.state.scrollEnable) {\r\n            window.addEventListener('scroll', this.onScroll, false);\r\n            this.setState({scrollEnable: true})\r\n        }\r\n        if (this.props.match.params.id && this.state.filterTag !== this.props.match.params.id && this.props.match.params.id !== 'share' && this.props.match.params.id !== 'filter' && this.props.match.params.id !== 'startfilter') {\r\n            this.props.onFetchCntReset();;\r\n            this.props.onFetchCnt(this.props.userID, `poet-${this.props.match.params.id}`, this.state.fetchLimit, 0, 0);\r\n            this.setState({\r\n                filterTag: this.props.match.params.id\r\n            });\r\n        }\r\n        if (this.props.startSearch && this.props.filterDet && this.props.location.search && this.state.filterTag !== `filter==${this.props.filterDet}`) {\r\n            this.props.onFetchCntReset();\r\n            let cnt = `filter==${this.props.filterDet}`;\r\n            this.props.onFetchCnt(this.props.userID, 'poet-'+cnt, this.state.fetchLimit, 0, 0);\r\n            this.setState({\r\n                filterTag: cnt\r\n            });\r\n        }\r\n        if (!this.props.startSearch && !this.props.match.params.id && this.state.filterTag !== 'poet') {\r\n            this.props.onFetchCntReset();\r\n            this.props.onFetchCnt(this.props.userID, 'poet', this.state.fetchLimit, 0, 0);\r\n            this.setState({\r\n                filterTag: 'poet'\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    componentWillUnmount() {\r\n        this.props.onFetchCntReset();\r\n        window.removeEventListener('scroll', this.onScroll, false);\r\n    }\r\n\r\n    onScroll = () => {\r\n        if ((window.innerHeight + Math.ceil(window.pageYOffset + 1)) >= document.body.offsetHeight) {\r\n            this.props.onFetchCnt(\r\n                    this.props.userID,  \r\n                    this.state.filterTag !== 'poet' ? \r\n                    this.state.filterTag === 'filter' ?  'filter=='+this.props.filterDet : `poet-${this.state.filterTag}` : 'poet',\r\n                    this.state.fetchLimit, this.props.skipCnt + this.state.fetchLimit, this.props.cntTotal);\r\n        }\r\n    } \r\n\r\n    showUserOptHandler = (id) => {\r\n        if (this.state.cntOpt && this.state.cntOpt.id === id) {\r\n            this.setState((prevState, props) => {\r\n                return {\r\n                    cntOpt: updateObject(prevState.cntOpt, {visible: !prevState.cntOpt.visible})\r\n                }\r\n            });\r\n            return\r\n        }\r\n\r\n        const newCntOpt = {visible: true, id}\r\n        this.setState({cntOpt: newCntOpt})\r\n    }\r\n\r\n    changeFavoriteHandler = (id, isLiked, favAdd, cntGrp) => {\r\n        this.props.onChangeFav(id, isLiked, favAdd, this.props.changedFav, this.props.userID, cntGrp);\r\n    }\r\n\r\n    showShareHandler = (shareID) => {\r\n        this.props.onChangeShareID(shareID, 'poet');\r\n        this.props.history.push('/index/poet/share')\r\n    };\r\n\r\n    changeCntHandler = (id, title, det, modelType) => {\r\n        let checkTitle = String(title).length > 50 ? String(title).substr(0, 50) + '...' : title\r\n        this.props.onChangeCnt(id, checkTitle, det, false, modelType);\r\n    }\r\n\r\n    render() {\r\n        let cnt = <Loader />;\r\n        if (this.props.cntErr) {\r\n            cnt = null\r\n        }\r\n\r\n        if (this.props.cnts && this.props.cnts.length === 0) {\r\n            cnt = <NoAcc \r\n                    isAuth={this.props.userID !== null}\r\n                    det='No content found!'\r\n                    icn='clone'\r\n                    filter />\r\n        }\r\n\r\n        if (this.props.cnts && this.props.cnts.length === 0) {\r\n            cnt = <NoAcc \r\n                    isAuth={this.props.userID !== null}\r\n                    det='No content found!'\r\n                    icn='clone'\r\n                    filter />\r\n        }\r\n\r\n        if (this.props.cnts && this.props.cnts.length > 0) {\r\n            cnt = <Poet\r\n                content={this.props.cnts} \r\n                media={this.props.media}\r\n                userOpt={this.showUserOptHandler}\r\n                showCntOpt={this.state.cntOpt}\r\n                fav={this.changeFavoriteHandler}\r\n                changedFav={this.props.changedFav}\r\n                favChange={this.props.favChange}\r\n                share={this.showShareHandler}\r\n                changeCnt={this.changeCntHandler}/>\r\n        }\r\n\r\n        return cnt\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        userID: state.auth.userID,\r\n        cnts: state.cnt.cnts,\r\n        cntErr: state.cnt.cntErr,\r\n        skipCnt: state.cnt.skipCnt,\r\n        cntTotal: state.cnt.cntTotal,\r\n        changedFav: state.cnt.changedFav,\r\n        favChange: state.cnt.favChange,\r\n        filterDet: state.cnt.filterDet,\r\n        startSearch: state.filter.startSearch\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        onFetchShareActive: () => dispatch(actions.fetchShareactiveInit()),\r\n        onFetchShareCntActive: () => dispatch(actions.fetchShareCntactiveInit()),\r\n        onFetchNotifyActive: () => dispatch(actions.fetchNotifyactiveInit()),\r\n        onFetchPtActive: () => dispatch(actions.fetchPtActiveInit()),\r\n        onFetchQueActive: () => dispatch(actions.fetchQueActiveInit()),\r\n        onFetchCntActive: () => dispatch(actions.fetchCntActiveInit()),\r\n        onFetchReqActive: () => dispatch(actions.fetchReqActiveInit()),\r\n        onFetchCnt: (userID, fetchType, limit, skipCnt, cntTotal) => dispatch(actions.fetchCntInit(userID, fetchType, limit, skipCnt, cntTotal)),\r\n        onFetchCntReset: () => dispatch(actions.fetchCntReset()),\r\n        onChangeFav: (id, liked, favAdd, changedFav, userID, cntGrp) => dispatch(actions.changeFavInit(id, liked, favAdd, changedFav, userID, cntGrp)),\r\n        onChangeShareID: (shareID, cntType) => dispatch(actions.shareID(shareID, cntType)),\r\n        onChangeTag: (path) => dispatch(actions.changeTagsPath(path)),\r\n        onChangeCnt: (id, title, det, confirm, modelType) => dispatch(actions.changeCntInit(id, title, det, confirm, modelType))\r\n    };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Model));"],"sourceRoot":""}