(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{505:function(e,s,t){},506:function(e,s,t){},507:function(e,s,t){},508:function(e,s,t){},509:function(e,s,t){},510:function(e,s,t){},511:function(e,s,t){},512:function(e,s,t){},527:function(e,s,t){"use strict";t.r(s);var r=t(0),a=t.n(r),l=t(66),c=t(19),n=(t(505),t(506),t(4));var i=Object(c.b)(e=>({users:e.share.users}),e=>({onFilterUser:(s,t)=>e(n.Hb(s,t))}))(class extends r.Component{constructor(...e){super(...e),this.state={inputValue:""},this.filterContentHandler=(e=>{this.setState({inputValue:e.target.value}),this.props.onFilterUser(this.props.users,e.target.value)})}render(){return a.a.createElement("input",{className:"reuse-share__search--cnt",placeholder:"search user....",autoFocus:!0,onChange:this.filterContentHandler,value:this.state.inputValue})}});var o=Object(c.b)(e=>({userSelect:e.share.userSelect}),e=>({onFilterUserSelect:(s,t)=>e(n.Jb(s,t))}))(class extends r.Component{constructor(...e){super(...e),this.state={inputValue:""},this.filterContentHandler=(e=>{this.props.onFilterUserSelect(e.target.value,this.props.userSelect),this.setState({inputValue:e.target.value})})}componentDidMount(){this.props.onFilterUserSelect("",this.props.userSelect)}render(){return a.a.createElement("input",{className:"reuse-share__search--cnt",placeholder:"search user selected....",autoFocus:!0,onChange:this.filterContentHandler,value:this.state.inputValue})}});var h=Object(c.b)(e=>({viewAllUsers:e.share.viewAllUsers}),null)(class extends r.Component{render(){let e=a.a.createElement(i,null);return this.props.viewAllUsers||(e=a.a.createElement(o,null)),a.a.createElement("div",{className:"reuse-share__search"},e)}}),u=t(67),p=(t(507),t(73)),d=t(9),m=t(53);t(508);var _=e=>{let s=["share-user__det"],t=["share-user__det--select"],r=a.a.createElement("img",{src:e.userDet.image,alt:""}),l=a.a.createElement("div",{className:"share-user__det--img__status share-user__det--img__status--on"});if(e.userDet.status||(l=a.a.createElement("div",{className:"share-user__det--img__status share-user__det--img__status--off"})),e.userDet.username&&!e.userDet.image&&(r=a.a.createElement(m.a,{name:e.userDet.username,size:"60",round:!0})),e.selectedUser.length>0){var c,n=Object(p.a)(e.selectedUser);try{for(n.s();!(c=n.n()).done;)c.value.id===e.id&&(s.push("share-user__det--clk"),t.push("share-user__det--select__clk > svg"))}catch(i){n.e(i)}finally{n.f()}}return a.a.createElement("div",{className:"share-user",onClick:e.selected},a.a.createElement("div",{className:s.join(" ")},a.a.createElement("div",{className:"share-user__det--img"},r,l),a.a.createElement("ul",{className:"share-user__det--user"},a.a.createElement("li",{className:"share-user__det--user__info"},a.a.createElement("a",{href:"/user/profile/"+e.userDet.id},e.userDet.username)),a.a.createElement("li",null,a.a.createElement("div",null,e.userDet.student)," Student")),a.a.createElement("div",{className:t.join(" ")},a.a.createElement(d.a,{icon:["fas","check-circle"]}))))};var S=e=>{return e.content.map((s,t)=>a.a.createElement(_,{key:t,userDet:s,selected:e.selected.bind(void 0,s),selectedUser:e.selectedUser,id:s.id}))},w=t(29);var v=Object(c.b)(e=>({users:e.share.users,userSelect:e.share.userSelect,filterUser:e.share.filterUser}),e=>({onFetchUsers:()=>e(n.yb()),onSelectUser:s=>e(n.nc(s))}))(class extends r.Component{constructor(...e){super(...e),this.state={users:this.props.userSelect?this.props.userSelect:[]},this.showSelectedUserHandler=(e=>{let s=this.state.users.filter(s=>s.id===e.id);if(s.length>0){const e=Object(u.a)({},s[0]);let t=[...this.state.users].filter(s=>s.id!==e.id);return this.setState({users:t}),void this.props.onSelectUser(t)}let t=this.state.users.concat(e);this.props.onSelectUser(t),this.setState(e=>({users:t}))})}componentDidMount(){this.props.onFetchUsers()}render(){let e=a.a.createElement(w.a,null);return this.props.users&&(e=a.a.createElement("div",{className:"reuse-share__all-users"},a.a.createElement(S,{content:this.props.filterUser?this.props.filterUser:this.props.users,selected:this.showSelectedUserHandler,selectedUser:this.state.users}))),e}});t(509);var E=Object(c.b)(e=>({userSelect:e.share.userSelect,filterUserSelect:e.share.filterUserSelect}),e=>({onRemoveUser:s=>e(n.Yb(s)),onFilterUserSelect:(s,t)=>e(n.Jb(s,t))}))(class extends r.Component{constructor(...e){super(...e),this.state={users:this.props.userSelect},this.removeSelectedUserHandler=(e=>{const s=this.state.users.filter(s=>s.id===e.id);if(s.length>0){const e=Object(u.a)({},s[0]),t=[...this.state.users].filter(s=>s.id!==e.id),r=this.props.userSelect.filter(s=>s.id!==e.id);return this.props.onRemoveUser(r),this.props.onFilterUserSelect(null,t),void this.setState({users:t})}})}componentDidUpdate(){this.props.filterUserSelect&&JSON.stringify(this.state.users)!==JSON.stringify(this.props.filterUserSelect)&&this.setState({users:this.props.filterUserSelect})}render(){let e=a.a.createElement(w.a,null);return this.state.users&&(e=a.a.createElement(S,{content:this.state.users,selected:this.removeSelectedUserHandler,selectedUser:this.state.users})),a.a.createElement("div",{className:"reuse-share__user-select"},a.a.createElement("h4",{className:"reuse-share__user-select--title"},a.a.createElement(d.a,{icon:["fas","users"],className:"icon icon__reuse-share--user"}),"User Selected"),e)}});var U=Object(c.b)(e=>({viewAllUsers:e.share.viewAllUsers}),null)(class extends r.Component{render(){let e=a.a.createElement(v,null);return this.props.viewAllUsers||(e=a.a.createElement(E,null)),e}}),f=(t(510),t(43));var b=e=>{let s=a.a.createElement(f.a,null,a.a.createElement(d.a,{icon:["fas","users"],className:"icon__reuse-share--view"}),"Users");return e.viewAllUsers&&(s=a.a.createElement(f.a,null,a.a.createElement(d.a,{icon:["far","eye"],className:"icon__reuse-share--view"}),"View")),a.a.createElement("div",{className:"reuse-share__user-counter reuse-share__user-counter--more-opt"},a.a.createElement("div",{className:"reuse-share__user-counter--share",onClick:e.shareUser},a.a.createElement(d.a,{icon:["fas","location-arrow"],className:"icon icon__reuse-share--share"}),"Share",a.a.createElement("div",{className:"reuse-share__user-counter--share__select"},e.userSelect.length)),a.a.createElement("div",{className:"reuse-share__user-counter--view",onClick:e.viewUsers},s))};t(511);var N=e=>{let s=["reuse-share__social-icn"];return e.switchOpt&&s.push("reuse-share__social-icn--more-opt"),a.a.createElement("ul",{className:s.join(" ")},a.a.createElement("li",{onClick:e.shareFacebook},a.a.createElement(d.a,{icon:["fab","facebook-square"],className:"icon icon__reuse-share--facebook"})),a.a.createElement("li",{onClick:e.shareTwitter},a.a.createElement(d.a,{icon:["fab","twitter"],className:"icon icon__reuse-share--googleplus"})))};t(512);var g=e=>a.a.createElement("div",{className:"reuse-share__switch-opt",onClick:e.switchOpt},a.a.createElement("div",{className:"reuse-share__switch-opt--mid"}));var k=Object(c.b)(e=>({userSelect:e.share.userSelect,viewAllUsers:e.share.viewAllUsers,shareID:e.share.shareID,cntType:e.share.cntType}),e=>({onViewUsers:()=>e(n.oc()),onShareUser:(s,t,r)=>e(n.hc(s,t,r))}))(class extends r.Component{constructor(...e){super(...e),this.state={showSocialMed:!0,showShareUser:!1,userSelect:null},this.switchShareOptHandler=(()=>{this.setState((e,s)=>({showSocialMed:!e.showSocialMed,showShareUser:!e.showShareUser}))}),this.viewUsersHandler=(()=>{this.props.onViewUsers()}),this.shareUserHandler=(()=>{this.props.onShareUser(this.props.userSelect,this.props.shareID,this.props.cntType)}),this.facebookShareHandler=(()=>{var e=window.open("https://www.facebook.com/sharer/sharer.php?u=".concat(document.location.origin,"/view/").concat(this.props.cntType,"/").concat(this.props.shareID),"facebook-popup","height=350,width=600");return e.focus&&e.focus(),!1}),this.twitterShareHandler=(()=>{var e=window.open("https://twitter.com/share?url=".concat(document.location.origin,"/view/").concat(this.props.cntType,"/").concat(this.props.shareID),"twitter-popup","height=350,width=600");return e.focus&&e.focus(),!1})}componentDidUpdate(e,s){this.state.userSelect!==this.props.userSelect&&this.setState((e,s)=>({showSocialMed:!(this.props.userSelect.length>0),showShareUser:this.props.userSelect.length>0,userSelect:this.props.userSelect}))}render(){let e=null;return this.state.showSocialMed&&(e=a.a.createElement(N,{shareFacebook:this.facebookShareHandler,shareTwitter:this.twitterShareHandler})),this.state.userSelect&&this.state.userSelect.length>0&&this.state.showSocialMed&&(e=a.a.createElement(f.a,null,a.a.createElement(N,{switchOpt:!0,shareFacebook:this.facebookShareHandler,shareTwitter:this.twitterShareHandler}),a.a.createElement(g,{switchOpt:this.switchShareOptHandler}))),this.state.showShareUser&&(e=a.a.createElement(f.a,null,a.a.createElement(b,{userSelect:this.state.userSelect,viewUsers:this.viewUsersHandler,viewAllUsers:this.props.viewAllUsers,shareUser:this.shareUserHandler}),a.a.createElement(g,{switchOpt:this.switchShareOptHandler}))),e}}),H=t(127);s.default=Object(l.f)(Object(c.b)(e=>({start:e.share.start,shareErr:e.share.shareErr,shareID:e.share.shareID,status:e.auth.status}),e=>({onDefaultShareProps:()=>e(n.gc())}))(class extends r.Component{constructor(...e){super(...e),this.closeShareHandler=(()=>{this.props.history.goBack()})}componentWillUnmount(){this.props.onDefaultShareProps()}render(){let e=a.a.createElement("div",{className:"reuse-share__wrapper"},a.a.createElement(h,null),a.a.createElement(U,null),a.a.createElement(k,null));this.props.start&&(e=a.a.createElement("div",{className:"reuse-share__wrapper"},a.a.createElement(w.a,{cnt:"Sharing ....."}))),this.props.shareErr&&(e=a.a.createElement(H.a,{err:this.props.shareErr}));let s=a.a.createElement("div",{className:"reuse-share"},a.a.createElement("div",{className:"reuse-share__main-wrapper"},a.a.createElement("div",{className:"reuse-share__backdrop",onClick:this.closeShareHandler}),e));return this.props.shareID||(this.closeShareHandler(),s=null),s}}))}}]);
//# sourceMappingURL=4.4868fab5.chunk.js.map