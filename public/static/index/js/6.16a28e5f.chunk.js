(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{843:function(e,t,r){e.exports=function(){"use strict";function e(e,t){if(e)for(var r in e)({}).hasOwnProperty.call(e,r)&&t(r,e[r])}var t={unstyled:"p","header-one":"h1","header-two":"h2","header-three":"h3","header-four":"h4","header-five":"h5","header-six":"h6","unordered-list-item":"ul","ordered-list-item":"ol",blockquote:"blockquote",code:"pre"};function r(e){return e&&t[e]}function a(t){var r="";return e(t,function(e,t){t&&(r+="".concat(e,":").concat(t,";"))}),r}function s(e){return!(!(e.entityRanges.length>0)||(t=e.text,void 0!==t&&null!==t&&0!==t.length&&0!==t.trim().length&&"atomic"!==e.type));var t}function n(e,t){var r={};return e.COLOR[t]&&(r.COLOR=e.COLOR[t]),e.BGCOLOR[t]&&(r.BGCOLOR=e.BGCOLOR[t]),e.FONTSIZE[t]&&(r.FONTSIZE=e.FONTSIZE[t]),e.FONTFAMILY[t]&&(r.FONTFAMILY=e.FONTFAMILY[t]),e.UNDERLINE[t]&&(r.UNDERLINE=!0),e.ITALIC[t]&&(r.ITALIC=!0),e.BOLD[t]&&(r.BOLD=!0),e.STRIKETHROUGH[t]&&(r.STRIKETHROUGH=!0),e.CODE[t]&&(r.CODE=!0),e.SUBSCRIPT[t]&&(r.SUBSCRIPT=!0),e.SUPERSCRIPT[t]&&(r.SUPERSCRIPT=!0),r}function c(e,t,r){var a=!0;return r>0&&r<e.length?t.forEach(function(t){a=a&&e[t][r]===e[t][r-1]}):a=!1,a}function i(e,t,r,a){var s=e[t];if("function"===typeof a){var n=a(s,r);if(n)return n}if("MENTION"===s.type)return'<a href="'.concat(s.data.url,'" class="wysiwyg-mention" data-mention data-value="').concat(s.data.value,'">').concat(r,"</a>");if("LINK"===s.type){var c=s.data.targetOption||"_self";return'<a href="'.concat(s.data.url,'" target="').concat(c,'">').concat(r,"</a>")}if("IMAGE"===s.type){var i=s.data.alignment;return i&&i.length?'<div style="text-align:'.concat(i,';"><img src="').concat(s.data.src,'" alt="').concat(s.data.alt,'" style="height: ').concat(s.data.height,";width: ").concat(s.data.width,'"/></div>'):'<img src="'.concat(s.data.src,'" alt="').concat(s.data.alt,'" style="height: ').concat(s.data.height,";width: ").concat(s.data.width,'"/>')}return"EMBEDDED_LINK"===s.type?'<iframe width="'.concat(s.data.width,'" height="').concat(s.data.height,'" src="').concat(s.data.src,'" frameBorder="0"></iframe>'):r}function o(e,t,r,a){var s=[],i=Array.from(e.text);if(i.length>0)for(var o,l=function(e){var t=e.text,r=e.inlineStyleRanges,a={BOLD:new Array(t.length),ITALIC:new Array(t.length),UNDERLINE:new Array(t.length),STRIKETHROUGH:new Array(t.length),CODE:new Array(t.length),SUPERSCRIPT:new Array(t.length),SUBSCRIPT:new Array(t.length),COLOR:new Array(t.length),BGCOLOR:new Array(t.length),FONTSIZE:new Array(t.length),FONTFAMILY:new Array(t.length),length:t.length};return r&&r.length>0&&r.forEach(function(e){for(var t=e.offset,r=t+e.length,s=t;s<r;s+=1)0===e.style.indexOf("color-")?a.COLOR[s]=e.style.substring(6):0===e.style.indexOf("bgcolor-")?a.BGCOLOR[s]=e.style.substring(8):0===e.style.indexOf("fontsize-")?a.FONTSIZE[s]=e.style.substring(9):0===e.style.indexOf("fontfamily-")?a.FONTFAMILY[s]=e.style.substring(11):a[e.style]&&(a[e.style][s]=!0)}),a}(e),u=r;u<a;u+=1)u!==r&&c(l,t,u)?(o.text.push(i[u]),o.end=u+1):(o={styles:n(l,u),text:[i[u]],start:u,end:u+1},s.push(o));return s}function l(t,r){var a=o(t,["BOLD","ITALIC","UNDERLINE","STRIKETHROUGH","CODE","SUPERSCRIPT","SUBSCRIPT"],r.start,r.end),s="";return a.forEach(function(t){s+=function(t){var r=t.styles,a=function(e){if(e&&e.length>0){var t=e.map(function(e){switch(e){case"\n":return"<br>";case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";default:return e}});return t.join("")}return""}(t.text);return e(r,function(e,t){a=function(e,t){return"BOLD"===e?"<strong>".concat(t,"</strong>"):"ITALIC"===e?"<em>".concat(t,"</em>"):"UNDERLINE"===e?"<ins>".concat(t,"</ins>"):"STRIKETHROUGH"===e?"<del>".concat(t,"</del>"):"CODE"===e?"<code>".concat(t,"</code>"):"SUPERSCRIPT"===e?"<sup>".concat(t,"</sup>"):"SUBSCRIPT"===e?"<sub>".concat(t,"</sub>"):t}(e,a)}),a}(t)}),s=function(e,t){if(e&&(e.COLOR||e.BGCOLOR||e.FONTSIZE||e.FONTFAMILY)){var r='style="';return e.COLOR&&(r+="color: ".concat(e.COLOR,";")),e.BGCOLOR&&(r+="background-color: ".concat(e.BGCOLOR,";")),e.FONTSIZE&&(r+="font-size: ".concat(e.FONTSIZE).concat(/^\d+$/.test(e.FONTSIZE)?"px":"",";")),e.FONTFAMILY&&(r+="font-family: ".concat(e.FONTFAMILY,";")),"<span ".concat(r+='"',">").concat(t,"</span>")}return t}(r.styles,s)}function u(e,t,r,a){var s=[],n=function(e,t){var r=[],a=0,s=e.entityRanges.map(function(e){var t=e.offset,r=e.length,a=e.key;return{offset:t,length:r,key:a,type:"ENTITY"}});return(s=(s=s.concat(function(e,t){var r=[];if(t)for(var a=0,s=0,n=e,c=t.trigger||"#",i=t.separator||" ";n.length>0&&s>=0;)if(n[0]===c?(s=0,a=0,n=n.substr(c.length)):(s=n.indexOf(i+c))>=0&&(n=n.substr(s+(i+c).length),a+=s+i.length),s>=0){var o=n.indexOf(i)>=0?n.indexOf(i):n.length,l=n.substr(0,o);l&&l.length>0&&r.push({offset:a,length:l.length+c.length,type:"HASHTAG"}),a+=c.length}return r}(e.text,t))).sort(function(e,t){return e.offset-t.offset})).forEach(function(e){e.offset>a&&r.push({start:a,end:e.offset}),r.push({start:e.offset,end:e.offset+e.length,entityKey:e.key,type:e.type}),a=e.offset+e.length}),a<e.text.length&&r.push({start:a,end:e.text.length}),r}(e,r);return n.forEach(function(r,c){var u=function(e,t,r,a){var s=[];o(e,["COLOR","BGCOLOR","FONTSIZE","FONTFAMILY"],r.start,r.end).forEach(function(t){s.push(l(e,t))});var n=s.join("");return"ENTITY"===r.type?void 0!==r.entityKey&&null!==r.entityKey&&(n=i(t,r.entityKey,n,a)):"HASHTAG"===r.type&&(n='<a href="'.concat(n,'" class="wysiwyg-hashtag">').concat(n,"</a>")),n}(e,t,r,a);0===c&&(u=function(e){if(e){for(var t=e,r=0;r<t.length&&" "===e[r];r+=1)t=t.replace(" ","&nbsp;");return t}return e}(u)),c===n.length-1&&(u=function(e){if(e){for(var t=e,r=t.length-1;r>=0&&" "===t[r];r-=1)t="".concat(t.substring(0,r),"&nbsp;").concat(t.substring(r+1));return t}return e}(u)),s.push(u)}),s.join("")}function p(e,t,s,n,c){var i,o=[],l=[];return e.forEach(function(e){var h=!1;if(i?i.type!==e.type?(o.push("</".concat(r(i.type),">\n")),o.push("<".concat(r(e.type),">\n"))):i.depth===e.depth?l&&l.length>0&&(o.push(p(l,t,s,n,c)),l=[]):(h=!0,l.push(e)):o.push("<".concat(r(e.type),">\n")),!h){o.push("<li");var f=a(e.data);f&&o.push(' style="'.concat(f,'"')),n&&o.push(' dir = "auto"'),o.push(">"),o.push(u(e,t,s,c)),o.push("</li>\n"),i=e}}),l&&l.length>0&&o.push(p(l,t,s,n,c)),o.push("</".concat(r(i.type),">\n")),o.join("")}return function(e,t,n,c){var o=[];if(e){var l=e.blocks,h=e.entityMap;if(l&&l.length>0){var f=[];if(l.forEach(function(e){if("unordered-list-item"===(m=e.type)||"ordered-list-item"===m)f.push(e);else{if(f.length>0){var l=p(f,h,t,c);o.push(l),f=[]}var d=function(e,t,n,c,o){var l=[];if(s(e))l.push(i(t,e.entityRanges[0].key,void 0,o));else{var p=r(e.type);if(p){l.push("<".concat(p));var h=a(e.data);h&&l.push(' style="'.concat(h,'"')),c&&l.push(' dir = "auto"'),l.push(">"),l.push(u(e,t,n,o)),l.push("</".concat(p,">"))}}return l.push("\n"),l.join("")}(e,h,t,n,c);o.push(d)}var m}),f.length>0){var d=p(f,h,t,n,c);o.push(d),f=[]}}}return o.join("")}}()},844:function(e,t,r){},845:function(e,t,r){},846:function(e,t,r){},847:function(e,t,r){},859:function(e,t,r){"use strict";r.r(t);var a=r(0),s=r.n(a),n=r(98),c=r(24),i=r(10),o=r(81),l=r(843),u=r.n(l),p=(r(844),r(845),r(4));var h=Object(c.b)(e=>({users:e.grp.users}),e=>({onFilterUser:(t,r)=>e(p.Eb(t,r))}))(class extends a.Component{constructor(...e){super(...e),this.state={inputValue:""},this.filterContentHandler=(e=>{this.setState({inputValue:e.target.value}),this.props.onFilterUser(this.props.users,e.target.value)})}render(){return s.a.createElement("input",{className:"reuse-share__tab--srch__input",placeholder:"search user....",autoFocus:!0,onChange:this.filterContentHandler,value:this.state.inputValue})}});var f=class extends a.Component{render(){return s.a.createElement(h,null)}},d=(r(846),r(117));r(847);var m=e=>{let t=["reuse-user__det--opt__acc"],r=["reuse-user__det--opt__rej"],a=!1,n=s.a.createElement("img",{src:e.userDet.image,alt:""}),c=s.a.createElement("li",null,s.a.createElement("div",null,e.userDet.studenttotal)," Student"),l=s.a.createElement("div",{className:"reuse-user__det--img__status reuse-user__det--img__status--on"});if(e.disable&&e.disable.length>0){var u,p=Object(d.a)(e.disable);try{for(p.s();!(u=p.n()).done;)u.value===e.userDet._id&&(t.push("reuse-user__det--opt__acc--disable"),r.push("reuse-user__det--opt__acc--disable"),a=!0)}catch(h){p.e(h)}finally{p.f()}}return e.userOpt&&(c="request"===e.curTab?s.a.createElement("div",{className:"reuse-user__det--opt"},s.a.createElement("button",{className:t.join(" "),onClick:e.accept,disabled:a},"Accept"),s.a.createElement("button",{className:r.join(" "),onClick:e.reject,disabled:a},"Reject")):s.a.createElement("div",{className:"reuse-user__det--opt"},s.a.createElement("button",{className:"reuse-user__det--opt__blk",onClick:e.remove},s.a.createElement(i.a,{icon:["fas","times"],className:"icon icon__reuse-user--det__opt"}),"Remove"))),e.userDet.status||(l=s.a.createElement("div",{className:"reuse-user__det--img__status reuse-user__det--img__status--off"})),e.userDet.username&&!e.userDet.image&&(n=s.a.createElement(o.a,{name:e.userDet.username,size:"60",round:!0})),s.a.createElement("div",{className:"reuse-user",onClick:e.selected},s.a.createElement("div",{className:["reuse-user__det"].join(" ")},s.a.createElement("div",{className:"reuse-user__det--img"},n,l),s.a.createElement("ul",{className:"reuse-user__det--user"},s.a.createElement("li",{className:"reuse-user__det--user__info"},s.a.createElement("a",{href:"/user/profile/"+e.userDet._id},e.userDet.username)),c)))};var g=e=>{return e.content.map((t,r)=>s.a.createElement(m,{key:r,userDet:t,id:t._id,userOpt:e.userOpt,curTab:e.curTab,disable:e.disable,accept:e.changeCnt.bind(void 0,t._id,"accept",t.username,!0),reject:e.changeCnt.bind(void 0,t._id,"reject",t.username,!1),remove:e.changeCnt.bind(void 0,t._id,"remove",t.username,!1)}))},_=r(39);var E=Object(c.b)(e=>({users:e.grp.users,userOpt:e.grp.userOpt,curTab:e.grp.curTab,disable:e.grp.disable,grpInfo:e.grp.grpInfo,filterUser:e.grp.filterUser}),e=>({onChangeCnt:(t,r,a,s,n,c)=>e(p.q(t,r,a,s,n,c))}))(class extends a.Component{constructor(...e){super(...e),this.state={users:[]},this.changeCntHandler=((e,t,r,a)=>{this.props.onChangeCnt(this.props.grpInfo._id,e,t,r,this.props.curTab,a)})}componentDidUpdate(){this.props.filterUser&&JSON.stringify(this.state.users)!==JSON.stringify(this.props.filterUser)&&this.setState({users:this.props.filterUser}),this.props.filterUser||JSON.stringify(this.state.users)===JSON.stringify(this.props.users)||this.setState({users:this.props.users})}render(){let e=s.a.createElement(_.a,null);return this.state.users&&(e=s.a.createElement(g,{content:this.state.users,userOpt:this.props.userOpt,curTab:this.props.curTab,changeCnt:this.changeCntHandler,disable:this.props.disable})),s.a.createElement("div",{className:"reuse-share__all-users"},e)}}),v=r(193);t.default=Object(n.f)(Object(c.b)(e=>({grpInfo:e.grp.grpInfo,grpErr:e.grp.grpErr,status:e.auth.status,requestTotal:e.grp.requestTotal}),e=>({onDefaultShareProps:()=>e(p.ec()),onFetchInfo:(t,r)=>e(p.U(t,r)),onResetInputFilter:()=>e(p.bc())}))(class extends a.Component{constructor(...e){super(...e),this.state={showInput:!1,showNewTab:!1,curTab:"online"},this.closeShareHandler=(()=>{this.props.history.goBack()}),this.showSearchInputHandler=(()=>{this.setState((e,t)=>({showInput:!e.showInput})),this.props.onResetInputFilter()}),this.changeTabHandler=(e=>{let t=null;t="online"===e?e:t,t="offline"===e?e:t,t="request"===e?e:t,this.setState({curTab:t,showNewTab:!0})})}componentDidMount(){this.props.grpInfo&&this.props.onFetchInfo(this.props.grpInfo._id,this.state.curTab)}componentWillUnmount(){this.props.onDefaultShareProps()}componentDidUpdate(){this.state.showNewTab&&(this.props.onFetchInfo(this.props.grpInfo,this.state.curTab),this.setState({showNewTab:!1}))}render(){let e=null,t=null,r=["reuse-share__tab--srch__icn"],a=null,n=null,c=s.a.createElement("div",{className:"reuse-prf__grp--img__status reuse-prf__grp--img__status--off"});this.state.showInput&&(r.push("reuse-share__tab--srch__icn--hidden"),e=s.a.createElement("div",{className:"reuse-share__tab--srch__wrapper"},s.a.createElement("div",{className:"reuse-share__tab--srch__close",onClick:this.showSearchInputHandler},s.a.createElement(i.a,{icon:["fas","times"]})),s.a.createElement("div",{className:"reuse-share__tab--srch__input-wrapper"},s.a.createElement(f,null))));let l=s.a.createElement("div",{className:"reuse-share__wrapper"},s.a.createElement(_.a,null));if(this.props.grpInfo&&!this.props.grpInfo.userImage&&(a=s.a.createElement(o.a,{name:this.props.grpInfo.username,size:"30",round:!0})),this.props.grpInfo&&this.props.grpInfo.userImage&&(a=s.a.createElement("img",{src:this.props.grpInfo.userImage,alt:""})),this.props.grpInfo&&!this.props.grpInfo.image.length&&(n=s.a.createElement(o.a,{name:this.props.grpInfo.title,size:"100"})),this.props.grpInfo&&this.props.grpInfo.image.length>0&&(n=s.a.createElement("img",{src:"".concat(window.location.protocol+"//"+window.location.host,"/media/image/").concat(this.props.grpInfo.image[0].id),alt:"group"})),this.props.grpInfo){let o=JSON.parse(this.props.grpInfo.desc);const p=u()(o,{trigger:"#",separator:" "},!0);this.props.grpInfo.status&&(c=s.a.createElement("div",{className:"reuse-prf__grp--img__status reuse-prf__grp--img__status--on"})),this.props.grpInfo.userOpt&&(t=s.a.createElement("li",{className:"request"===this.state.curTab?"active-grp-content-tab":null,onClick:this.changeTabHandler.bind(this,"request")},"Request",this.props.requestTotal>0?s.a.createElement("span",null,this.props.requestTotal):null,"request"===this.state.curTab?s.a.createElement("div",{className:"active-grp-content-tab__active"}):null)),l=s.a.createElement("div",{className:"reuse-share__wrapper"},s.a.createElement("div",{className:"reuse-prf"},s.a.createElement("div",{className:"reuse-prf__grp"},s.a.createElement("div",{className:"reuse-prf__grp--img"},s.a.createElement("div",{className:"reuse-prf__grp--img__wrapper"},n,this.props.grpInfo.userOpt?s.a.createElement("div",null,s.a.createElement("a",{href:"/edit/group/".concat(this.props.grpInfo._id)},s.a.createElement(i.a,{icon:["fas","edit"]}))):null)),s.a.createElement("div",{className:"reuse-prf__grp--det"},s.a.createElement("div",{className:"reuse-prf__grp--det__name"},this.props.grpInfo.title),s.a.createElement("div",{className:"reuse-prf__grp--det__admin"},s.a.createElement("div",{className:"reuse-prf__grp--det__admin--title"},s.a.createElement(i.a,{icon:["fas","cogs"],className:"icon icon__reuse-prf__grp--admin"}),"Admin"),s.a.createElement("div",{className:"reuse-prf__grp--det__admin--info"},s.a.createElement("div",{className:"reuse-prf__grp--det__admin--info-wrapper"},s.a.createElement("div",null,a,c),s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement("a",{href:"/user/profile/".concat(this.props.grpInfo.authorID)},this.props.grpInfo.username," ")),s.a.createElement("li",null,s.a.createElement("span",null,this.props.grpInfo.studenttotal)," Student")))))))),s.a.createElement("p",{className:"reuse-share__desc",dangerouslySetInnerHTML:{__html:p}}),s.a.createElement("div",{className:"reuse-share__tab"},s.a.createElement("ul",{className:"reuse-share__tab--cnt"},s.a.createElement("li",{className:"online"===this.state.curTab?"active-grp-content-tab":null,onClick:this.changeTabHandler.bind(this,"online")},"online"===this.state.curTab?s.a.createElement("div",{className:"active-grp-content-tab__active"}):null,"Online"),s.a.createElement("li",{className:"offline"===this.state.curTab?"reuse-share__tab--cnt__offline active-grp-content-tab":"reuse-share__tab--cnt__offline",onClick:this.changeTabHandler.bind(this,"offline")},"offline"===this.state.curTab?s.a.createElement("div",{className:"active-grp-content-tab__active"}):null,"Offline"),t),s.a.createElement("div",{className:"reuse-share__tab--srch"},s.a.createElement("div",{className:r.join(" "),onClick:this.showSearchInputHandler},s.a.createElement(i.a,{icon:["fas","search"],className:"icon icon__reuse-form--srch"})),e)),s.a.createElement(E,null))}this.props.grpErr&&(l=s.a.createElement(v.a,{err:this.props.grpErr}));let p=s.a.createElement("div",{className:"reuse-share"},s.a.createElement("div",{className:"reuse-share__main-wrapper"},s.a.createElement("div",{className:"reuse-share__backdrop",onClick:this.closeShareHandler}),l));return this.props.grpInfo||(this.closeShareHandler(),p=null),p}}))}}]);
//# sourceMappingURL=6.16a28e5f.chunk.js.map