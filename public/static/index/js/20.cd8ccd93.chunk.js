(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{775:function(t,e,n){"use strict";n.r(e);var i=n(93),r=n(37),a=n(16),o=n(17),s=n(18),c=n(19),l=n(0),h=n.n(l),d=n(24),p=n(86),u=(n(661),n(699)),f=n(40),m=n(78),v=n(3),g=n(5),C=!0,S=function(t){Object(c.a)(n,t);var e=Object(s.a)(n);function n(t){var o;Object(a.a)(this,n),(o=e.call(this,t)).onScroll=function(){window.innerHeight+Math.ceil(window.pageYOffset+1)>=document.body.offsetHeight&&o.props.onFetchCnt(o.props.userID,"shared-".concat(o.state.filterTag),o.state.fetchLimit,o.props.skipCnt+o.state.fetchLimit,o.props.cntTotal)},o.showUserOptHandler=function(t){if(o.state.cntOpt&&o.state.cntOpt.id===t)o.setState(function(t,e){return{cntOpt:Object(v.f)(t.cntOpt,{visible:!t.cntOpt.visible})}});else{var e={visible:!0,id:t};o.setState({cntOpt:e})}},o.changeFavoriteHandler=function(t,e,n,i){o.props.onChangeFav(t,e,n,o.props.changedFav,o.props.userID,i)},o.showShareHandler=function(t){o.props.onChangeShareID(t,"question"),o.props.history.push("/index/question/share")},o.changeMediaHandler=function(t,e,n){o.setState({removePrevMedia:{id:t,type:n},removeAnim:!1}),o.animateSlider(t,e,n,900)},o.removeAnimHandler=function(t){o.state.removePrevMedia||o.setState({removeAnim:!0})},o.playVideoHandler=function(t){o.props.onFetchVideo(t.id,"".concat(window.location.protocol+"//"+window.location.host,"/media/video/").concat(t.videoCnt))},o.slidePlayHandler=function(t,e,n){n.target.setPointerCapture(n.pointerId),o.setState({playerIcnId:t})},o.clearSlidePlayhandler=function(t){var e=t.target;e.releasePointerCapture(t.pointerId),e.style.left="0px";var n=document.querySelector(".reuse-que__media--wrapper__icn-move");n&&(n.style.left="42%")},o.moveSlidePlayHandler=function(t,e,n){var i=n.target;if(i.hasPointerCapture&&i.hasPointerCapture(n.pointerId)){var r=n.clientX-i.parentElement.offsetLeft-i.offsetWidth/2;r<-(i.offsetWidth/2+i.offsetWidth/4)?C&&(C=!1,o.animateSlider(t,e,"next",0)):r>i.offsetWidth/2+i.offsetWidth/4&&C&&(C=!1,o.animateSlider(t,e,"prev",0));var a=document.querySelector(".reuse-que__media--wrapper__icn-move");if(a){var s=r/i.offsetWidth*100;a.style.left=s+42+"%"}i.style.left=r+"px"}},o.animateSlider=function(t,e,n,a){setTimeout(function(){var a=Object(r.a)(o.state.mediaItms),s=a.filter(function(e){return e.id===t}),c={id:t,position:"next"===n?1:e-1};if(s.length>0){var l,h=Object(i.a)(s);try{for(h.s();!(l=h.n()).done;){var d=l.value;(c={id:d.id,position:"next"===n?d.position+=1:d.position-=1}).position>e-1&&(c=Object(v.f)(c,{position:0})),c.position<0&&(c=Object(v.f)(c,{position:e-1}));var p=a.filter(function(e){return e.id!==t});p.push(c),o.setState({mediaItms:p,removeAnim:!1,removePrevMedia:null,animateItm:{id:t,direction:n}})}}catch(u){h.e(u)}finally{h.f()}}else a.push(c),o.setState({mediaItms:a,removeAnim:!1,removePrevMedia:null,animateItm:{id:t,direction:n}})},a),setTimeout(function(){C=!0},500)},o.changeCntHandler=function(t,e,n,i){var r=String(e).length>50?String(e).substr(0,50)+"...":e;o.props.onChangeCnt(t,r,n,!1,i)},o.props.onFetchCntReset();var s=0;return s=window.innerHeight>=1200?18:window.innerHeight>=900?12:window.innerHeight>=500?9:6,o.state={cntOpt:null,fetchLimit:s,filterTag:"shared",mediaItms:[],animateItm:null,removeAnim:!1,removePrevMedia:null,playerIcnId:null,animationComplete:!0,scrollEnable:!1},o}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchCnt(this.props.userID,this.state.filterTag,this.state.fetchLimit,0,0),this.props.onChangeTag("/helpme")}},{key:"componentDidUpdate",value:function(){this.props.cnts&&this.props.cnts.length>0&&!this.state.scrollEnable&&(window.addEventListener("scroll",this.onScroll,!1),this.setState({scrollEnable:!0}))}},{key:"componentWillUnmount",value:function(){this.props.onFetchCntReset(),window.removeEventListener("scroll",this.onScroll,!1)}},{key:"render",value:function(){var t=h.a.createElement(f.a,null);return this.props.cntErr&&(t=null),this.props.cnts&&0===this.props.cnts.length&&(t=h.a.createElement(m.a,{isAuth:this.props.status,det:"No Shared Question found!",icn:"hand-paper",filter:!0})),this.props.cnts&&this.props.cnts.length>0&&(t=h.a.createElement(u.a,{content:this.props.cnts,media:this.props.media,userOpt:this.showUserOptHandler,showCntOpt:this.state.cntOpt,fav:this.changeFavoriteHandler,changedFav:this.props.changedFav,favChange:this.props.favChange,share:this.showShareHandler,nextMedia:this.changeMediaHandler,prevMedia:this.changeMediaHandler,mediaItms:this.state.mediaItms,removeAnim:this.removeAnimHandler,disableAnim:this.state.removeAnim,animateItm:this.state.animateItm,removePrevMedia:this.state.removePrevMedia,playVideo:this.playVideoHandler,videoErr:this.props.videoErr,video:this.props.postVideo,playerIcnId:this.state.playerIcnId,slidePlay:this.slidePlayHandler,moveSlidePlay:this.moveSlidePlayHandler,clearSlidePlay:this.clearSlidePlayhandler,changeCnt:this.changeCntHandler})),this.props.status||(t=h.a.createElement(m.a,{isAuth:this.props.status,det:"No Shared Question found!",icn:"hand-paper",filter:!0})),t}}]),n}(l.Component);e.default=Object(p.f)(Object(d.b)(function(t){return{status:t.auth.status,cnts:t.cnt.cnts,skipCnt:t.cnt.skipCnt,cntTotal:t.cnt.cntTotal,changedFav:t.cnt.changedFav,favChange:t.cnt.favChange,cntErr:t.cnt.cntErr,postVideo:t.cnt.postVideo,videoErr:t.cnt.videoErr,filterDet:t.cnt.filterDet}},function(t){return{onFetchShareActive:function(){return t(g.sb())},onFetchShareCntActive:function(){return t(g.rb())},onFetchCntActive:function(){return t(g.K())},onFetchNotifyActive:function(){return t(g.ib())},onFetchPtActive:function(){return t(g.kb())},onFetchQueActive:function(){return t(g.mb())},onFetchReqActive:function(){return t(g.ob())},onFetchCnt:function(e,n,i,r,a){return t(g.N(e,n,i,r,a))},onFetchCntReset:function(){return t(g.O())},onChangeFav:function(e,n,i,r,a,o){return t(g.h(e,n,i,r,a,o))},onChangeShareID:function(e,n){return t(g.ic(e,n))},onChangeTag:function(e){return t(g.w(e))},onFetchVideo:function(e,n){return t(g.Cb(e,n))},onChangeCnt:function(e,n,i,r,a){return t(g.d(e,n,i,r,a))}}})(S))}}]);
//# sourceMappingURL=20.cd8ccd93.chunk.js.map