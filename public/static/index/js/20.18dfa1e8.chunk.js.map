{"version":3,"sources":["components/Main/Poet/PoetContent/PoetContent.js","components/Main/Poet/Poet.js","containers/SiteMain/MainContent/Poets/Poets.js"],"names":["poetContent","props","formatter","buildFormatter","engStrings","userOpt","userOptDetClass","userOptClass","favAdd","isLiked","userOptMode","react_default","a","createElement","className","onClick","changeCnt","index_es","icon","fav","userImage","src","pwt","alt","mode","changeCntPublish","username","react_avatar_es","name","size","round","_step","_iterator","Object","createForOfIteratorHelper","changedFav","s","n","done","value","_id","id","liked","err","e","f","showCnt","visible","push","join","href","concat","deleteCnt","pwtType","share","category","length","String","title","substr","authorID","lib_default","date","pwtCreated","live","transformNumber","helpFull","favorite","favChange","FavoriteActive","comment","Aux","poet","arraySort","content","reverse","map","index","PoetContent_PoetContent","key","media","bind","showCntOpt","Model","_this","classCallCheck","this","_super","call","onScroll","window","innerHeight","Math","ceil","pageYOffset","document","body","offsetHeight","onFetchCnt","userID","state","filterTag","filterDet","fetchLimit","skipCnt","cntTotal","showUserOptHandler","cntOpt","setState","prevState","updateObject","newCntOpt","changeFavoriteHandler","cntGrp","onChangeFav","showShareHandler","shareID","onChangeShareID","history","changeCntHandler","det","modelType","checkTitle","onChangeCnt","onFetchCntReset","limit","mediaItms","animateItm","removeAnim","removePrevMedia","playerIcnId","animationComplete","scrollEnable","onChangeTag","cnts","addEventListener","match","params","removeEventListener","cnt","Loader","cntErr","NoAcc","isAuth","icn","filter","Poet","Component","withRouter","connect","auth","dispatch","onFetchShareActive","actions","onFetchShareCntActive","onFetchNotifyActive","onFetchPtActive","onFetchQueActive","onFetchCntActive","onFetchReqActive","fetchType","cntType","path","confirm"],"mappings":"sUA0KeA,EA9JK,SAAAC,GAChB,IAAMC,EAAYC,IAAeC,KAC7BC,EAAU,KACVC,EAAkB,CAAC,sCACnBC,EAAe,CAAC,2CAChBC,EAAS,KACTC,EAAU,KACVC,EACAC,EAAAC,EAAAC,cAAA,MACIC,UAAU,kDACVC,QAASd,EAAMe,WACfL,EAAAC,EAAAC,cAACI,EAAA,EAAD,CACIC,KAAM,CAAC,MAAO,aACdJ,UAAU,uCALlB,SASAK,EAAMR,EAAAC,EAAAC,cAACI,EAAA,EAAD,CACNC,KAAM,CAAC,MAAO,SACdJ,UAAU,wCAEVM,EAAYT,EAAAC,EAAAC,cAAA,OAAKQ,IAAKpB,EAAMqB,IAAIF,UAAWG,IAAI,KAE5B,UAAnBtB,EAAMqB,IAAIE,OACZd,EACEC,EAAAC,EAAAC,cAAA,MACIC,UAAU,kDACVC,QAASd,EAAMwB,kBACfd,EAAAC,EAAAC,cAACI,EAAA,EAAD,CACIC,KAAM,CAAC,MAAO,OACdJ,UAAU,uCALlB,YAWAb,EAAMqB,IAAII,WAAazB,EAAMqB,IAAIF,YACjCA,EAAYT,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAASC,KAAM3B,EAAMqB,IAAII,SAAUG,KAAK,KAAKC,OAAK,KArCzC,IAAAC,EAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAwCFhC,EAAMkC,YAxCJ,IAwCzB,IAAAH,EAAAI,MAAAL,EAAAC,EAAAK,KAAAC,MAAyC,KAAhCH,EAAgCJ,EAAAQ,MACjCtC,EAAMqB,IAAIkB,MAAQL,EAAWM,KAC7BjC,EAAS2B,EAAW3B,OACpBC,EAAS0B,EAAWO,QA3CH,MAAAC,GAAAX,EAAAY,EAAAD,GAAA,QAAAX,EAAAa,IA+CrB5C,EAAM6C,SAAW7C,EAAM6C,QAAQC,SAAW9C,EAAM6C,QAAQL,KAAOxC,EAAMqB,IAAIkB,MACzElC,EAAgB0C,KAAK,2CACrBzC,EAAayC,KAAK,qDAGlB/C,EAAMqB,IAAIjB,UACVA,EACIM,EAAAC,EAAAC,cAAA,OAAKC,UAAWR,EAAgB2C,KAAK,KAAMlC,QAASd,EAAMI,SACtDM,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4CACfH,EAAAC,EAAAC,cAAA,MAAIC,UAAWP,EAAa0C,KAAK,MAC7BtC,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,KAAGqC,KAAI,cAAAC,OAAgBlD,EAAMqB,IAAIkB,MAC7B7B,EAAAC,EAAAC,cAACI,EAAA,EAAD,CACIC,KAAM,CAAC,MAAO,QACdJ,UAAU,kCAHlB,SAOFJ,EACFC,EAAAC,EAAAC,cAAA,MACIE,QAASd,EAAMmD,WACfzC,EAAAC,EAAAC,cAACI,EAAA,EAAD,CACIC,KAAM,CAAC,MAAO,aACdJ,UAAU,kCAJlB,aAYZb,EAAMqB,IAAIoB,OAAqB,OAAZjC,IACnBU,EAAMR,EAAAC,EAAAC,cAACI,EAAA,EAAD,CACFC,KAAM,CAAC,MAAO,SACdJ,UAAU,yCAGdL,IACAU,EAAMR,EAAAC,EAAAC,cAACI,EAAA,EAAD,CACFC,KAAM,CAAC,MAAO,SACdJ,UAAU,yCAGlB,IAAIuC,EACA1C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACfH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBAAmBC,QAASd,EAAMqD,OAC7C3C,EAAAC,EAAAC,cAACI,EAAA,EAAD,CACIC,KAAM,CAAC,MAAO,kBACdJ,UAAU,kCAGtBH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,2BACXH,EAAAC,EAAAC,cAAA,YACIF,EAAAC,EAAAC,cAACI,EAAA,EAAD,CACIC,KAAOjB,EAAMqB,IAAIiC,SAASC,OAAS,EAAI,CAAC,MAAO,QAAU,CAAC,MAAO,OACjE1C,UAAU,sCACZb,EAAMqB,IAAIiC,SAAS,KAG7B5C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,6BACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sCACXH,EAAAC,EAAAC,cAAA,KAAGqC,KAAM,cAAgBjD,EAAMqB,IAAIkB,KAChCiB,OAAOxD,EAAMqB,IAAIoC,OAAOF,OAAS,IAAMC,OAAOxD,EAAMqB,IAAIoC,OAAOC,OAAO,EAAG,KAAO,MAAQ1D,EAAMqB,IAAIoC,SAI7G/C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,2BACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iCACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sCACTM,GAENT,EAAAC,EAAAC,cAAA,KAAGqC,KAAM,iBAAiBjD,EAAMqB,IAAIsC,UAApC,IAAgDH,OAAOxD,EAAMqB,IAAII,UAAUiC,OAAO,EAAG,GAArF,KACIhD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uCAAf,KACIH,EAAAC,EAAAC,cAACgD,EAAAjD,EAAD,CAASkD,KAAM7D,EAAMqB,IAAIyC,WAAYC,MAAM,EAAO9D,UAAWA,KAEpEG,KAIbM,EAAAC,EAAAC,cAAA,MAAIC,UAAU,qBACVH,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAACI,EAAA,EAAD,CACIC,KAAM,CAAC,MAAO,SACdJ,UAAU,wCACZmD,YAAgBhE,EAAMqB,IAAI4C,WAEhCvD,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,QAAME,QAASd,EAAMkB,KAAMA,GAC1B8C,YAA2B,OAAXzD,EAAkBA,EAASP,EAAMqB,IAAI6C,UACrDlE,EAAMmE,WAAanE,EAAMmE,UAAU3B,KAAOxC,EAAMqB,IAAIkB,IAAM7B,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CACvD3B,MAAOzC,EAAMmE,UAAU3D,UAAa,MAE5CE,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAACI,EAAA,EAAD,CACIC,KAAM,CAAC,MAAO,gBACdJ,UAAU,2CACZmD,YAAgBhE,EAAMqB,IAAIgD,YAMxC,OACI3D,EAAAC,EAAAC,cAAC0D,EAAA,EAAD,KACKlB,IC5IEmB,EApBF,SAAAvE,GAiBT,OAhBcwE,IAAUxE,EAAMyE,QAAS,aAAc,CAACC,SAAS,IACxCC,IAAI,SAACtD,EAAKuD,GAAN,OACvBlE,EAAAC,EAAAC,cAACiE,EAAD,CACKC,IAAKF,EACLvD,IAAKA,EACL0D,MAAO/E,EAAM+E,MACb3E,QAASJ,EAAMI,QAAQ4E,YAAW3D,EAAIkB,KACtCM,QAAS7C,EAAMiF,WACf/D,IAAKlB,EAAMkB,IAAI8D,YAAW3D,EAAIkB,IAAKlB,EAAIoB,MAAOpB,EAAI6C,SAAU,QAC5DhC,WAAYlC,EAAMkC,WAClBiC,UAAWnE,EAAMmE,UACjBd,MAAOrD,EAAMqD,MAAM2B,YAAW3D,EAAIkB,KAClCY,UAAWnD,EAAMe,UAAUiE,YAAW3D,EAAIkB,IAAKlB,EAAIoC,MAAO,SAAU,QACpE1C,UAAWf,EAAMe,UAAUiE,YAAW3D,EAAIkB,IAAKlB,EAAIoC,MAAO,QAAS,oCCT1EyB,oDACF,SAAAA,EAAYlF,GAAO,IAAAmF,EAAAnD,OAAAoD,EAAA,EAAApD,CAAAqD,KAAAH,IACfC,EAAAG,EAAAC,KAAAF,KAAMrF,IAmDVwF,SAAW,WACFC,OAAOC,YAAcC,KAAKC,KAAKH,OAAOI,YAAc,IAAOC,SAASC,KAAKC,cAC1Eb,EAAKnF,MAAMiG,WACHd,EAAKnF,MAAMkG,OACc,SAAzBf,EAAKgB,MAAMC,UACc,WAAzBjB,EAAKgB,MAAMC,UAA0B,WAAWjB,EAAKnF,MAAMqG,UAA3D,QAAAnD,OAA+EiC,EAAKgB,MAAMC,WAAc,OACxGjB,EAAKgB,MAAMG,WAAYnB,EAAKnF,MAAMuG,QAAUpB,EAAKgB,MAAMG,WAAYnB,EAAKnF,MAAMwG,WA1D3ErB,EA8DnBsB,mBAAqB,SAACjE,GAClB,GAAI2C,EAAKgB,MAAMO,QAAUvB,EAAKgB,MAAMO,OAAOlE,KAAOA,EAC9C2C,EAAKwB,SAAS,SAACC,EAAW5G,GACtB,MAAO,CACH0G,OAAQG,YAAaD,EAAUF,OAAQ,CAAC5D,SAAU8D,EAAUF,OAAO5D,iBAH/E,CASA,IAAMgE,EAAY,CAAChE,SAAS,EAAMN,MAClC2C,EAAKwB,SAAS,CAACD,OAAQI,MAzER3B,EA4EnB4B,sBAAwB,SAACvE,EAAIhC,EAASD,EAAQyG,GAC1C7B,EAAKnF,MAAMiH,YAAYzE,EAAIhC,EAASD,EAAQ4E,EAAKnF,MAAMkC,WAAYiD,EAAKnF,MAAMkG,OAAQc,IA7EvE7B,EAgFnB+B,iBAAmB,SAACC,GAChBhC,EAAKnF,MAAMoH,gBAAgBD,EAAS,QACpChC,EAAKnF,MAAMqH,QAAQtE,KAAK,sBAlFToC,EAqFnBmC,iBAAmB,SAAC9E,EAAIiB,EAAO8D,EAAKC,GAChC,IAAIC,EAAajE,OAAOC,GAAOF,OAAS,GAAKC,OAAOC,GAAOC,OAAO,EAAG,IAAM,MAAQD,EACnF0B,EAAKnF,MAAM0H,YAAYlF,EAAIiF,EAAYF,GAAK,EAAOC,IArFnDrC,EAAKnF,MAAM2H,kBACX,IAAIC,EAAQ,EAHG,OAKXA,EADAnC,OAAOC,aAAe,KACd,GACFD,OAAOC,aAAe,IACpB,GACFD,OAAOC,aAAe,IACpB,EAEA,EAEZP,EAAKgB,MAAQ,CACTO,OAAQ,KACRJ,WAAYsB,EACZxB,UAAW,OACXyB,UAAW,GACXC,WAAY,KACZC,YAAY,EACZC,gBAAiB,KACjBC,YAAa,KACbC,mBAAmB,EACnBC,cAAc,GAvBHhD,kEA4BfE,KAAKrF,MAAMiG,WAAWZ,KAAKrF,MAAMkG,OAAQb,KAAKc,MAAMC,UAAWf,KAAKc,MAAMG,WAAY,EAAG,GACzFjB,KAAKrF,MAAMoI,YAAY,sDAInB/C,KAAKrF,MAAMqI,MAAQhD,KAAKrF,MAAMqI,KAAK9E,OAAS,IAAM8B,KAAKc,MAAMgC,eAC7D1C,OAAO6C,iBAAiB,SAAUjD,KAAKG,UAAU,GACjDH,KAAKsB,SAAS,CAACwB,cAAc,KAE7B9C,KAAKrF,MAAMuI,MAAMC,OAAOhG,IAAM6C,KAAKc,MAAMC,YAAcf,KAAKrF,MAAMuI,MAAMC,OAAOhG,IAAqC,UAA/B6C,KAAKrF,MAAMuI,MAAMC,OAAOhG,IAAiD,WAA/B6C,KAAKrF,MAAMuI,MAAMC,OAAOhG,IAAkD,gBAA/B6C,KAAKrF,MAAMuI,MAAMC,OAAOhG,KAClM6C,KAAKrF,MAAM2H,kBACXtC,KAAKrF,MAAMiG,WAAWZ,KAAKrF,MAAMkG,OAAjC,QAAAhD,OAAiDmC,KAAKrF,MAAMuI,MAAMC,OAAOhG,IAAM6C,KAAKc,MAAMG,WAAY,EAAG,GACzGjB,KAAKsB,SAAS,CACVP,UAAWf,KAAKrF,MAAMuI,MAAMC,OAAOhG,qDAO3C6C,KAAKrF,MAAM2H,kBACXlC,OAAOgD,oBAAoB,SAAUpD,KAAKG,UAAU,oCA0CpD,IAAIkD,EAAMhI,EAAAC,EAAAC,cAAC+H,EAAA,EAAD,MAkCV,OAjCItD,KAAKrF,MAAM4I,SACXF,EAAM,MAGNrD,KAAKrF,MAAMqI,MAAmC,IAA3BhD,KAAKrF,MAAMqI,KAAK9E,SACnCmF,EAAMhI,EAAAC,EAAAC,cAACiI,EAAA,EAAD,CACEC,OAA8B,OAAtBzD,KAAKrF,MAAMkG,OACnBqB,IAAI,oBACJwB,IAAI,QACJC,QAAM,KAGd3D,KAAKrF,MAAMqI,MAAmC,IAA3BhD,KAAKrF,MAAMqI,KAAK9E,SACnCmF,EAAMhI,EAAAC,EAAAC,cAACiI,EAAA,EAAD,CACEC,OAA8B,OAAtBzD,KAAKrF,MAAMkG,OACnBqB,IAAI,oBACJwB,IAAI,QACJC,QAAM,KAGd3D,KAAKrF,MAAMqI,MAAQhD,KAAKrF,MAAMqI,KAAK9E,OAAS,IAC5CmF,EAAMhI,EAAAC,EAAAC,cAACqI,EAAD,CACFxE,QAASY,KAAKrF,MAAMqI,KACpBtD,MAAOM,KAAKrF,MAAM+E,MAClB3E,QAASiF,KAAKoB,mBACdxB,WAAYI,KAAKc,MAAMO,OACvBxF,IAAKmE,KAAK0B,sBACV7E,WAAYmD,KAAKrF,MAAMkC,WACvBiC,UAAWkB,KAAKrF,MAAMmE,UACtBd,MAAOgC,KAAK6B,iBACZnG,UAAWsE,KAAKiC,oBAGjBoB,SA9HKQ,aAiKLC,sBAAWC,YA/BF,SAAAjD,GACpB,MAAO,CACHD,OAAQC,EAAMkD,KAAKnD,OACnBmC,KAAMlC,EAAMuC,IAAIL,KAChBO,OAAQzC,EAAMuC,IAAIE,OAClBrC,QAASJ,EAAMuC,IAAInC,QACnBC,SAAUL,EAAMuC,IAAIlC,SACpBtE,WAAYiE,EAAMuC,IAAIxG,WACtBiC,UAAWgC,EAAMuC,IAAIvE,UACrBkC,UAAWF,EAAMuC,IAAIrC,YAIF,SAAAiD,GACvB,MAAO,CACHC,mBAAoB,kBAAMD,EAASE,SACnCC,sBAAuB,kBAAMH,EAASE,SACtCE,oBAAqB,kBAAMJ,EAASE,SACpCG,gBAAiB,kBAAML,EAASE,SAChCI,iBAAkB,kBAAMN,EAASE,SACjCK,iBAAkB,kBAAMP,EAASE,QACjCM,iBAAkB,kBAAMR,EAASE,SACjCvD,WAAY,SAACC,EAAQ6D,EAAWnC,EAAOrB,EAASC,GAApC,OAAiD8C,EAASE,IAAqBtD,EAAQ6D,EAAWnC,EAAOrB,EAASC,KAC9HmB,gBAAiB,kBAAM2B,EAASE,QAChCvC,YAAa,SAACzE,EAAIC,EAAOlC,EAAQ2B,EAAYgE,EAAQc,GAAxC,OAAmDsC,EAASE,IAAsBhH,EAAIC,EAAOlC,EAAQ2B,EAAYgE,EAAQc,KACtII,gBAAiB,SAACD,EAAS6C,GAAV,OAAsBV,EAASE,KAAgBrC,EAAS6C,KACzE5B,YAAa,SAAC6B,GAAD,OAAUX,EAASE,IAAuBS,KACvDvC,YAAa,SAAClF,EAAIiB,EAAO8D,EAAK2C,EAAS1C,GAA1B,OAAwC8B,EAASE,IAAsBhH,EAAIiB,EAAO8D,EAAK2C,EAAS1C,OAI3F4B,CAA6ClE","file":"static/js/20.18dfa1e8.chunk.js","sourcesContent":["import React from 'react';\r\nimport TimeAgo from 'react-timeago';\r\nimport buildFormatter from 'react-timeago/lib/formatters/buildFormatter'\r\nimport Avatar from 'react-avatar';\r\n\r\nimport './PoetContent.css'; \r\nimport '../../../UI/ShareIcn/ShareIcn.css'; \r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport Aux from '../../../../hoc/Auxs/Aux';\r\nimport { transformNumber, engStrings } from '../../../../shared/utility';\r\nimport FavoriteActive from '../../../UI/FavoriteActive/FavoriteActive';\r\n\r\nconst poetContent = props => {\r\n    const formatter = buildFormatter(engStrings);\r\n    let userOpt = null;\r\n    let userOptDetClass = ['reuse-pwt__content--det__user--det'];\r\n    let userOptClass = ['reuse-pwt__content--det__user--det__opt'];\r\n    let favAdd = null;\r\n    let isLiked = null;\r\n    let userOptMode = (\r\n        <li \r\n            className=\"reuse-pwt__content--det__user--det__opt--status\"\r\n            onClick={props.changeCnt}>\r\n            <FontAwesomeIcon \r\n                icon={['far', 'eye-slash']} \r\n                className=\"icon icon__reuse-pwt--options__dft\" />\r\n            Draft\r\n        </li>\r\n    );\r\n    let fav = <FontAwesomeIcon \r\n        icon={['far', 'heart']} \r\n        className=\"icon icon__reuse-pwt--footer__heart\" />\r\n\r\n    let userImage = <img src={props.pwt.userImage} alt=\"\" />\r\n\r\n    if (props.pwt.mode === 'draft') {\r\n      userOptMode = (\r\n        <li \r\n            className=\"reuse-pwt__content--det__user--det__opt--status\"\r\n            onClick={props.changeCntPublish}>\r\n            <FontAwesomeIcon \r\n                icon={['far', 'eye']} \r\n                className=\"icon icon__reuse-pwt--options__dft\" />\r\n            Publish\r\n        </li>\r\n      )\r\n    }\r\n    \r\n    if (props.pwt.username && !props.pwt.userImage) {\r\n        userImage = <Avatar  name={props.pwt.username} size='50' round />;\r\n    }\r\n\r\n    for (let changedFav of props.changedFav) {\r\n        if (props.pwt._id === changedFav.id) {\r\n            favAdd = changedFav.favAdd;\r\n            isLiked= changedFav.liked;\r\n        }\r\n    }\r\n\r\n    if (props.showCnt && props.showCnt.visible && props.showCnt.id === props.pwt._id)  {\r\n        userOptDetClass.push('reuse-pwt__content--det__user--det__clk');\r\n        userOptClass.push('reuse-pwt__content--det__user--det__opt--visible');\r\n    }\r\n\r\n    if (props.pwt.userOpt) {\r\n        userOpt = (\r\n            <div className={userOptDetClass.join(' ')} onClick={props.userOpt}>\r\n                <div className=\"reuse-pwt__content--det__user--det__mid\"></div>\r\n                <ul className={userOptClass.join(' ')}>\r\n                    <li>\r\n                        <a href={`/edit/poet/${props.pwt._id}`}>\r\n                            <FontAwesomeIcon \r\n                                icon={['far', 'edit']} \r\n                                className=\"icon icon__reuse-pwt--options\" />\r\n                            Edit \r\n                        </a>\r\n                    </li>\r\n                    { userOptMode }\r\n                    <li\r\n                        onClick={props.deleteCnt}>\r\n                        <FontAwesomeIcon \r\n                            icon={['far', 'trash-alt']} \r\n                            className=\"icon icon__reuse-pwt--options\" />\r\n                        Delete \r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    if (props.pwt.liked && isLiked === null) {\r\n        fav = <FontAwesomeIcon \r\n            icon={['fas', 'heart']} \r\n            className=\"icon icon__reuse-pwt--footer__heart\" />\r\n    }\r\n\r\n    if (isLiked) {\r\n        fav = <FontAwesomeIcon \r\n            icon={['fas', 'heart']} \r\n            className=\"icon icon__reuse-pwt--footer__heart\" />\r\n    }\r\n\r\n    let pwtType = (\r\n        <div className=\"reuse-pwt\">\r\n        <div className=\"reuse-share\">\r\n            <div className=\"reuse-share__icn\" onClick={props.share}>\r\n                <FontAwesomeIcon \r\n                    icon={['fas', 'location-arrow']} \r\n                    className=\"icon icon__reuse-share--icn\" />\r\n            </div>\r\n        </div>\r\n        <div className=\"reuse-pwt__content\">\r\n            <div className=\"reuse-pwt__content--tag\">\r\n                <span>\r\n                    <FontAwesomeIcon \r\n                        icon={ props.pwt.category.length > 1 ? ['fas', 'tags'] : ['fas', 'tag']} \r\n                        className=\"icon icon__reuse-pwt--header__tag\" />\r\n                    { props.pwt.category[0] }\r\n                </span>\r\n            </div>\r\n            <div className=\"reuse-pwt__content--title\">\r\n                <div className=\"reuse-pwt__content--title__wrapper\">\r\n                    <a href={\"/view/poet/\" + props.pwt._id}> \r\n                      {String(props.pwt.title).length > 149 ? String(props.pwt.title).substr(0, 150) + '...' : props.pwt.title} \r\n                     </a>\r\n                </div>\r\n            </div>\r\n            <div className=\"reuse-pwt__content--det\">\r\n                <div className=\"reuse-pwt__content--det__user\">\r\n                    <div className=\"reuse-pwt__content--det__user--img\">\r\n                        { userImage }\r\n                    </div> \r\n                    <a href={\"/user/profile/\"+props.pwt.authorID}> {String(props.pwt.username).substr(0, 8)} </a>\r\n                        <div className=\"reuse-pwt__content--det__user--time\">\r\n                        @ { <TimeAgo date={props.pwt.pwtCreated} live={false} formatter={formatter} />}\r\n                    </div>\r\n                    {userOpt}\r\n                </div>\r\n            </div> \r\n        </div>\r\n        <ul className=\"reuse-pwt__footer\">\r\n            <li>\r\n                <FontAwesomeIcon \r\n                    icon={['far', 'smile']} \r\n                    className=\"icon icon__reuse-pwt--footer__smile\" />\r\n                { transformNumber(props.pwt.helpFull) } \r\n            </li>\r\n            <li>\r\n                <span onClick={props.fav}>{fav}</span>\r\n                {transformNumber(favAdd !== null ? favAdd : props.pwt.favorite)} \r\n                {props.favChange && props.favChange.id === props.pwt._id ? <FavoriteActive \r\n                    liked={props.favChange.isLiked}/> : null}\r\n            </li>\r\n            <li>\r\n                <FontAwesomeIcon \r\n                    icon={['far', 'comment-dots']} \r\n                    className=\"icon icon__reuse-pwt--footer__comments\" />\r\n                { transformNumber(props.pwt.comment) } \r\n            </li>\r\n        </ul>\r\n    </div>\r\n    );\r\n\r\n    return (\r\n        <Aux>\r\n            {pwtType}\r\n        </Aux>\r\n    );\r\n};\r\n\r\nexport default poetContent;","import React from 'react';\r\nimport arraySort from 'array-sort';\r\n\r\nimport PoetContent from './PoetContent/PoetContent';\r\n\r\nconst poet = props => {\r\n    let content = arraySort(props.content, 'pwtCreated', {reverse: true})\r\n    const allPwt = content.map((pwt, index) => (\r\n        <PoetContent \r\n             key={index} \r\n             pwt={pwt} \r\n             media={props.media}\r\n             userOpt={props.userOpt.bind(this, pwt._id)} \r\n             showCnt={props.showCntOpt}\r\n             fav={props.fav.bind(this, pwt._id, pwt.liked, pwt.favorite, 'poet')}\r\n             changedFav={props.changedFav}\r\n             favChange={props.favChange}\r\n             share={props.share.bind(this, pwt._id)}\r\n             deleteCnt={props.changeCnt.bind(this, pwt._id, pwt.title, 'delete', 'poet')}\r\n             changeCnt={props.changeCnt.bind(this, pwt._id, pwt.title, 'draft', 'poet')}/>\r\n    ));\r\n\r\n    return allPwt;\r\n}\r\n\r\nexport default poet;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport Poet from '../../../../components/Main/Poet/Poet';\r\nimport Loader from '../../../../components/UI/Loader/Loader';\r\nimport NoAcc from '../../../../components/Main/NoAcc/NoAcc';\r\nimport { updateObject } from '../../../../shared/utility';\r\nimport * as actions from '../../../../store/actions/index';\r\n\r\nclass Model extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.props.onFetchCntReset();\r\n        let limit = 0;\r\n        if (window.innerHeight >= 1200) {\r\n            limit = 18\r\n        } else if(window.innerHeight >= 900) {\r\n            limit = 12;\r\n        } else if(window.innerHeight >= 500) {\r\n            limit = 9\r\n        } else {\r\n            limit = 6;\r\n        }\r\n        this.state = {\r\n            cntOpt: null,\r\n            fetchLimit: limit,\r\n            filterTag: 'poet',\r\n            mediaItms: [],\r\n            animateItm: null,\r\n            removeAnim: false,\r\n            removePrevMedia: null,\r\n            playerIcnId: null,\r\n            animationComplete: true,\r\n            scrollEnable: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.onFetchCnt(this.props.userID, this.state.filterTag, this.state.fetchLimit, 0, 0);\r\n        this.props.onChangeTag('/poet');\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (this.props.cnts && this.props.cnts.length > 0 && !this.state.scrollEnable) {\r\n            window.addEventListener('scroll', this.onScroll, false);\r\n            this.setState({scrollEnable: true})\r\n        }\r\n        if (this.props.match.params.id && this.state.filterTag !== this.props.match.params.id && this.props.match.params.id !== 'share' && this.props.match.params.id !== 'filter' && this.props.match.params.id !== 'startfilter') {\r\n            this.props.onFetchCntReset();;\r\n            this.props.onFetchCnt(this.props.userID, `poet-${this.props.match.params.id}`, this.state.fetchLimit, 0, 0);\r\n            this.setState({\r\n                filterTag: this.props.match.params.id\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    componentWillUnmount() {\r\n        this.props.onFetchCntReset();\r\n        window.removeEventListener('scroll', this.onScroll, false);\r\n    }\r\n\r\n    onScroll = () => {\r\n        if ((window.innerHeight + Math.ceil(window.pageYOffset + 1)) >= document.body.offsetHeight) {\r\n            this.props.onFetchCnt(\r\n                    this.props.userID,  \r\n                    this.state.filterTag !== 'poet' ? \r\n                    this.state.filterTag === 'filter' ?  'filter=='+this.props.filterDet : `poet-${this.state.filterTag}` : 'poet',\r\n                    this.state.fetchLimit, this.props.skipCnt + this.state.fetchLimit, this.props.cntTotal);\r\n        }\r\n    } \r\n\r\n    showUserOptHandler = (id) => {\r\n        if (this.state.cntOpt && this.state.cntOpt.id === id) {\r\n            this.setState((prevState, props) => {\r\n                return {\r\n                    cntOpt: updateObject(prevState.cntOpt, {visible: !prevState.cntOpt.visible})\r\n                }\r\n            });\r\n            return\r\n        }\r\n\r\n        const newCntOpt = {visible: true, id}\r\n        this.setState({cntOpt: newCntOpt})\r\n    }\r\n\r\n    changeFavoriteHandler = (id, isLiked, favAdd, cntGrp) => {\r\n        this.props.onChangeFav(id, isLiked, favAdd, this.props.changedFav, this.props.userID, cntGrp);\r\n    }\r\n\r\n    showShareHandler = (shareID) => {\r\n        this.props.onChangeShareID(shareID, 'poet');\r\n        this.props.history.push('/index/poet/share')\r\n    };\r\n\r\n    changeCntHandler = (id, title, det, modelType) => {\r\n        let checkTitle = String(title).length > 50 ? String(title).substr(0, 50) + '...' : title\r\n        this.props.onChangeCnt(id, checkTitle, det, false, modelType);\r\n    }\r\n\r\n    render() {\r\n        let cnt = <Loader />;\r\n        if (this.props.cntErr) {\r\n            cnt = null\r\n        }\r\n\r\n        if (this.props.cnts && this.props.cnts.length === 0) {\r\n            cnt = <NoAcc \r\n                    isAuth={this.props.userID !== null}\r\n                    det='No content found!'\r\n                    icn='clone'\r\n                    filter />\r\n        }\r\n\r\n        if (this.props.cnts && this.props.cnts.length === 0) {\r\n            cnt = <NoAcc \r\n                    isAuth={this.props.userID !== null}\r\n                    det='No content found!'\r\n                    icn='clone'\r\n                    filter />\r\n        }\r\n\r\n        if (this.props.cnts && this.props.cnts.length > 0) {\r\n            cnt = <Poet\r\n                content={this.props.cnts} \r\n                media={this.props.media}\r\n                userOpt={this.showUserOptHandler}\r\n                showCntOpt={this.state.cntOpt}\r\n                fav={this.changeFavoriteHandler}\r\n                changedFav={this.props.changedFav}\r\n                favChange={this.props.favChange}\r\n                share={this.showShareHandler}\r\n                changeCnt={this.changeCntHandler}/>\r\n        }\r\n\r\n        return cnt\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        userID: state.auth.userID,\r\n        cnts: state.cnt.cnts,\r\n        cntErr: state.cnt.cntErr,\r\n        skipCnt: state.cnt.skipCnt,\r\n        cntTotal: state.cnt.cntTotal,\r\n        changedFav: state.cnt.changedFav,\r\n        favChange: state.cnt.favChange,\r\n        filterDet: state.cnt.filterDet\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        onFetchShareActive: () => dispatch(actions.fetchShareactiveInit()),\r\n        onFetchShareCntActive: () => dispatch(actions.fetchShareCntactiveInit()),\r\n        onFetchNotifyActive: () => dispatch(actions.fetchNotifyactiveInit()),\r\n        onFetchPtActive: () => dispatch(actions.fetchPtActiveInit()),\r\n        onFetchQueActive: () => dispatch(actions.fetchQueActiveInit()),\r\n        onFetchCntActive: () => dispatch(actions.fetchCntActiveInit()),\r\n        onFetchReqActive: () => dispatch(actions.fetchReqActiveInit()),\r\n        onFetchCnt: (userID, fetchType, limit, skipCnt, cntTotal) => dispatch(actions.fetchCntInit(userID, fetchType, limit, skipCnt, cntTotal)),\r\n        onFetchCntReset: () => dispatch(actions.fetchCntReset()),\r\n        onChangeFav: (id, liked, favAdd, changedFav, userID, cntGrp) => dispatch(actions.changeFavInit(id, liked, favAdd, changedFav, userID, cntGrp)),\r\n        onChangeShareID: (shareID, cntType) => dispatch(actions.shareID(shareID, cntType)),\r\n        onChangeTag: (path) => dispatch(actions.changeTagsPath(path)),\r\n        onChangeCnt: (id, title, det, confirm, modelType) => dispatch(actions.changeCntInit(id, title, det, confirm, modelType))\r\n    };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Model));"],"sourceRoot":""}