(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{501:function(e,t,n){},523:function(e,t,n){},531:function(e,t,n){"use strict";n.r(t);var r=n(67),a=n(0),s=n.n(a),o=n(19),c=n(66),i=(n(502),n(97)),l=n.n(i),p=n(73),u=n(520),d=n.n(u),_=n(53),m=(n(523),n(501),n(2)),h=n(9);var g=e=>{let t=null,n=["reuse-group__cnt--desc__opt--join"],r=!1,a=["reuse-group__cnt--desc__opt--cancel reuse-group__cnt--desc__opt--cancel"],o=s.a.createElement(_.a,{name:e.cnt.title,size:"60",round:!0});if(e.cnt.image&&e.cnt.image.length>0&&(o=s.a.createElement("img",{src:"".concat(window.location.protocol+"//"+window.location.host,"/media/image/").concat(e.cnt.image[0].id),alt:"group"})),e.joinStartID&&e.joinStartID.length>0){var c,i=Object(p.a)(e.joinStartID);try{for(i.s();!(c=i.n()).done;)c.value===e.cnt._id&&(n.push("reuse-group__cnt--desc__opt--join__start"),a.push("reuse-group__cnt--desc__opt--join__start"))}catch(f){i.e(f)}finally{i.f()}}if(e.joined&&e.joined.length>0){var l,u=Object(p.a)(e.joined);try{for(u.s();!(l=u.n()).done;){let t=l.value;e.cnt._id===t&&(r=!0)}}catch(f){u.e(f)}finally{u.f()}}e.cnt.userOpt&&e.cnt.requestTotal>0&&(t=s.a.createElement("div",null,e.cnt.requestTotal));let g=s.a.createElement("div",{className:n.join(" "),onClick:e.join},s.a.createElement(h.a,{icon:["fas","plus"],className:"icon icon__reuse-group--cnt__join"}),"Join");return(e.cnt.isMember||e.cnt.userOpt)&&(g=s.a.createElement("div",{className:"reuse-group__cnt--desc__opt--chat"},s.a.createElement("a",{href:"/chat/group/".concat(e.cnt._id)},s.a.createElement(h.a,{icon:["fas","comment-dots"],className:"icon icon__reuse-group--cnt__comment"}),"Chat"))),(r||e.cnt.request)&&(g=s.a.createElement("div",{className:a.join(" "),onClick:e.cancelReq},s.a.createElement(h.a,{icon:["fas","times"],className:"icon icon__reuse-group--cnt__cancel"}),"Cancel")),s.a.createElement("div",{className:"reuse-group"},s.a.createElement("div",{className:"reuse-group__wrapper"},s.a.createElement("ul",{className:"reuse-group__header"},s.a.createElement("li",null,s.a.createElement("div",{className:"reuse-group__header--tm"},s.a.createElement(h.a,{icon:["fas","calendar-check"],className:"icon icon__reuse-group--header__calend"}),s.a.createElement("span",null,s.a.createElement(d.a,{format:"MMM YYYY"},e.cnt.groupCreated)))),s.a.createElement("li",null,s.a.createElement("div",{className:"reuse-group__header--categ"},s.a.createElement(h.a,{icon:e.cnt.category.length>1?["fas","tags"]:["fas","tag"],className:"icon icon__reuse-group--header__tag"}),e.cnt.category[0]))),s.a.createElement("div",{className:"reuse-group__cnt"},s.a.createElement("div",{className:"reuse-group__cnt--img"},o),s.a.createElement("div",{className:"reuse-group__cnt--desc"},s.a.createElement("div",{className:"reuse-group__cnt--desc__title"},e.cnt.isMember||e.cnt.userOpt?s.a.createElement("a",{href:"/chat/group/".concat(e.cnt._id)},e.cnt.title):e.cnt.title),s.a.createElement("div",{className:"reuse-group__cnt--desc__opt"},g))),s.a.createElement("div",{className:"reuse-group__footer"},s.a.createElement("ul",{className:"reuse-group__footer--grp-det"},s.a.createElement("li",{className:"reuse-group__footer--grp-det__users"},s.a.createElement("div",{className:"reuse-group__footer--grp-det__users--wrapper"},s.a.createElement("div",{className:"reuse-group__footer--grp-det__users--icn"},s.a.createElement(h.a,{icon:["fas","users"],className:"icon icon__reuse-group--footer__users"})),Object(m.d)(e.cnt.members))),s.a.createElement("li",{className:"reuse-group__footer--grp-det__status"},s.a.createElement("div",{className:"reuse-group__footer--grp-det__status--wrapper"},s.a.createElement("div",{className:"reuse-group__footer--grp-det__status--icn"},s.a.createElement(h.a,{icon:["fas","user-friends"],className:"icon icon__reuse-group--footer__users-on"}),s.a.createElement("div",{className:"reuse-group__footer--grp-det__status--icn__on"})),Object(m.d)(e.cnt.online)))),s.a.createElement("div",{className:"reuse-group__footer--info",onClick:e.groupInfo},s.a.createElement(h.a,{icon:["fas","info"],className:"icon icon__reuse-group--footer__info"}),t))))};var f=e=>{return l()(e.content,"groupCreated",{reverse:!0}).map((t,n)=>s.a.createElement(g,{key:n,cnt:t,groupInfo:e.groupInfo.bind(void 0,t),join:e.join.bind(void 0,t._id,"join"),joinStartID:e.joinStartID,joined:e.joined,cancelReq:e.join.bind(void 0,t._id,"cancel")}))},E=n(29),v=n(60),j=n(4);t.default=Object(c.f)(Object(o.b)(e=>({status:e.auth.status,userID:e.auth.userID,cnts:e.cnt.cnts,skipCnt:e.cnt.skipCnt,cntTotal:e.cnt.cntTotal,joinStartID:e.cnt.joinStartID,joined:e.cnt.joined,changedFav:e.cnt.changedFav,favChange:e.cnt.favChange,postErr:e.cnt.postErr,postVideo:e.cnt.postVideo,videoErr:e.cnt.videoErr,filterDet:e.cnt.filterDet}),e=>({onFetchCnt:(t,n,r,a,s)=>e(j.N(t,n,r,a,s)),onFetchCntReset:()=>e(j.O()),onJoinGrp:(t,n)=>e(j.Vb(t,n)),onChangeFav:(t,n,r,a,s,o)=>e(j.h(t,n,r,a,s,o)),onShareCnt:t=>e(j.dc(t)),onChangeTag:t=>e(j.w(t)),onChangeCnt:(t,n,r,a)=>e(j.d(t,n,r,a))}))(class extends a.Component{constructor(e){super(e),this.onScroll=(()=>{document.documentElement.scrollHeight-document.documentElement.scrollTop===document.documentElement.clientHeight&&this.props.onFetchCnt("group"!==this.state.filterTag?"filter"===this.state.filterTag?"filter=="+this.props.filterDet:this.state.filterTag:"group",this.state.fetchLimit,this.props.skipCnt+this.state.fetchLimit,this.props.cntTotal)}),this.joinGrpHandler=((e,t)=>{this.props.onJoinGrp(e,t)}),this.groupInfoHandler=(e=>{this.props.onShareCnt(Object(r.a)({},e)),this.props.history.push("/index/group/".concat(e._id))}),this.changeCntHandler=((e,t,n,r)=>{this.props.onChangeCnt(e,t,n,r)});let t=0;this.props.onFetchCntReset(),t=window.innerHeight>=1200?18:window.innerHeight>=900?12:window.innerHeight>=500?9:6,this.state={cntOpt:null,fetchLimit:t,filterTag:"group",mediaItms:[],scrollEnable:!1}}componentDidMount(){this.props.onFetchCnt(this.props.userID,this.state.filterTag,this.state.fetchLimit,0,0),this.props.onChangeTag("/group")}componentDidUpdate(){this.props.cnts&&this.props.cnts.length>0&&!this.state.scrollEnable&&(window.addEventListener("scroll",this.onScroll,!1),this.setState({scrollEnable:!0}))}componentWillUnmount(){this.props.onFetchCntReset(),window.removeEventListener("scroll",this.onScroll,!1)}render(){let e=s.a.createElement(E.a,null);return this.props.postErr&&(e=null),this.props.cnts&&0===this.props.cnts.length&&"shared"===this.state.filterTag&&(e=s.a.createElement(v.a,{isAuth:null!==this.props.userID,det:"No Group found!",icn:"user-friends",filter:!0})),this.props.cnts&&0===this.props.cnts.length&&"shared"!==this.state.filterTag&&(e=s.a.createElement(v.a,{isAuth:null!==this.props.userID,det:"No Group found!",icn:"user-friends",filter:!0})),this.props.cnts&&this.props.cnts.length>0&&(e=s.a.createElement(f,{content:this.props.cnts,join:this.joinGrpHandler,joinStartID:this.props.joinStartID,joined:this.props.joined,groupInfo:this.groupInfoHandler})),this.props.status||(e=s.a.createElement(v.a,{isAuth:this.props.status,det:"No Group found!",icn:"user-friends",filter:!0})),e}}))}}]);
//# sourceMappingURL=8.8e890357.chunk.js.map