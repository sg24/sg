(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{609:function(e,t,n){},615:function(e,t,n){},616:function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(58),o=n(610),s=n.n(o),l=n(611),c=n.n(l),u=n(191),d=(n(615),n(609),n(3)),m=n(57),h=n(8),p=n(94),v=function(e){var t=c()(d.c),n=null,a=["reuse-que__footer--details"],o=["reuse-que__footer--details__options"],l=null,v=null,_=String(e.que.title).length>149?String(e.que.title).substr(0,150)+"...":e.que.title,f=e.que.snapshot.length+e.que.image.length,q=i.a.createElement("p",{className:"reuse-que__content--title"},i.a.createElement("a",{href:"/view/question/"+e.que._id},_)),g=i.a.createElement("li",{className:"reuse-que__footer--details__options--status",onClick:e.changeCnt},i.a.createElement(h.a,{icon:["far","eye-slash"],className:"icon icon__reuse-que--options__dft"}),"Draft"),E=i.a.createElement(h.a,{icon:["far","heart"],className:"icon icon__reuse-que--footer__heart"}),y=i.a.createElement("img",{src:e.que.userImage,alt:""});"draft"===e.que.mode&&(g=i.a.createElement("li",{className:"reuse-que__footer--details__options--status",onClick:e.changeCntPublish},i.a.createElement(h.a,{icon:["far","eye"],className:"icon icon__reuse-que--options__dft"}),"Publish")),e.que.username&&!e.que.userImage&&(y=i.a.createElement(u.a,{name:e.que.username,size:"36",round:!0}));var C=!0,P=!1,b=void 0;try{for(var w,S=e.changedFav[Symbol.iterator]();!(C=(w=S.next()).done);C=!0){var I=w.value;e.que._id===I.id&&(l=I.favAdd,v=I.liked)}}catch(U){P=!0,b=U}finally{try{C||null==S.return||S.return()}finally{if(P)throw b}}var N=null,A=[].concat(Object(r.a)(e.que.snapshot),Object(r.a)(e.que.image)),F=null,O=["reuse-que__media--wrapper"];if(A.length>0){var M=!1,k=!0,H=!1,D=void 0;try{for(var j,x=e.mediaItms[Symbol.iterator]();!(k=(j=x.next()).done);k=!0){var V=j.value;V.id===e.que._id&&(M=!0,e.animateItm.id===e.que._id&&("next"!==e.animateItm.direction||e.removePrevAnim||O.push("reuse-que__media--wrapper__anim"),"prev"!==e.animateItm.direction||e.removePrevAnim||O.push("reuse-que__media--wrapper__anim-rev")),null===e.animateItm&&O.push("reuse-que__media--wrapper__anim"),e.removePrevMedia&&e.removePrevMedia.id===e.que._id&&T(e.removePrevMedia),L(V.position))}}catch(U){H=!0,D=U}finally{try{k||null==x.return||x.return()}finally{if(H)throw D}}M||(e.removePrevMedia&&e.removePrevMedia.id===e.que._id&&T(e.removePrevMedia),L(0))}function T(e){"next"===e.type?O.push("reuse-que__media--wrapper__anim-exit"):O.push("reuse-que__media--wrapper__anim-exit-rev")}function L(t){var n=A[t];n&&"object"===typeof n&&(F=e.video&&e.video.id!==n.id?i.a.createElement("div",{className:e.playerIcnId&&e.playerIcnId===e.que._id?"reuse-que__media--wrapper__icn reuse-que__media--wrapper__icn-move":"reuse-que__media--wrapper__icn",onClick:e.playVideo.bind(this,n.id,e.que.video)},i.a.createElement(h.a,{icon:["fas","play-circle"],className:"icon icon__reuse-que--media__play"})):null),N=i.a.createElement("div",{className:"reuse-que__media"},i.a.createElement("div",{className:e.video&&e.video.id===n.id?"reuse-que__media--main-wrapper reuse-que__media--main-wrapper__load":"reuse-que__media--main-wrapper"},i.a.createElement("div",{onDragStart:function(){return!1},"touch-action":"pan-y",className:e.disableAnim?"reuse-que__media--wrapper":O.join(" "),onAnimationEnd:e.removeAnim},F,e.video&&e.video.id===n.id&&e.video.url?i.a.createElement("video",{onPointerDown:function(t){return e.slidePlay(e.que._id,f,t)},onPointerMove:function(t){return e.moveSlidePlay(e.que._id,f,t)},onPointerUp:function(t){return e.clearSlidePlay(t)},src:e.video.url,controls:!0,autoPlay:!0},i.a.createElement("p",null,"our browser doesn't support embedded videos")):e.video&&e.video.id===n.id?null:i.a.createElement("img",{draggable:"false",onDragStart:function(){return!1},src:"object"===typeof n?n.snapshot:n,alt:"question",onPointerDown:function(t){return e.slidePlay(e.que._id,f,t)},onPointerMove:function(t){return e.moveSlidePlay(e.que._id,f,t)},onPointerUp:function(t){return e.clearSlidePlay(t)}}),e.videoErr&&e.videoErr.id===n.id?i.a.createElement("div",{className:"reuse-que__video-err",onPointerDown:function(t){return e.slidePlay(e.que._id,f,t)},onPointerMove:function(t){return e.moveSlidePlay(e.que._id,f,t)},onPointerUp:function(t){return e.clearSlidePlay(t)}},i.a.createElement("div",{className:"reuse-que__video-err--icn",onClick:e.playVideo.bind(this,n.id,e.que.video)},i.a.createElement(h.a,{icon:["fas","redo"],className:"icon icon__reuse-que--video-err__icn"})),i.a.createElement("h3",null," ",e.videoErr.err.message," ")):null)),A&&A.length>1?i.a.createElement(m.a,null,i.a.createElement("div",{className:"reuse-que__media--cnt reuse-que__media--cnt__nxt",onClick:e.nextMedia},i.a.createElement(h.a,{icon:["fas","angle-right"],className:"icon icon__reuse-que--media__nxt"})),i.a.createElement("div",{className:"reuse-que__media--cnt reuse-que__media--cnt__prev",onClick:e.prevMedia},i.a.createElement(h.a,{icon:["fas","angle-left"],className:"icon icon__reuse-que--media__prev"}))):null)}return f>0&&(q=i.a.createElement(m.a,null,i.a.createElement("p",{className:"reuse-que__content--title reuse-que__content--title__que-img"},i.a.createElement("a",{href:"/view/question/"+e.que._id},_)),i.a.createElement("div",{className:"reuse-que__content--wrapper"},N))),e.showCnt&&e.showCnt.visible&&e.que._id===e.showCnt.id&&(a.push("reuse-que__footer--details__clk"),o.push("reuse-que__footer--details__options--visible")),e.que.userOpt&&(n=i.a.createElement("div",{className:a.join(" "),onClick:e.userOpt},i.a.createElement("div",{className:"reuse-que__footer--details__mid"}),i.a.createElement("ul",{className:o.join(" ")},i.a.createElement("li",null,i.a.createElement("a",{href:"/edit/question/".concat(e.que._id)},i.a.createElement(h.a,{icon:["far","edit"],className:"icon icon__reuse-que--options"}),"Edit")),g,i.a.createElement("li",{onClick:e.deleteCnt},i.a.createElement(h.a,{icon:["far","trash-alt"],className:"icon icon__reuse-que--options"}),"Delete")))),e.que.liked&&null===v&&(E=i.a.createElement(h.a,{icon:["fas","heart"],className:"icon icon__reuse-que--footer__heart"})),v&&(E=i.a.createElement(h.a,{icon:["fas","heart"],className:"icon icon__reuse-que--footer__heart"})),i.a.createElement("div",{className:"reuse-que"},i.a.createElement("ul",{className:"reuse-que__header"},i.a.createElement("li",null,i.a.createElement("div",{className:"reuse-que__header--category__img"},y),i.a.createElement("div",{className:"reuse-que__header--category__det"},i.a.createElement("div",{className:"reuse-que__header--category__det--name"},i.a.createElement("a",{href:"/user/profile/".concat(e.que.authorID)},e.que.username)),i.a.createElement("div",{className:"reuse-que__header--category__det--timePosted"},"@ ",i.a.createElement(s.a,{date:e.que.queCreated,live:!1,formatter:t})))),i.a.createElement("li",null,i.a.createElement("p",{className:"reuse-que__header--share__category"},i.a.createElement(h.a,{icon:e.que.category.length>1?["fas","tags"]:["fas","tag"],className:"icon icon__reuse-que--header__tag"}),e.que.category[0]),i.a.createElement("div",{className:"reuse-share"},i.a.createElement("div",{className:"reuse-share__icn",onClick:e.share},i.a.createElement(h.a,{icon:["fas","location-arrow"],className:"icon icon__reuse-share--icn"}))))),i.a.createElement("div",{className:"reuse-que__content"},q),i.a.createElement("div",{className:"reuse-que__ans"},i.a.createElement("div",{className:"reuse-que__ans--wrapper"},i.a.createElement("div",{className:"reuse-que__ans--total"},e.que.comment),"Answer")),i.a.createElement("div",{className:"reuse-que__footer"},i.a.createElement("ul",{className:"reuse-que__footer--list"},i.a.createElement("li",null,i.a.createElement(h.a,{icon:["far","thumbs-up"],className:"icon icon__reuse-que--footer__thumbup"}),Object(d.d)(e.que.helpFull)),i.a.createElement("li",{className:"reuse-que__footer--list__item-middle"},i.a.createElement(h.a,{icon:["far","thumbs-down"],className:"icon icon__reuse-que--footer__thumbdown"}),Object(d.d)(e.que.notHelpFull)),i.a.createElement("li",null,i.a.createElement("span",{onClick:e.fav},E),Object(d.d)(null!==l?l:e.que.favorite),e.favChange&&e.favChange.id===e.que._id?i.a.createElement(p.a,{liked:e.favChange.isLiked}):null)),n))};t.a=function(e){return e.content.map(function(t,n){return i.a.createElement(v,{key:n,que:t,media:e.media,userOpt:e.userOpt.bind(void 0,t._id),showCnt:e.showCntOpt,fav:e.fav.bind(void 0,t._id,t.liked,t.favorite,"question"),changedFav:e.changedFav,favChange:e.favChange,share:e.share.bind(void 0,t._id),nextMedia:e.nextMedia.bind(void 0,t._id,t.snapshot.length+t.image.length,"next"),prevMedia:e.prevMedia.bind(void 0,t._id,t.snapshot.length+t.image.length,"prev"),mediaItms:e.mediaItms,removeAnim:e.removeAnim,disableAnim:e.disableAnim,animateItm:e.animateItm,removePrevMedia:e.removePrevMedia,playVideo:e.playVideo,videoErr:e.videoErr,playerIcnId:e.playerIcnId,slidePlay:e.slidePlay,moveSlidePlay:e.moveSlidePlay,clearSlidePlay:e.clearSlidePlay,video:e.video,deleteCnt:e.changeCnt.bind(void 0,t._id,t.title,"delete","question"),changeCnt:e.changeCnt.bind(void 0,t._id,t.title,"draft","question")})})}},629:function(e,t,n){"use strict";n.r(t);var a=n(58),i=n(21),r=n(22),o=n(24),s=n(23),l=n(25),c=n(0),u=n.n(c),d=n(29),m=n(77),h=(n(612),n(616)),p=n(50),v=n(116),_=n(3),f=n(6),q=!0,g=function(e){function t(e){var n;Object(i.a)(this,t),(n=Object(o.a)(this,Object(s.a)(t).call(this,e))).onScroll=function(){document.documentElement.scrollHeight-document.documentElement.scrollTop===document.documentElement.clientHeight&&n.props.onFetchCnt(n.props.userID,"shared",n.state.fetchLimit,n.props.skipCnt+n.state.fetchLimit,n.props.cntTotal)},n.showUserOptHandler=function(e){if(n.state.cntOpt&&n.state.cntOpt.id===e)n.setState(function(e,t){return{cntOpt:Object(_.f)(e.cntOpt,{visible:!e.cntOpt.visible})}});else{var t={visible:!0,id:e};n.setState({cntOpt:t})}},n.changeFavoriteHandler=function(e,t,a,i){n.props.onChangeFav(e,t,a,n.props.changedFav,n.props.userID,i)},n.showShareHandler=function(e){n.props.onChangeShareID(e,"question"),n.props.history.push("/index/question/share")},n.changeMediaHandler=function(e,t,a){n.setState({removePrevMedia:{id:e,type:a},removeAnim:!1}),n.animateSlider(e,t,a,900)},n.removeAnimHandler=function(e){n.state.removePrevMedia||n.setState({removeAnim:!0})},n.playVideoHandler=function(e,t){var a=!0,i=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var l=o.value;l.snapshotID===e&&n.props.onFetchVideo(l.id,e)}}catch(c){i=!0,r=c}finally{try{a||null==s.return||s.return()}finally{if(i)throw r}}},n.slidePlayHandler=function(e,t,a){a.target.setPointerCapture(a.pointerId),n.setState({playerIcnId:e})},n.clearSlidePlayhandler=function(e){var t=e.target;t.releasePointerCapture(e.pointerId),t.style.left="0px";var n=document.querySelector(".reuse-que__media--wrapper__icn-move");n&&(n.style.left="42%")},n.moveSlidePlayHandler=function(e,t,a){var i=a.target;if(i.hasPointerCapture&&i.hasPointerCapture(a.pointerId)){var r=a.clientX-i.parentElement.offsetLeft-i.offsetWidth/2;r<-(i.offsetWidth/2+i.offsetWidth/4)?q&&(q=!1,n.animateSlider(e,t,"next",0)):r>i.offsetWidth/2+i.offsetWidth/4&&q&&(q=!1,n.animateSlider(e,t,"prev",0));var o=document.querySelector(".reuse-que__media--wrapper__icn-move");if(o){var s=r/i.offsetWidth*100;o.style.left=s+42+"%"}i.style.left=r+"px"}},n.animateSlider=function(e,t,i,r){setTimeout(function(){var r=Object(a.a)(n.state.mediaItms),o=r.filter(function(t){return t.id===e}),s={id:e,position:"next"===i?1:t-1};if(o.length>0){var l=!0,c=!1,u=void 0;try{for(var d,m=o[Symbol.iterator]();!(l=(d=m.next()).done);l=!0){var h=d.value;(s={id:h.id,position:"next"===i?h.position+=1:h.position-=1}).position>t-1&&(s=Object(_.f)(s,{position:0})),s.position<0&&(s=Object(_.f)(s,{position:t-1}));var p=r.filter(function(t){return t.id!==e});p.push(s),n.setState({mediaItms:p,removeAnim:!1,removePrevMedia:null,animateItm:{id:e,direction:i}})}}catch(v){c=!0,u=v}finally{try{l||null==m.return||m.return()}finally{if(c)throw u}}}else r.push(s),n.setState({mediaItms:r,removeAnim:!1,removePrevMedia:null,animateItm:{id:e,direction:i}})},r),setTimeout(function(){q=!0},500)},n.changeCntHandler=function(e,t,a,i){var r=String(t).length>50?String(t).substr(0,50)+"...":t;n.props.onChangeCnt(e,r,a,!1,i)},n.props.onFetchCntReset();var r=0;return r=window.innerHeight>=1200?6:window.innerHeight>=900?4:window.innerHeight>=500?3:2,n.state={cntOpt:null,fetchLimit:r,filterTag:"shared",mediaItms:[],animateItm:null,removeAnim:!1,removePrevMedia:null,playerIcnId:null,animationComplete:!0,scrollEnable:!1},n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.onFetchCnt(this.props.userID,this.state.filterTag,this.state.fetchLimit,0,0),this.props.onChangeTag("/question")}},{key:"componentDidUpdate",value:function(){this.props.cnts&&this.props.cnts.length>0&&!this.state.scrollEnable&&(window.addEventListener("scroll",this.onScroll,!1),this.setState({scrollEnable:!0}))}},{key:"componentWillUnmount",value:function(){this.props.onFetchCntReset(),window.removeEventListener("scroll",this.onScroll,!1)}},{key:"render",value:function(){this.props.onFetchShareActive(),this.props.onFetchCntActive(),this.props.onFetchNotifyActive(),this.props.onFetchPtActive(),this.props.onFetchQueActive(),this.props.onFetchShareCntActive(),this.props.onFetchReqActive();var e=u.a.createElement(p.a,null);return this.props.cntErr&&(e=null),this.props.cnts&&0===this.props.cnts.length&&(e=u.a.createElement(v.a,{isAuth:null!==this.props.userID,det:"No Shared Question found!",icn:"clone",filter:!0})),this.props.cnts&&0===this.props.cnts.length&&(e=u.a.createElement(v.a,{isAuth:null!==this.props.userID,det:"No Shared Question found!",icn:"clone",filter:!0})),this.props.cnts&&this.props.cnts.length>0&&(e=u.a.createElement(h.a,{content:this.props.cnts,media:this.props.media,userOpt:this.showUserOptHandler,showCntOpt:this.state.cntOpt,fav:this.changeFavoriteHandler,changedFav:this.props.changedFav,favChange:this.props.favChange,share:this.showShareHandler,nextMedia:this.changeMediaHandler,prevMedia:this.changeMediaHandler,mediaItms:this.state.mediaItms,removeAnim:this.removeAnimHandler,disableAnim:this.state.removeAnim,animateItm:this.state.animateItm,removePrevMedia:this.state.removePrevMedia,playVideo:this.playVideoHandler,videoErr:this.props.videoErr,video:this.props.postVideo,playerIcnId:this.state.playerIcnId,slidePlay:this.slidePlayHandler,moveSlidePlay:this.moveSlidePlayHandler,clearSlidePlay:this.clearSlidePlayhandler,changeCnt:this.changeCntHandler})),e}}]),t}(c.Component);t.default=Object(m.f)(Object(d.b)(function(e){return{userID:e.auth.userID,cnts:e.cnt.cnts,skipCnt:e.cnt.skipCnt,cntTotal:e.cnt.cntTotal,changedFav:e.cnt.changedFav,favChange:e.cnt.favChange,cntErr:e.cnt.cntErr,postVideo:e.cnt.postVideo,videoErr:e.cnt.videoErr,filterDet:e.cnt.filterDet}},function(e){return{onFetchShareActive:function(){return e(f.Z())},onFetchShareCntActive:function(){return e(f.Y())},onFetchCntActive:function(){return e(f.z())},onFetchNotifyActive:function(){return e(f.P())},onFetchPtActive:function(){return e(f.R())},onFetchQueActive:function(){return e(f.T())},onFetchReqActive:function(){return e(f.V())},onFetchCnt:function(t,n,a,i,r){return e(f.C(t,n,a,i,r))},onFetchCntReset:function(){return e(f.D())},onChangeFav:function(t,n,a,i,r,o){return e(f.h(t,n,a,i,r,o))},onChangeShareID:function(t,n){return e(f.Eb(t,n))},onChangeTag:function(t){return e(f.p(t))},onFetchVideo:function(t,n){return e(f.ib(t,n))},onChangeCnt:function(t,n,a,i,r){return e(f.d(t,n,a,i,r))}}})(g))}}]);
//# sourceMappingURL=6.33f4f621.chunk.js.map