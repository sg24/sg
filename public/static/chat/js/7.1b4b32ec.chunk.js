(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{735:function(e,t,a){},738:function(e,t,a){"use strict";a.r(t);var r=a(21),n=a(22),c=a(24),i=a(23),o=a(25),s=a(0),d=a.n(s),m=a(7),u=a(26),p=a(95),l=(a(735),a(4)),h=a(6),v=a(56),f=d.a.createRef(null),b=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(o)))).state={start:!1,mediaRecorder:null,id:a.props.match.params.id,categ:a.props.match.params.categ},a.stopRecHandler=function(){Object(l.h)(l.e,a.state.mediaRecorder,a.state.start,{video:!0,audio:!0},"video/mp4","mp4","media","mediaRecChat").then(function(e){a.setState({mediaRecorder:null,start:!1}),a.props.onUploadMedia(e,a.state.id,a.state.categ),a.props.history.goBack()}).catch(function(e){a.setState({start:!1})})},a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){var e=this;Object(l.h)(l.e,this.state.mediaRecorder,this.state.start,{video:!0,audio:!0},"video/mp4","mp4","media","mediaRecChat").then(function(t){f.current.srcObject=t.stream,e.setState({mediaRecorder:t.mediaRecorder,start:!0})}).catch(function(t){e.setState({start:!1})})}},{key:"componentWillUnmount",value:function(){this.state.mediaRecorder&&this.state.mediaRecorder.stream.getTracks().forEach(function(e){return e.stop()})}},{key:"render",value:function(){var e=d.a.createElement(v.a,{bg:!0});return this.state.start&&(e=null),this.state.err&&this.props.onTypingErr(this.state.err),d.a.createElement("div",{className:"site-main__chat--vidcam"},d.a.createElement("div",{className:"site-main__chat--vidcam__wrapper"},e,d.a.createElement("video",{ref:f,autoPlay:!0,className:"site-main__chat--vidcam__video--wrapper"},d.a.createElement("p",null,"our browser doesn't support embedded videos")),d.a.createElement("button",{onClick:this.stopRecHandler,className:"site-main__chat--vidcam__control",disabled:!this.state.start},d.a.createElement(m.a,{icon:["fas","video"]}))))}}]),t}(s.Component);t.default=Object(p.e)(Object(u.b)(function(e){return{vidRecBackdrop:e.cnt.vidRecBackdrop}},function(e){return{onTypingErr:function(t){return e(h.E(t))},onUploadMedia:function(t,a,r){return e(h.Ob(t,a,r))}}})(b))}}]);
//# sourceMappingURL=7.1b4b32ec.chunk.js.map