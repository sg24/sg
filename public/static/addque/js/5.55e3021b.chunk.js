(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{748:function(e,t,r){"use strict";r.r(t);var s=r(104),a=r(58),n=r(26),c=r(27),i=r(29),u=r(28),l=r(30),o=r(0),m=r.n(o),d=r(33),p=r(6),f=r(8),h=r(5),b=r(81),_=r(337),v=function(e){var t=["reuse-user__det"],r=["reuse-user__det--select"],s=m.a.createElement("img",{src:e.userDet.image,alt:""}),a=m.a.createElement("div",{className:"reuse-user__det--img__status reuse-user__det--img__status--on"});if(e.userDet.status||(a=m.a.createElement("div",{className:"reuse-user__det--img__status reuse-user__det--img__status--off"})),e.userDet.username&&!e.userDet.image&&(s=m.a.createElement(_.a,{name:e.userDet.username,size:"60",round:!0})),e.selectedUser.length>0){var n=!0,c=!1,i=void 0;try{for(var u,l=e.selectedUser[Symbol.iterator]();!(n=(u=l.next()).done);n=!0)u.value===e.id&&(t.push("reuse-user__det--clk"),r.push("reuse-user__det--select__clk > svg"))}catch(o){c=!0,i=o}finally{try{n||null==l.return||l.return()}finally{if(c)throw i}}}return m.a.createElement("div",{className:"reuse-user",onClick:e.selected},m.a.createElement("div",{className:t.join(" ")},m.a.createElement("div",{className:"reuse-user__det--img"},s,a),m.a.createElement("ul",{className:"reuse-user__det--user"},m.a.createElement("li",{className:"reuse-user__det--user__info"},m.a.createElement("a",{href:"/users/profile/"+e.userDet.id},e.userDet.username)),m.a.createElement("li",null,m.a.createElement("div",null,e.userDet.student)," Student")),m.a.createElement("div",{className:r.join(" ")},m.a.createElement(p.a,{icon:["fas","check-circle"]}))))},U=function(e){return e.content.map(function(t,r){return m.a.createElement(v,{key:r,userDet:t,selected:e.selected.bind(void 0,t),selectedUser:e.selectedUser,id:t.id})})},O=function(e){function t(){var e,r;Object(n.a)(this,t);for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];return(r=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={value:""},r.filterContentHandler=function(e){var t="userSelect"===r.props.curTab?[].concat(Object(a.a)(r.props.offlineUser),Object(a.a)(r.props.onlineUser)):r.props.users;r.props.onFilterUser(t,e.target.value),r.setState({value:e.target.value})},r}return Object(l.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.onFilterUser(this.props.users,""),this.props.onInputDefault()}},{key:"componentDidUpdate",value:function(){this.props.defaultValue&&(this.setState({value:""}),this.props.onInputDefault())}},{key:"render",value:function(){return m.a.createElement("input",{type:"search",className:"reuse-form__itm--tab__srch--input",autoFocus:!0,placeholder:"Enter username ...",onChange:this.filterContentHandler,value:this.state.value})}}]),t}(o.Component),E=Object(d.b)(function(e){return{users:e.form.users,defaultValue:e.form.defaultValue,offlineUser:e.form.offlineUser,onlineUser:e.form.onlineUser,curTab:e.form.curTab}},function(e){return{onFilterUser:function(t,r){return e(h.I(t,r))},onInputDefault:function(){return e(h.U())}}})(O),j=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=m.a.createElement(E,null);return m.a.createElement("div",{className:"reuse-form__itm--tab__srch--input-wrapper"},e)}}]),t}(o.Component);function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}var w=function(e){function t(){var e,r;Object(n.a)(this,t);for(var c=arguments.length,l=new Array(c),o=0;o<c;o++)l[o]=arguments[o];return(r=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={curTab:"online",showNewTab:!1,users:null,showInput:!1,userSelected:r.props.media.user?Object(a.a)(r.props.media.user):[],showUserSelect:!1},r.changeTabHandler=function(e){var t=null;t="online"===e?e:t,t="offline"===e?e:t,t="userselect"===e?e:t,r.props.onResetTab(),r.setState({curTab:t,showNewTab:!0,showUserSelect:"userselect"===t})},r.showSearchInputHandler=function(){r.setState(function(e,t){return{showInput:!e.showInput}}),r.state.showInput&&r.props.onFetchUsers(r.state.curTab)},r.selectedUserHandler=function(e){var t=Object(a.a)(r.state.userSelected);if(t.filter(function(t){return t===e.id}).length>0){var s=Object(a.a)(t.filter(function(t){return t!==e.id}));return r.setState({userSelected:s,showUserSelect:"userselect"===r.state.curTab}),void(r.props.media.user&&r.props.media.user.length>0&&r.props.onAddUserSelect(Object(f.e)(r.props.media,{user:s})))}t.push(e.id),r.setState({userSelected:t,showUserSelect:"userselect"===r.state.curTab}),r.props.media.user&&r.props.media.user.length>0&&r.props.onAddUserSelect(Object(f.e)(r.props.media,{user:t}))},r.submitMediaHandler=function(){var e=Object(a.a)(r.state.userSelected),t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(r,!0).forEach(function(t){Object(s.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},r.props.media);r.props.onSubmitMedia(Object(f.e)(t,{user:e}))},r.closeMediaBoxHandler=function(){r.props.onhideMediaBox()},r}return Object(l.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.onFetchUsers(this.state.curTab)}},{key:"componentDidUpdate",value:function(){if(this.state.showNewTab&&"userselect"!==this.state.curTab&&(this.props.onFetchUsers(this.state.curTab),this.setState({showNewTab:!1,users:this.props.users})),this.state.showUserSelect&&"userselect"===this.state.curTab){var e=Object(a.a)(this.state.userSelected),t=[].concat(Object(a.a)(this.props.onlineUser),Object(a.a)(this.props.offlineUser));this.props.onShowUserSelect(t,e),this.setState({users:this.props.users,showUserSelect:!1})}}},{key:"render",value:function(){var e=null,t=["reuse-form__itm--tab__cnt--selec"],r=null;return this.props.start&&(e=m.a.createElement(b.a,null)),this.props.users&&(e=m.a.createElement(U,{content:this.props.users,selected:this.selectedUserHandler,selectedUser:this.state.userSelected})),this.props.filteredUser&&(e=m.a.createElement(U,{content:this.props.filteredUser,selected:this.selectedUserHandler,selectedUser:this.state.userSelected})),"userselect"===this.state.curTab&&t.push("reuse-form__itm--tab__cnt--selec__active"),this.state.showInput&&(r=m.a.createElement("div",{className:"reuse-form__itm--tab__srch--wrapper"},m.a.createElement("div",{className:"reuse-form__itm--tab__srch--close",onClick:this.showSearchInputHandler},m.a.createElement(p.a,{icon:["fas","times"]})),m.a.createElement(j,null))),m.a.createElement("div",{className:"reuse-form__itm reuse-form__itm--user"},m.a.createElement("div",{className:"reuse-form__itm--tab"},m.a.createElement("ul",{className:"reuse-form__itm--tab__cnt"},m.a.createElement("li",{className:"online"===this.state.curTab?"active-content-tab":null,onClick:this.changeTabHandler.bind(this,"online")},"online"===this.state.curTab?m.a.createElement("div",{className:"active-content-tab__active"}):null,"Online"),m.a.createElement("li",{className:"offline"===this.state.curTab?"active-content-tab":null,onClick:this.changeTabHandler.bind(this,"offline")},"offline"===this.state.curTab?m.a.createElement("div",{className:"active-content-tab__active"}):null,"Offline"),m.a.createElement("li",{className:"userselect"===this.state.curTab?"active-content-tab":null,onClick:this.changeTabHandler.bind(this,"userselect")},"Users Selected","userselect"===this.state.curTab?m.a.createElement("div",{className:"active-content-tab__active"}):null,m.a.createElement("div",{className:t.join(" ")},this.state.userSelected.length))),m.a.createElement("div",{className:"reuse-form__itm--tab__srch"},m.a.createElement("div",{className:"reuse-form__itm--tab__srch--icn",onClick:this.showSearchInputHandler},m.a.createElement(p.a,{icon:["fas","search"],className:"icon icon__reuse-form--srch"})),r)),m.a.createElement("div",{className:"reuse-form__itm--det"},e),m.a.createElement("div",{className:"reuse-form__itm--footer reuse-form__btn"},m.a.createElement("button",{type:"button",className:"reuse-form__btn--close",onClick:this.closeMediaBoxHandler},"Exit"),m.a.createElement("button",{type:"button",className:"reuse-form__btn--add",onClick:this.submitMediaHandler,disabled:this.state.userSelected.length<1},"Share")))}}]),t}(o.Component);t.default=Object(d.b)(function(e){return{users:e.form.users,filteredUser:e.form.filteredUser,media:e.form.media,curTab:e.form.curTab,start:e.form.startUser,offlineUser:e.form.offlineUser,onlineUser:e.form.onlineUser}},function(e){return{onFetchUsers:function(t){return e(h.G(t))},onResetTab:function(){return e(h.Z())},onAddUserSelect:function(t){return e(h.kb(t))},onShowUserSelect:function(t,r){return e(h.eb(t,r))},onSubmitMedia:function(t){return e(h.jb(t))},onhideMediaBox:function(){return e(h.T())}}})(w)}}]);
//# sourceMappingURL=5.55e3021b.chunk.js.map