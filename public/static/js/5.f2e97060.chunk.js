(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{202:function(e,t,n){},203:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{!r&&c.return&&c.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),c=l(n(206)),s=l(n(207));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=i.Component,f=60,h=60*f,d=24*h,m=7*d,v=30*d,_=365*d,w=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.isStillMounted=!1,r.tick=function(e){if(r.isStillMounted&&r.props.live){var t=(0,s.default)(r.props.date).valueOf();if(t){var n=r.props.now(),a=Math.round(Math.abs(n-t)/1e3),o=a<f?1e3:a<h?1e3*f:a<d?1e3*h:0,i=Math.min(Math.max(o,1e3*r.props.minPeriod),1e3*r.props.maxPeriod);i&&(r.timeoutId&&clearTimeout(r.timeoutId),r.timeoutId=setTimeout(r.tick,i)),e||r.forceUpdate()}else console.warn("[react-timeago] Invalid Date provided")}},u(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p),o(t,[{key:"componentDidMount",value:function(){this.isStillMounted=!0,this.props.live&&this.tick(!0)}},{key:"componentDidUpdate",value:function(e){this.props.live===e.live&&this.props.date===e.date||(!this.props.live&&this.timeoutId&&clearTimeout(this.timeoutId),this.tick())}},{key:"componentWillUnmount",value:function(){this.isStillMounted=!1,this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0)}},{key:"render",value:function(){var e=this.props,t=e.date,n=e.formatter,o=e.component,l=(e.live,e.minPeriod,e.maxPeriod,e.title),u=e.now,p=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["date","formatter","component","live","minPeriod","maxPeriod","title","now"]),w=(0,s.default)(t).valueOf();if(!w)return null;var g=u(),y=Math.round(Math.abs(g-w)/1e3),b=w<g?"ago":"from now",E=y<f?[Math.round(y),"second"]:y<h?[Math.round(y/f),"minute"]:y<d?[Math.round(y/h),"hour"]:y<m?[Math.round(y/d),"day"]:y<v?[Math.round(y/m),"week"]:y<_?[Math.round(y/v),"month"]:[Math.round(y/_),"year"],C=a(E,2),O=C[0],N=C[1],F="undefined"===typeof l?"string"===typeof t?t:(0,s.default)(t).toISOString().substr(0,16).replace("T"," "):l,S="time"===o?Object.assign({},p,{dateTime:(0,s.default)(t).toISOString()}):p,k=c.default.bind(null,O,N,b);return i.createElement(o,r({},S,{title:F}),n(O,N,b,w,k,u))}}]),t}();w.displayName="TimeAgo",w.defaultProps={live:!0,component:"time",minPeriod:0,maxPeriod:1/0,formatter:c.default,now:function(){return Date.now()}},t.default=w},204:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n,r,o,i,c){var s=c();if("week"===n&&!e.week&&!e.weeks){var l=Math.round(Math.abs(o-s)/864e5);t=l,n="day"}var u=a(t,s-o,null!=e.numbers?e.numbers:void 0),p=[];"ago"===r&&e.prefixAgo&&p.push(u(e.prefixAgo)),"from now"===r&&e.prefixFromNow&&p.push(u(e.prefixFromNow));var f=t>1;if(f){var h=e[n+"s"]||e[n]||"%d "+n;p.push(u(h))}else{var d=e[n]||e[n+"s"]||"%d "+n;p.push(u(d))}"ago"===r&&e.suffixAgo&&p.push(u(e.suffixAgo)),"from now"===r&&e.suffixFromNow&&p.push(u(e.suffixFromNow));var m="string"===typeof e.wordSeparator?e.wordSeparator:" ";return p.join(m)}};!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(0));var r=function(e,t){return e&&10===e.length?String(t).split("").map(function(t){return t.match(/^[0-9]$/)?e[parseInt(t)]:t}).join(""):String(t)},a=function(e,t,n){return function(a){return"function"===typeof a?a(e,t).replace(/%d/g,r(n,e)):a.replace(/%d/g,r(n,e))}}},206:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){1!==e&&(t+="s");return e+" "+t+" "+n};!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(0))},207:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new Date(e);if(!Number.isNaN(t.valueOf()))return t;var n=String(e).match(/\d+/g);if(null==n||n.length<=2)return t;var a=n.map(function(e){return parseInt(e)}),o=(p=a,Array.isArray(p)?p:Array.from(p)),i=o[0],c=o[1],s=o.slice(2),l=[i,c-1].concat(r(s)),u=new Date(Date.UTC.apply(Date,r(l)));return u;var p}},220:function(e,t,n){},226:function(e,t,n){"use strict";n.r(t);var r=n(12),a=n(13),o=n(15),i=n(14),c=n(16),s=n(0),l=n.n(s),u=n(17),p=n(37),f=n(203),h=n.n(f),d=n(204),m=n.n(d),v=n(85),_=(n(220),n(202),n(7)),w=n(29),g=n(2),y=n(44),b=function(e){var t=m()(g.c),n=null,r=["reuse-pwt__content--det__user--det"],a=["reuse-pwt__content--det__user--det__opt"],o=null,i=null,c=l.a.createElement("li",{className:"reuse-pwt__content--det__user--det__opt--status",onClick:e.changeCnt},l.a.createElement(_.a,{icon:["far","eye-slash"],className:"icon icon__reuse-pwt--options__dft"}),"Draft"),s=l.a.createElement(_.a,{icon:["far","heart"],className:"icon icon__reuse-pwt--footer__heart"}),u=l.a.createElement("img",{src:e.pwt.userImage,alt:""});"draft"===e.pwt.mode&&(c=l.a.createElement("li",{className:"reuse-pwt__content--det__user--det__opt--status",onClick:e.changeCntPublish},l.a.createElement(_.a,{icon:["far","eye"],className:"icon icon__reuse-pwt--options__dft"}),"Publish")),e.pwt.username&&!e.pwt.userImage&&(u=l.a.createElement(v.a,{name:e.pwt.username,size:"50",round:!0}));var p=!0,f=!1,d=void 0;try{for(var b,E=e.changedFav[Symbol.iterator]();!(p=(b=E.next()).done);p=!0){var C=b.value;e.pwt._id===C.id&&(o=C.favAdd,i=C.liked)}}catch(N){f=!0,d=N}finally{try{p||null==E.return||E.return()}finally{if(f)throw d}}e.showCnt&&e.showCnt.visible&&e.showCnt.id===e.pwt._id&&(r.push("reuse-pwt__content--det__user--det__clk"),a.push("reuse-pwt__content--det__user--det__opt--visible")),e.pwt.userOpt&&(n=l.a.createElement("div",{className:r.join(" "),onClick:e.userOpt},l.a.createElement("div",{className:"reuse-pwt__content--det__user--det__mid"}),l.a.createElement("ul",{className:a.join(" ")},l.a.createElement("li",null,l.a.createElement("a",{href:"/edit/poet/".concat(e.pwt._id)},l.a.createElement(_.a,{icon:["far","edit"],className:"icon icon__reuse-pwt--options"}),"Edit")),c,l.a.createElement("li",{onClick:e.deleteCnt},l.a.createElement(_.a,{icon:["far","trash-alt"],className:"icon icon__reuse-pwt--options"}),"Delete")))),e.pwt.liked&&null===i&&(s=l.a.createElement(_.a,{icon:["fas","heart"],className:"icon icon__reuse-pwt--footer__heart"})),i&&(s=l.a.createElement(_.a,{icon:["fas","heart"],className:"icon icon__reuse-pwt--footer__heart"}));var O=l.a.createElement("div",{className:"reuse-pwt"},l.a.createElement("div",{className:"reuse-share"},l.a.createElement("div",{className:"reuse-share__icn",onClick:e.share},l.a.createElement(_.a,{icon:["fas","location-arrow"],className:"icon icon__reuse-share--icn"}))),l.a.createElement("div",{className:"reuse-pwt__content"},l.a.createElement("div",{className:"reuse-pwt__content--tag"},l.a.createElement("span",null,l.a.createElement(_.a,{icon:e.pwt.category.length>1?["fas","tags"]:["fas","tag"],className:"icon icon__reuse-pwt--header__tag"}),e.pwt.category[0])),l.a.createElement("div",{className:"reuse-pwt__content--title"},l.a.createElement("div",{className:"reuse-pwt__content--title__wrapper"},l.a.createElement("a",{href:"/view/poet/"+e.pwt._id},String(e.pwt.title).length>149?String(e.pwt.title).substr(0,150)+"...":e.pwt.title))),l.a.createElement("div",{className:"reuse-pwt__content--det"},l.a.createElement("div",{className:"reuse-pwt__content--det__user"},l.a.createElement("div",{className:"reuse-pwt__content--det__user--img"},u),l.a.createElement("a",{href:"/user/profile/"+e.pwt.authorID}," ",String(e.pwt.username).substr(0,8)," "),l.a.createElement("div",{className:"reuse-pwt__content--det__user--time"},"@ ",l.a.createElement(h.a,{date:e.pwt.pwtCreated,live:!1,formatter:t})),n))),l.a.createElement("ul",{className:"reuse-pwt__footer"},l.a.createElement("li",null,l.a.createElement(_.a,{icon:["far","smile"],className:"icon icon__reuse-pwt--footer__smile"}),Object(g.d)(e.pwt.helpFull)),l.a.createElement("li",null,l.a.createElement("span",{onClick:e.fav},s),Object(g.d)(null!==o?o:e.pwt.favorite),e.favChange&&e.favChange.id===e.pwt._id?l.a.createElement(y.a,{liked:e.favChange.isLiked}):null),l.a.createElement("li",null,l.a.createElement(_.a,{icon:["far","comment-dots"],className:"icon icon__reuse-pwt--footer__comments"}),Object(g.d)(e.pwt.comment))));return l.a.createElement(w.a,null,O)},E=function(e){return e.content.map(function(t,n){return l.a.createElement(b,{key:n,pwt:t,media:e.media,userOpt:e.userOpt.bind(void 0,t._id),showCnt:e.showCntOpt,fav:e.fav.bind(void 0,t._id,t.liked,t.favorite,"poet"),changedFav:e.changedFav,favChange:e.favChange,share:e.share.bind(void 0,t._id),deleteCnt:e.changeCnt.bind(void 0,t._id,t.title,"delete","poet"),changeCnt:e.changeCnt.bind(void 0,t._id,t.title,"draft","poet")})})},C=n(23),O=n(54),N=n(5),F=function(e){function t(e){var n;Object(r.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).onScroll=function(){document.documentElement.scrollHeight-document.documentElement.scrollTop===document.documentElement.clientHeight&&n.props.onFetchCnt(n.props.userID,"poet",n.state.fetchLimit,n.props.skipCnt+n.state.fetchLimit,n.props.cntTotal)},n.showUserOptHandler=function(e){if(n.state.cntOpt&&n.state.cntOpt.id===e)n.setState(function(e,t){return{cntOpt:Object(g.f)(e.cntOpt,{visible:!e.cntOpt.visible})}});else{var t={visible:!0,id:e};n.setState({cntOpt:t})}},n.changeFavoriteHandler=function(e,t,r,a){n.props.onChangeFav(e,t,r,n.props.changedFav,n.props.userID,a)},n.showShareHandler=function(e){n.props.onChangeShareID(e,"poet"),n.props.history.push("/index/poet/share")},n.changeCntHandler=function(e,t,r,a){var o=String(t).length>50?String(t).substr(0,50)+"...":t;n.props.onChangeCnt(e,o,r,!1,a)},n.props.onFetchCntReset();var a=0;return a=window.innerHeight>=1200?6:window.innerHeight>=900?4:window.innerHeight>=500?3:2,n.state={cntOpt:null,fetchLimit:a,filterTag:"poet",mediaItms:[],animateItm:null,removeAnim:!1,removePrevMedia:null,playerIcnId:null,animationComplete:!0,scrollEnable:!1},n}return Object(c.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){this.props.onFetchCnt(this.props.userID,this.state.filterTag,this.state.fetchLimit,0,0),this.props.onChangeTag("/poet")}},{key:"componentDidUpdate",value:function(){this.props.cnts&&this.props.cnts.length>0&&!this.state.scrollEnable&&(window.addEventListener("scroll",this.onScroll,!1),this.setState({scrollEnable:!0}))}},{key:"componentWillUnmount",value:function(){this.props.onFetchCntReset(),window.removeEventListener("scroll",this.onScroll,!1)}},{key:"render",value:function(){this.props.onFetchShareActive(),this.props.onFetchShareCntActive(),this.props.onFetchNotifyActive(),this.props.onFetchPtActive(),this.props.onFetchQueActive(),this.props.onFetchCntActive(),this.props.onFetchReqActive();var e=l.a.createElement(C.a,null);return this.props.cntErr&&(e=null),this.props.cnts&&0===this.props.cnts.length&&(e=l.a.createElement(O.a,{isAuth:null!==this.props.userID,det:"No content found!",icn:"clone",filter:!0})),this.props.cnts&&0===this.props.cnts.length&&(e=l.a.createElement(O.a,{isAuth:null!==this.props.userID,det:"No content found!",icn:"clone",filter:!0})),this.props.cnts&&this.props.cnts.length>0&&(e=l.a.createElement(E,{content:this.props.cnts,media:this.props.media,userOpt:this.showUserOptHandler,showCntOpt:this.state.cntOpt,fav:this.changeFavoriteHandler,changedFav:this.props.changedFav,favChange:this.props.favChange,share:this.showShareHandler,changeCnt:this.changeCntHandler})),e}}]),t}(s.Component);t.default=Object(p.f)(Object(u.b)(function(e){return{userID:e.auth.userID,cnts:e.cnt.cnts,cntErr:e.cnt.cntErr,skipCnt:e.cnt.skipCnt,cntTotal:e.cnt.cntTotal,changedFav:e.cnt.changedFav,favChange:e.cnt.favChange,filterDet:e.cnt.filterDet}},function(e){return{onFetchShareActive:function(){return e(N.Z())},onFetchShareCntActive:function(){return e(N.Y())},onFetchNotifyActive:function(){return e(N.P())},onFetchPtActive:function(){return e(N.R())},onFetchQueActive:function(){return e(N.T())},onFetchCntActive:function(){return e(N.z())},onFetchReqActive:function(){return e(N.V())},onFetchCnt:function(t,n,r,a,o){return e(N.C(t,n,r,a,o))},onFetchCntReset:function(){return e(N.D())},onChangeFav:function(t,n,r,a,o,i){return e(N.h(t,n,r,a,o,i))},onChangeShareID:function(t,n){return e(N.Eb(t,n))},onChangeTag:function(t){return e(N.p(t))},onChangeCnt:function(t,n,r,a,o){return e(N.d(t,n,r,a,o))}}})(F))}}]);
//# sourceMappingURL=5.f2e97060.chunk.js.map