{"version":3,"sources":["containers/SiteMain/Chat/axios.js","containers/SiteMain/Chat/shared/utility.js","containers/SiteMain/Chat/Loader/Loader.js","containers/SiteMain/Chat/ChatBox/Chats/Chat/Edits/Edit/Edit.js","containers/SiteMain/Chat/ChatBox/Chats/Chat/Edits/Edits.js","containers/SiteMain/Chat/ChatBox/Chats/Chat/Chat.js","containers/SiteMain/Chat/ChatBox/Chats/Chats.js","containers/SiteMain/Chat/ChatBox/utility.js","containers/SiteMain/Chat/ChatBox/ChatBox.js","containers/SiteMain/Chat/Footer/Footer.js","containers/SiteMain/Chat/Footer/Snapshot/Snapshot.js","containers/SiteMain/Chat/Footer/VideoRec/VideoRec.js","containers/SiteMain/Chat/Chat.js"],"names":["instance","axios","create","baseURL","defaults","headers","common","post","getImageURL","image","canvas","document","createElement","Promise","resolve","reject","getContext","width","videoWidth","height","videoHeight","drawImage","toBlob","blob","socket","io","chunks","webCameraApi","socketConnect","mediaRecorder","cnt","opt","format","formatType","type","socketKey","stop","onstop","e","Blob","stream","getTracks","forEach","track","file","chatID","uuid","navigator","mediaDevices","getUserMedia","constraints","webkitGetUserMedia","mozGetUserMedia","call","then","MediaRecorder","start","ondataavailable","push","data","catch","err","loader","props","loaderClass","loadingClass","nav","main","bg","react_default","a","className","join","edit","hstClass","replyClass","audioCnt","controls","src","concat","msg","videoCnt","imageCnt","alt","typedPlain","docContent","typedCnt","cntType","delete","upload","pending","Fragment","main_default","Object","assign","extension","substr","defaultStyles","size","href","onClick","download","bind","index_es","icon","filterChat","replace","percentage","selected","length","_step","_iterator","createForOfIteratorHelper","s","n","done","value","f","editChat","chatCnt","onDoubleClick","hold","cntID","ID","dangerouslySetInnerHTML","__html","userID","position","edits","arraySort","cnts","reverse","map","index","Edit","key","users","userImage","chats","time","reply","Edits","timeFrame","dist_default","calendar","sameDay","nextDay","nextWeek","lastDay","lastWeek","sameElse","username","react_avatar_es","name","round","status","mainID","_step2","_iterator2","user","id","date","created","ChatBox_Chats_Chat_Chat","fetchChat","chat","updateChat","curPos","Date","setHours","beginning","getTime","content","updateCnt","objectSpread2","createChatStart","msgType","msgID","lastChat","editMsg","sent","viewed","filter","findIndex","filterReply","replyCnt","filterIndex","addNewChat","curIndex","apply","toConsumableArray","uploadMediaStart","tempchat","replyID","holdChat","chatSelected","chatRemoved","_step3","_iterator3","_loop","ChatBox","state","searchTotal","scrollEnable","_this","match","params","cookie","chatLimit","removeSelected","typing","chatStart","addChat","chatTotal","skipChat","chatLoaded","uploadMedia","removeChat","defaultTemp","scrolled","onScroll","querySelector","scrollTop","data-categ","res","setState","chatHoldHandler","chatReleasedHandler","clearTimeout","downloadHandler","url","saveAs","_this2","this","these","on","JSON","stringify","chatHold","chatBoxWrapper","addEventListener","scrollHeight","querySelectorAll","clientHeight","createChat","Loader_Loader","Chats","released","message","toString","Component","withRouter","Footer","addItm","audioRec","vidRec","addImage","showEmoji","disable","resend","addItem","chatCntHandler","event","target","trimLeft","assertThisInitialized","emit","showBackdrop","stopTypingHandler","createChatHandler","showAddItmHandler","prevState","msgCateg","audioRecorderHandler","audio","media","videoRecHandler","videoRec","snapshotHandler","snapshot","addImageHandler","click","addAudioHandler","addDocHandler","addVideoHandler","selectMediaHandler","stopPropagation","preventDefault","files","handleFiles","i","split","emojiHandler","addEmojiHandler","native","shareLocationHandler","window","geolocation","getCurrentPosition","fetchedLocation","lat","coords","latitude","lng","longitude","loc","get","error_message","results","formatted_address","timeout","closeModelBackdropHandler","submit","formContent","FormData","ext","pop","append","onUploadProgress","progressEvent","lengthComputable","Math","loaded","total","mediaUploaded","closeContent","connect","resendChat","startRecClass","userOpt","shareOpt","emojiCnt","multiple","onChange","accept","dist_es","set","onSelect","style","bottom","left","transform","zIndex","onSubmit","placeholder","autoFocus","onKeyUp","onMouseLeave","disabled","videoRef","React","createRef","Snapshot","stopRecHandler","current","imageData","srcObject","getVideoTracks","closeMedia","closeRecHandler","video","ref","autoPlay","VideoCam","Chat","classCallCheck","_super","userAuthHandler","auth","closeAroundmeHandler","history","showBackdropHandler","isShow","closeBackdropHandler","createChatStartHandler","addNewChatHandler","uploadMediaStartHandler","mediaUploadedHandler","holdChatHandler","editChatHandler","deleteChatHandler","closeSelectedHandler","closeMediaHandler","expiresIn","userDet","room","host","public","disconnected","chatOpt","deleteClass","Chat_ChatBox_ChatBox","Chat_Footer_Footer","Footer_Snapshot_Snapshot","VideoRec_VideoRec"],"mappings":"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","file":"static/js/5.c71b7e96.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://www.slodge24.com'\r\n});\r\ninstance.defaults.headers.common['authorization'] = 'authorization';\r\ninstance.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded'\r\nexport default instance;","import io from 'socket.io-client';\r\nimport uuid from 'uuid';\r\nimport axios from '../axios'\r\n\r\nexport const updateObject = (oldObject, updatedProperties) => {\r\n    return {\r\n        ...oldObject,\r\n        ...updatedProperties\r\n    }\r\n}\r\n\r\nexport const transformNumber = (favNumber) => {\r\n    const favNumArray = String(favNumber).split(\"\");\r\n    \r\n    if (favNumArray.length === 4 ) {\r\n        return `${favNumArray[0]}K`\r\n    }\r\n\r\n    if (favNumArray.length === 5 ) {\r\n        const favNum = favNumArray[0] + favNumArray[1]\r\n        return `${favNum}K`\r\n    }\r\n\r\n    if (favNumArray.length === 6 ) {\r\n        const favNum = favNumArray[0] + favNumArray[1] + favNumArray[2];\r\n        return `${favNum}K`\r\n    }\r\n\r\n    if (favNumArray.length === 7 ) {\r\n        const favNum = favNumArray[0];\r\n        return `${favNum}M`\r\n    }\r\n\r\n    if (favNumArray.length === 8 ) {\r\n        const favNum = favNumArray[0] + favNumArray[1];\r\n        return `${favNum}M`\r\n    }\r\n\r\n    if (favNumArray.length === 9 ) {\r\n        const favNum = favNumArray[0] + favNumArray[1] + favNumArray[2];\r\n        return `${favNum}M`\r\n    }\r\n\r\n    if (favNumArray.length === 10 ) {\r\n        const favNum = favNumArray[0];\r\n        return `${favNum}B`\r\n    }\r\n\r\n    if (favNumArray.length === 11 ) {\r\n        const favNum = favNumArray[0] + favNumArray[1];\r\n        return `${favNum}B`\r\n    }\r\n\r\n    return favNumber\r\n};\r\n\r\n\r\nexport const transformString = (val) => {\r\n    const curVal = String(val).substr(0, 115);\r\n    return curVal;\r\n};\r\n\r\nexport function changeFav(datas, dataID) {\r\n    const dataArray = [...datas];\r\n    let dtIndex;\r\n    let dtArray = dataArray.filter((data, index) => {\r\n        if (data.id === dataID) {\r\n            dtIndex = index\r\n            return true\r\n        }\r\n        return false\r\n    });\r\n\r\n   if (dtArray.length > 0) {\r\n    let data = dtArray[0];\r\n    data = updateObject(data, {liked: !data.liked})\r\n\r\n    if (data.liked) {\r\n        data = updateObject(data, {favorite: data.favorite + 1})\r\n\r\n    } else {\r\n        data = updateObject(data, {favorite: data.favorite - 1})\r\n    }\r\n\r\n    const updateDataArray = [...dataArray];\r\n    updateDataArray[dtIndex] = data;\r\n    let updateStartArray = [...updateDataArray];\r\n    data = updateObject(data, {changeFavActive: data.liked})\r\n    updateStartArray[dtIndex] = data;\r\n    return {\r\n        updateStartArray,\r\n        updateDataArray \r\n    }\r\n   }\r\n\r\n   return dataArray;\r\n};\r\n\r\nexport const checkValidity = (value, rules) => {\r\n    let isValid = true;\r\n\r\n    if (!rules) {\r\n        return true;\r\n    }\r\n\r\n    if (rules.required) {\r\n        isValid =  value.trim() !== '' && isValid;\r\n    }\r\n\r\n    if (rules.minLength) {\r\n        isValid =  value.length >= rules.minLength  && isValid\r\n    }\r\n\r\n    return isValid;\r\n}\r\n\r\nexport const getSnapshot = (url, mediaType) => {\r\n    return new Promise ((resolve, reject) => {\r\n            let media = document.createElement(mediaType);\r\n            function multipleEventListener(el, mediaLoadHandler) {\r\n                'loadedmetadata loadeddata suspend'.split(' ').forEach(event => {\r\n                    el.addEventListener(event, mediaLoadHandler, false)\r\n                })\r\n            }\r\n            media.onerror = function() {\r\n                reject(media.error.message);\r\n            }\r\n            media.src = url;\r\n            multipleEventListener(media, mediaLoadHandler)\r\n            let event_fired = 0;\r\n            function mediaLoadHandler() {\r\n                if (++event_fired === 3) {\r\n                    media.currentTime = 1;\r\n                    media.addEventListener('seeked', function(event) {\r\n                        resolve();\r\n                    })\r\n                }\r\n            }\r\n    })\r\n}\r\n\r\nexport const getImageURL = image => {\r\n    let canvas = document.createElement('canvas');\r\n    return new Promise((resolve, reject) => {\r\n        if (canvas.getContext) {\r\n                canvas.width = image.videoWidth;\r\n                canvas.height = image.videoHeight;\r\n                canvas.getContext('2d').drawImage(image, 0, 0);\r\n                canvas.toBlob((blob) => {\r\n                    resolve(blob)\r\n                });\r\n        } else {\r\n            reject('Please update your Browser')\r\n        }\r\n    })\r\n}\r\n\r\nexport const engStrings = {\r\n    suffixAgo: 'ago',\r\n    seconds: 'sec',\r\n    minute: '%d min',\r\n    minutes: '%d min',\r\n    hour: '%d hr',\r\n    hours: '%d hrs',\r\n    day: '%d day',\r\n    days: '%d days',\r\n    month: '%d month',\r\n    months: '%d months',\r\n    year: '%d yr',\r\n    years: '%d yrs'\r\n  };\r\n\r\n  export const socket = io(`https://www.slodge24.com`);\r\n\r\n  let chunks = [];\r\n  export const webCameraApi = (socketConnect, mediaRecorder, cnt, opt, format, formatType,type, socketKey) => {\r\n    return new Promise((resolve, reject) => {\r\n        if (!cnt) {\r\n            chunks = []\r\n            if (!('mediaDevices' in navigator)) {\r\n                navigator.mediaDevices = {};\r\n            }\r\n            \r\n            if (!('getUserMedia' in navigator.mediaDevices)) {\r\n                navigator.mediaDevices.getUserMedia = function(constraints) {\r\n                var getUserMedia = navigator.webkitGetUserMedia || navigator.mozGetUserMedia;\r\n            \r\n                if (!getUserMedia) {\r\n                    return reject('getUserMedia is not implemented!');\r\n                }\r\n            \r\n                return new Promise(function(resolve, reject) {\r\n                    getUserMedia.call(navigator, constraints, resolve, reject);\r\n                });\r\n                }\r\n            }\r\n            navigator.mediaDevices.getUserMedia(opt)\r\n                .then(function(stream) {\r\n                    let mediaRecorder = new MediaRecorder(stream);\r\n                    mediaRecorder.start();\r\n                    mediaRecorder.ondataavailable = function(e) {\r\n                        chunks.push(e.data);\r\n                    }\r\n                    resolve({mediaRecorder, stream})\r\n                })\r\n                .catch(function(err) {\r\n                    reject(err)\r\n                });   \r\n        } else {\r\n            mediaRecorder.stop();\r\n            mediaRecorder.onstop = function(e) {\r\n                var blob = new Blob(chunks, { 'type' : format });\r\n                chunks = [];\r\n                mediaRecorder.stream.getTracks().forEach( track => \r\n                    track.stop())\r\n                resolve([{file: blob, type, format: formatType, chatID: uuid()}])\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\nexport function changeMode (oldCnts,changeCntStart,field, isUpdate) {\r\n    let cnts = [{...oldCnts}];\r\n    let curIndex;\r\n\r\n    let user = cnts.filter((userFnd, index) => {\r\n        curIndex = index;\r\n        return userFnd.id === changeCntStart.id;\r\n    });\r\n    if (user.length > 0) {\r\n        user[0].pending = false;\r\n        user[0].request = false;\r\n        user[0].accept = false;\r\n        user[0][field] = isUpdate;\r\n        cnts[curIndex] = user[0];\r\n       return {...cnts[0]};\r\n    }\r\n    return oldCnts\r\n  }\r\n\r\n  export const createChat = (url, category, cnt) => {\r\n      return new Promise((resolve, reject) => {\r\n          axios.post(url, cnt, {headers: {'data-categ': category}}).then(res => {\r\n              if (res) {\r\n                resolve(res.data)\r\n              }\r\n          }).catch(err => {\r\n              reject(err)\r\n          })\r\n      })\r\n  }","import React from 'react';\r\n\r\nimport './Loader.css';\r\nconst loader = props => {\r\n    let loaderClass = ['global'];\r\n    let loadingClass = [''];\r\n    let cnt = \"Loading ....\";\r\n    if (props.nav) {\r\n        loaderClass.push('global-nav')\r\n        loadingClass.push('global-load')\r\n    }\r\n\r\n    if (props.cnt) {\r\n        cnt = props.cnt;\r\n    }\r\n    \r\n    if (props.main) {\r\n        loaderClass.push('global-bg')\r\n    }\r\n\r\n    if (props.bg) {\r\n        loaderClass.push('global-nav-nobg')\r\n    }\r\n\r\n    return (\r\n        <section className={loaderClass.join(' ')}>\r\n        <div className=\"global__wrapper\">\r\n        <div>\r\n            <div className=\"top mask\">\r\n            <div className=\"plane\"></div>\r\n            </div>\r\n            <div className=\"middle mask\">\r\n            <div className=\"plane\"></div>\r\n            </div>\r\n            <div className=\"bottom mask\">\r\n            <div className=\"plane\"></div>\r\n            </div>\r\n        </div>\r\n        <p className={loadingClass.join(' ')}>{cnt}</p>\r\n        </div>\r\n    </section>\r\n    )\r\n}\r\n\r\nexport default loader;","import React from 'react';\r\nimport FileIcon, { defaultStyles } from 'react-file-icon';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nconst edit = (props) => {\r\n    let hstClass = ['site-main__chat--box__hst--cnt__wrapper'];\r\n    let replyClass = ['site-main__chat--box__reply--cnt__wrapper'];\r\n    let audioCnt = (\r\n        <audio controls src={`https://www.slodge24.com/media/audio/${props.cnt.msg}.${props.cnt.format}`}>\r\n            <p>Your browser does not support this feature</p>\r\n        </audio>\r\n    );\r\n    let videoCnt = (\r\n        <video controls src={`https://www.slodge24.com/media/video/${props.cnt.msg}.${props.cnt.format}`}>\r\n            <p>Your browser does not support this feature</p>\r\n        </video>\r\n    );\r\n\r\n    let imageCnt =(\r\n        <img src={`https://www.slodge24.com/media/image/${props.cnt.msg}.${props.cnt.format}`} alt=\"\"/>\r\n    )\r\n    \r\n    let typedPlain = props.cnt.msg;\r\n\r\n    let docContent = null;\r\n    let typedCnt = null;\r\n\r\n    if (props.cnt.cntType !== 'audio' && props.cnt.cntType !== 'media' &&\r\n    props.cnt.cntType !== 'image' && props.cnt.cntType !== 'typedPlain' && !props.cnt.delete && !props.cnt.upload && !props.cnt.pending) {\r\n        docContent = (\r\n            <>\r\n                <FileIcon \r\n                    extension={props.cnt.format ? props.cnt.format.substr(0, 7) : props.cnt.format} \r\n                    {...defaultStyles[props.cnt.format]} \r\n                    size={100}/>\r\n                <div \r\n                    href={`https://www.slodge24.com/media/${props.cnt.cntType}/${props.cnt.msg}.${props.cnt.format}`}  \r\n                    onClick={props.download.bind(this, `https://www.slodge24.com/media/${props.cnt.cntType}/${props.cnt.msg}.${props.cnt.format}`, `${props.cnt.msg}.${props.cnt.format}`)}\r\n                    className=\"site-main__chat--box__download\"> \r\n                    <FontAwesomeIcon  icon={['fas', 'download']} className=\"icon icon__site-main--chat__box--dwn\"/> \r\n                    download\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n\r\n    if (props.filterChat && props.cnt.cntType === 'typedPlain') {\r\n        typedCnt = typedPlain.replace(props.filterChat, `<span class=\"site-main__chat--srch__highlight\">${props.filterChat}</span>`);\r\n        typedPlain = null;\r\n    }\r\n\r\n    if (props.cnt.upload) {\r\n        docContent = (\r\n            <div className=\"site-main__chat--box__upload\">\r\n                <div className=\"site-main__chat--box__upload--loader\">\r\n                    {/* <div className=\"site-main__chat--box__upload--loader__close\">\r\n                        <FontAwesomeIcon icon={['fas', 'times']} className=\"icon icon__site-main--chat__close\"/>\r\n                    </div> */}\r\n                    <div className={`c100 p${props.cnt.percentage}`}>\r\n                        <span>{props.cnt.percentage}%</span>\r\n                        <div className=\"slice\">\r\n                            <div className=\"bar\"></div>\r\n                            <div className=\"fill\"></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <h4 className=\"site-main__chat--box__upload--cnt\">\r\n                    { props.cnt.cntType }\r\n                </h4>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if (props.selected && props.selected.length > 0)  {\r\n        for (let cnt of props.selected) {\r\n            if ((cnt.chatID  === props.cnt.chatID)) {\r\n                hstClass.push('site-main__chat--box__highlight')\r\n                replyClass.push('site-main__chat--box__highlight')\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\n    if (props.editChat && props.editChat.chatID) {\r\n        if ((props.editChat.chatID  === props.cnt.chatID)) {\r\n            hstClass.push('site-main__chat--box__highlight-edit')\r\n            replyClass.push('site-main__chat--box__highlight-edit')\r\n        }\r\n    }\r\n\r\n    if (props.cnt.delete) {\r\n        hstClass.push('site-main__chat--box__chat-del');\r\n        replyClass.push('site-main__chat--box__chat-del');\r\n    }\r\n\r\n    let chatCnt = (\r\n        <div \r\n            className={hstClass.join(' ')}\r\n            onDoubleClick={!props.cnt.upload && !props.cnt.delete && !props.cnt.pending ? props.hold.bind(this, props.cntID, props.cnt.chatID, props.cnt.ID) : null}>\r\n            <div dangerouslySetInnerHTML={{\r\n                    __html: typedCnt\r\n                }}></div>\r\n                { !props.cnt.upload ? !props.cnt.delete ? props.cnt.cntType === 'audio' ? audioCnt :\r\n                        props.cnt.cntType === 'media' ? videoCnt :\r\n                        props.cnt.cntType === 'image' ? imageCnt : \r\n                        props.cnt.cntType === 'typedPlain' ? typedPlain : null : 'Deleted': null}\r\n                {docContent }  \r\n                {!props.cnt.delete && props.cnt.ID === props.userID ? \r\n                        <div className={!props.cnt.pending ? \"site-main__chat--box__check-hst site-main__chat--box__check--mark\" : \"site-main__chat--box__check-hst\"}>\r\n                            <FontAwesomeIcon  icon={['fas', 'check-circle']}/> \r\n                        </div> : null}\r\n        </div>\r\n    )\r\n   \r\n    if (props.cnt.position % 2 !== 0) {\r\n        chatCnt = (\r\n            <div \r\n                className={replyClass.join(' ')}\r\n                onDoubleClick={!props.cnt.upload && !props.cnt.delete && !props.cnt.pending ? props.hold.bind(this, props.cntID, props.cnt.chatID, props.cnt.ID) : null}>\r\n                <div dangerouslySetInnerHTML={{\r\n                        __html: typedCnt\r\n                    }}></div>\r\n                { !props.cnt.upload ? !props.cnt.delete ? props.cnt.cntType === 'audio' ? audioCnt :\r\n                    props.cnt.cntType === 'media' ? videoCnt :\r\n                    props.cnt.cntType === 'image' ? imageCnt : \r\n                    props.cnt.cntType === 'typedPlain' ? typedPlain : null : 'Deleted' : null}\r\n                {docContent } \r\n                {!props.cnt.delete && props.cnt.ID === props.userID ? \r\n                    <div className={!props.cnt.pending ? \"site-main__chat--box__check-reply site-main__chat--box__check--mark\" : \"site-main__chat--box__check-reply\"}>\r\n                        <FontAwesomeIcon  icon={['fas', 'check-circle']}/> \r\n                    </div> : null}\r\n            </div> \r\n        )\r\n    }\r\n    \r\n    return (\r\n        <>\r\n            { chatCnt }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default edit;","import React from 'react';\r\nimport arraySort from 'array-sort';\r\n\r\nimport Edit from './Edit/Edit';\r\n\r\nconst edits = (props) =>{\r\n    let content= arraySort(props.cnts, 'created', {reverse: false});\r\n    let allChat = content.map((cnt, index) => (\r\n            <Edit \r\n                key={index}\r\n                cnt={cnt}\r\n                users={props.users}\r\n                userImage={props.userImage}\r\n                filterChat={props.filterChat}\r\n                cntID={props.cntID}\r\n                hold={props.hold}\r\n                selected={props.selected}\r\n                editChat={props.editChat}\r\n                userID={props.userID}\r\n                download={props.download}/>\r\n        ))\r\n\r\n        return allChat;\r\n}\r\n\r\nexport default edits;","import React from 'react';\r\nimport Moment from 'react-moment';\r\nimport FileIcon, { defaultStyles } from 'react-file-icon';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport Avatar from 'react-avatar';\r\n\r\nimport Edits from './Edits/Edits';\r\nimport './Chat.css';\r\n\r\nconst chats = (props) => {\r\n    let time = null;\r\n    let hstClass = ['site-main__chat--box__hst--cnt__wrapper'];\r\n    let replyClass = ['site-main__chat--box__reply--cnt__wrapper'];\r\n    let edit = null;\r\n\r\n    const calendarStrings = {  \r\n        sameDay: '[Today]',\r\n        nextDay: '[Tomorrow]',\r\n        nextWeek: 'dddd',\r\n        lastDay: '[Yesterday]',\r\n        lastWeek: '[Last] dddd',\r\n        sameElse: 'DD/MM/YYYY'\r\n    };\r\n\r\n    if (props.cnt.reply) {\r\n        edit = <Edits\r\n            cnts={props.cnt.reply}\r\n            users={props.users}\r\n            userImage={props.userImage}\r\n            filterChat={props.filterChat}\r\n            cntID={props.cnt.chatID}\r\n            hold={props.hold}\r\n            selected={props.selected}\r\n            userID={props.userID}\r\n            editChat={props.editChat}\r\n            download={props.download}/>\r\n    }\r\n\r\n        \r\n    if (props.cnt.timeFrame) {\r\n        time =  (\r\n            <div className=\"site-main__chat--box__date\">\r\n                <div className=\"site-main__chat--box__date--wrapper\">\r\n                    <div className=\"site-main__chat--box__date--cur\">\r\n                    <Moment calendar={calendarStrings}>\r\n                        { props.cnt.timeFrame }\r\n                    </Moment>\r\n                    </div> \r\n                </div>\r\n            </div>\r\n        )\r\n    } \r\n\r\n    let userImage = <img src={props.cnt.image} alt=\"\" />\r\n    if (props.cnt.username && !props.cnt.image) {\r\n        userImage = <Avatar  name={props.cnt.username.substr(0,7)} size='40' round />;\r\n    }\r\n    let status = (\r\n        <div className=\"site-main__chat--box__hst--footer__user--img__status site-main__chat--box__hst--footer__user--img__status--off\">\r\n        </div>\r\n    )\r\n    let audioCnt = (\r\n        <audio controls src={`https://www.slodge24.com/media/audio/${props.cnt.msg}.${props.cnt.format}`}>\r\n            <p>Your browser does not support this feature</p>\r\n        </audio>\r\n    );\r\n    let videoCnt = (\r\n        <video controls src={`https://www.slodge24.com/media/video/${props.cnt.msg}.${props.cnt.format}`}>\r\n            <p>Your browser does not support this feature</p>\r\n        </video>\r\n    );\r\n\r\n    let imageCnt =(\r\n        <img src={`https://www.slodge24.com/media/image/${props.cnt.msg}.${props.cnt.format}`} alt=\"\"/>\r\n    )\r\n    \r\n    let typedPlain = props.cnt.msg;\r\n\r\n    let docContent = null;\r\n    let typedCnt = null;\r\n\r\n    if (props.selected && props.selected.length > 0)  {\r\n        for (let cnt of props.selected) {\r\n            if ((cnt.mainID  === props.cnt.chatID) && !cnt.chatID) {\r\n                hstClass.push('site-main__chat--box__highlight')\r\n                replyClass.push('site-main__chat--box__highlight')\r\n            }\r\n        }\r\n    }\r\n\r\n    if (props.editChat && props.editChat.mainID && !props.editChat.chatID) {\r\n        if ((props.editChat.mainID  === props.cnt.chatID) && !props.editChat.chatID) {\r\n            hstClass.push('site-main__chat--box__highlight-edit')\r\n            replyClass.push('site-main__chat--box__highlight-edit')\r\n        }\r\n    }\r\n\r\n    if (props.cnt.cntType !== 'audio' && props.cnt.cntType !== 'media' &&\r\n    props.cnt.cntType !== 'image' && props.cnt.cntType !== 'typedPlain' && !props.cnt.delete && !props.cnt.upload && !props.cnt.pending) {\r\n        docContent = (\r\n            <>\r\n                <FileIcon \r\n                    extension={props.cnt.format ? props.cnt.format.substr(0, 7) : props.cnt.format} \r\n                    {...defaultStyles[props.cnt.format]} \r\n                    size={100}/>\r\n                <div \r\n                    href={`https://www.slodge24.com/media/${props.cnt.cntType}/${props.cnt.msg}.${props.cnt.format}`}  \r\n                    onClick={props.download.bind(this, `https://www.slodge24.com/media/${props.cnt.cntType}/${props.cnt.msg}.${props.cnt.format}`, `${props.cnt.msg}.${props.cnt.format}`)}\r\n                    className=\"site-main__chat--box__download\"> \r\n                    <FontAwesomeIcon  icon={['fas', 'download']} className=\"icon icon__site-main--chat__box--dwn\"/> \r\n                    download\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n\r\n    if (props.cnt.upload) {\r\n        docContent = (\r\n            <div className=\"site-main__chat--box__upload\">\r\n                <div className=\"site-main__chat--box__upload--loader\">\r\n                    {/* <div className=\"site-main__chat--box__upload--loader__close\">\r\n                        <FontAwesomeIcon icon={['fas', 'times']} className=\"icon icon__site-main--chat__close\"/>\r\n                    </div> */}\r\n                     <div className={`c100 p${props.cnt.percentage}`}>\r\n                        <span>{props.cnt.percentage}%</span>\r\n                        <div className=\"slice\">\r\n                            <div className=\"bar\"></div>\r\n                            <div className=\"fill\"></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <h4 className=\"site-main__chat--box__upload--cnt\">\r\n                    { props.cnt.cntType }\r\n                </h4>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if (props.filterChat && props.cnt.cntType === 'typedPlain') {\r\n        typedCnt = typedPlain.replace(props.filterChat, `<span class=\"site-main__chat--srch__highlight\">${props.filterChat}</span>`);\r\n        typedPlain = null;\r\n    }\r\n\r\n    if (props.users) {\r\n        for (let user of props.users) {\r\n            if ((user.id === props.cnt.ID) && user.status) {\r\n                status = (\r\n                    <div className=\"site-main__chat--box__hst--footer__user--img__status site-main__chat--box__hst--footer__user--img__status--on\">\r\n                    </div>\r\n                )\r\n            }\r\n        }\r\n    }\r\n\r\n    if (props.cnt.delete) {\r\n        hstClass.push('site-main__chat--box__chat-del');\r\n        replyClass.push('site-main__chat--box__chat-del');\r\n    }\r\n\r\n    let chatCnt = (\r\n        <div className=\"site-main__chat--box__hst\">\r\n            <div  className=\"site-main__chat--box__hst--wrapper\">\r\n                <div className=\"site-main__chat--box__hst--cnt\">\r\n                    <div \r\n                        className={hstClass.join(' ')}\r\n                        onDoubleClick={!props.cnt.upload && !props.cnt.delete && !props.cnt.pending ? props.hold.bind(this, props.cnt.chatID, null, props.cnt.ID) : null}>\r\n                        <div dangerouslySetInnerHTML={{\r\n                                __html: typedCnt\r\n                            }}></div>\r\n                             { !props.cnt.upload ? !props.cnt.delete ? props.cnt.cntType === 'audio' ? audioCnt :\r\n                                    props.cnt.cntType === 'media' ? videoCnt :\r\n                                    props.cnt.cntType === 'image' ? imageCnt : \r\n                                    props.cnt.cntType === 'typedPlain' ? typedPlain : null : 'Deleted': null}\r\n                            {docContent } \r\n                            {!props.cnt.delete && props.cnt.ID === props.userID ? \r\n                            <div className={!props.cnt.pending ? \"site-main__chat--box__check-hst site-main__chat--box__check--mark\" : \"site-main__chat--box__check-hst\"}>\r\n                                <FontAwesomeIcon  icon={['fas', 'check-circle']}/> \r\n                            </div> : null}\r\n                    </div>\r\n                    { edit }\r\n                </div>\r\n                { !props.cnt.upload && !props.cnt.pending ? \r\n                    <ul className=\"site-main__chat--box__hst--footer\">\r\n                        <li className=\"site-main__chat--box__hst--footer__user\">\r\n                            <a href={`/user/profile/${props.cnt.ID}`}>{ props.cnt.username.substr(0,7) }</a>  \r\n                            <div className=\"site-main__chat--box__hst--footer__user--img\">\r\n                                { userImage }\r\n                                { status }\r\n                            </div> \r\n                        </li>\r\n                        <li className=\"site-main__chat--box__hst--footer__chat-tm\">\r\n                            <Moment date={props.cnt.created} format=\"h:mm a\"/> ,\r\n                        </li>\r\n                    </ul> : null }\r\n            </div>\r\n        </div>\r\n    )\r\n   \r\n    if (props.cnt.position % 2 !== 0) {\r\n        chatCnt = (\r\n            <div className=\"site-main__chat--box__reply\">\r\n                <div className=\"site-main__chat--box__reply--wrapper\">\r\n                    <div className=\"site-main__chat--box__reply--cnt\">\r\n                        <div \r\n                            className={replyClass.join(' ')}\r\n                            onDoubleClick={!props.cnt.upload && !props.cnt.delete && !props.cnt.pending ? props.hold.bind(this, props.cnt.chatID, null,  props.cnt.ID) : null}>\r\n                            <div dangerouslySetInnerHTML={{\r\n                                    __html: typedCnt\r\n                                }}></div>\r\n                            { !props.cnt.upload ? !props.cnt.delete ? props.cnt.cntType === 'audio' ? audioCnt :\r\n                                props.cnt.cntType === 'media' ? videoCnt :\r\n                                props.cnt.cntType === 'image' ? imageCnt : \r\n                                props.cnt.cntType === 'typedPlain' ? typedPlain : null : 'Deleted' : null}\r\n                              {docContent }  \r\n                              {!props.cnt.delete && props.cnt.ID === props.userID ? \r\n                                <div className={!props.cnt.pending ? \"site-main__chat--box__check-reply site-main__chat--box__check--mark\" : \"site-main__chat--box__check-reply\"}>\r\n                                    <FontAwesomeIcon  icon={['fas', 'check-circle']}/> \r\n                                </div> : null} \r\n                        </div>    \r\n                        { edit }      \r\n                    </div>\r\n                    { !props.cnt.upload && !props.cnt.pending ? \r\n                        <ul className=\"site-main__chat--box__reply--footer\">\r\n                            <li className=\"site-main__chat--box__reply--footer__user\">\r\n                                <a href={`/user/profile/${props.cnt.ID}`}>{ props.cnt.username.substr(0,7) }</a>   \r\n                                <div className=\"site-main__chat--box__reply--footer__user--img\">\r\n                                    { userImage }\r\n                                    { status }\r\n                                </div>\r\n                            </li>\r\n                            <li className=\"site-main__chat--box__reply--footer__chat-tm\">\r\n                             , <Moment date={props.cnt.created} format=\"h:mm a\"/>\r\n                            </li>\r\n                        </ul> : null}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    \r\n    return (\r\n        <>\r\n            { chatCnt }\r\n            { time }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default chats;","import React from 'react';\r\nimport arraySort from 'array-sort';\r\n\r\nimport Chat from './Chat/Chat';\r\n\r\nconst chats = (props) =>{\r\n    let content= arraySort(props.cnts, 'position', {reverse: false});\r\n    let allChat = content.map((cnt, index) => (\r\n            <Chat \r\n                key={index}\r\n                cnt={cnt}\r\n                users={props.users}\r\n                filterChat={props.filterChat}\r\n                hold={props.hold}\r\n                selected={props.selected}\r\n                editChat={props.editChat}\r\n                userID={props.userID}\r\n                download={props.download}/>\r\n        ))\r\n\r\n        return allChat;\r\n}\r\n\r\nexport default chats;","import arraySort from 'array-sort';\r\n\r\nexport const fetchChat = (chat) => {\r\n    let updateChat = []\r\n    let curPos = 0;\r\n    let start = new Date();\r\n    start.setHours(0,0,0,0)\r\n    let beginning = new Date(start).getTime();\r\n    let content= arraySort(chat, 'created', {reverse: true});\r\n\r\n    for (let cnt of content) {\r\n        let updateCnt = {\r\n            ...cnt,\r\n            timeFrame: null\r\n        }\r\n        \r\n        if ((beginning > new Date(cnt.created).getTime())){\r\n            updateCnt = {\r\n                ...cnt,\r\n                timeFrame: beginning\r\n            }\r\n            ++curPos\r\n            beginning = new Date(beginning - (1000*60*60*24* curPos)).getTime();\r\n        } \r\n\r\n        updateChat.push(updateCnt);\r\n    }\r\n    return updateChat\r\n}; \r\n\r\nexport const createChatStart = (chats, userID, msgType, msg, msgID) => {\r\n    let content = arraySort(chats, 'position', {reverse: false});\r\n    let lastChat = content.length > 0 ? content[content.length - 1] : {};\r\n    if (msg && !msg.editMsg) {\r\n        if (lastChat.ID === userID) {\r\n            lastChat.reply.push({ID: userID, position: lastChat.position, cntType: msgType, sent: false, viewed: false, \r\n                chatID: msgID, mainID: lastChat.chatID,delete: false,pending: true, msg, created: new Date().getTime()});\r\n            content[content.length - 1] = lastChat;\r\n        } else {\r\n            content.push({ID: userID, position: !lastChat.position ? 0 : lastChat.position + 1, cntType: msgType, sent: false, viewed: false, \r\n                chatID: msgID, delete: false, pending: true, msg, reply: [], created: new Date().getTime()})\r\n        }\r\n    } else {\r\n        if (!msg.chatID) {\r\n            let chat = content.filter(chat => chat.chatID === msg.mainID)[0];\r\n            let index = content.findIndex(chat => chat.chatID === msg.mainID)\r\n            if (chat) {\r\n                chat.msg = msg.editMsg;\r\n                chat.cntType = 'typedPlain';\r\n                chat.format = 'typedPlain';\r\n                chat['pending'] = true;\r\n            }\r\n            content[index] = chat\r\n        } else {\r\n            let chat = content.filter(chat => chat.chatID === msg.mainID)[0];\r\n            let index = content.findIndex(chat => chat.chatID === msg.mainID)\r\n            if (chat) {\r\n                let filterReply = chat.reply.filter(replyCnt => replyCnt.chatID === msg.chatID)[0];\r\n                let filterIndex = chat.reply.findIndex(replyCnt => replyCnt.chatID === msg.chatID)[0];\r\n                if (filterReply) {\r\n                    filterReply.msg = msg.editMsg\r\n                    filterReply.cntType = 'typedPlain';\r\n                    filterReply.format = 'typedPlain';\r\n                    filterReply['pending'] = true;\r\n                }\r\n                chat.reply[filterIndex] = filterReply;\r\n                content[index] = chat\r\n            }\r\n        }\r\n    }\r\n    return content\r\n};\r\n\r\nexport const addNewChat =  (chat, chatCnt) => {\r\n    let curIndex = 0;\r\n    let filterChat = chat.filter((cnt, index) => {\r\n        if (cnt.chatID === chatCnt[0].chatID) {\r\n            curIndex = index;\r\n            return true;\r\n        }\r\n        return false\r\n    })[0];\r\n    if (filterChat) {\r\n        chat[curIndex] = chatCnt[0];\r\n    } else {\r\n        chat.push(...chatCnt)\r\n    }\r\n    return chat\r\n};\r\n\r\nexport const uploadMediaStart = (chat, tempchat, userID, chatID, percentage, cntType) => {\r\n    let chats = tempchat.length < 1 ? [...chat] : [...tempchat];\r\n    let content = arraySort(chats, 'position', {reverse: false});\r\n    let lastChat = content.length > 0 ? content[content.length - 1] : null;\r\n    if (chatID && !chatID.mainID) {\r\n        if (lastChat) {\r\n            if (lastChat.ID === userID) {\r\n                let curIndex = 0;\r\n                if (lastChat.chatID === chatID) {\r\n                    lastChat = {ID: userID, upload: true, position: lastChat.position, cntType, \r\n                        chatID, percentage, pending: true,reply: [], created: new Date().getTime()}\r\n                } else {\r\n                    let filterLastChat = lastChat.reply.filter((chat, index) => {\r\n                        if (chat.chatID === chatID) {\r\n                            curIndex = index;\r\n                            return true;\r\n                        }\r\n                        return false;\r\n                    })[0];\r\n                    \r\n                    if (filterLastChat) {\r\n                        lastChat.reply[curIndex].percentage = percentage;\r\n                    } else {\r\n                        lastChat.reply.push({upload: true, pending: true,position: lastChat.position, cntType, \r\n                            chatID, percentage});\r\n                        lastChat.replyID ? lastChat.replyID.push(chatID) : lastChat['replyID'] = [chatID]\r\n                    }\r\n                }\r\n                content[content.length - 1] = lastChat;\r\n            } else {\r\n                content.push({ID: userID, upload: true, position: lastChat.position + 1, cntType, \r\n                    chatID, percentage, pending: true,reply: [], created: new Date().getTime()})\r\n            }\r\n        } else {\r\n            content.push({ID: userID, upload: true, position: 0, cntType, \r\n                chatID, percentage, pending: true,reply: [], created: new Date().getTime()})\r\n        }\r\n    } else {\r\n        let msg = chatID;\r\n        if (!msg.chatID) {\r\n            let chat = content.filter(chat => chat.chatID === msg.mainID)[0];\r\n            let index = content.findIndex(chat => chat.chatID === msg.mainID)\r\n            if (chat) {\r\n                chat.cntType = cntType;\r\n                chat['percentage'] = percentage\r\n                chat['pending'] = true;\r\n                chat['upload'] = true;\r\n            }\r\n            content[index] = chat\r\n        } else {\r\n            let chat = content.filter(chat => chat.chatID === msg.mainID)[0];\r\n            let index = content.findIndex(chat => chat.chatID === msg.mainID)\r\n            if (chat) {\r\n                let filterReply = chat.reply.filter(replyCnt => replyCnt.chatID === msg.chatID)[0];\r\n                let filterIndex = chat.reply.findIndex(replyCnt => replyCnt.chatID === msg.chatID)[0];\r\n                if (filterReply) {\r\n                    filterReply['pending'] = true;\r\n                    filterReply['upload'] = true;\r\n                    filterReply.cntType = cntType;\r\n                    filterReply['percentage'] = percentage\r\n                }\r\n                chat.reply[filterIndex] = filterReply;\r\n                content[index] = chat\r\n            }\r\n        }\r\n    }\r\n    return content\r\n};\r\n\r\nexport const holdChat =  (chatSelected, userID, chatID, mainID, ID) => {\r\n    if (!chatID) {\r\n        let filterSelect = chatSelected.filter(cnt => (cnt.mainID === mainID) && !cnt.chatID)[0];\r\n        if (filterSelect) {\r\n            let selected = []\r\n            for (let cnt of chatSelected) {\r\n                if ((cnt.mainID === mainID) && !cnt.chatID) {\r\n\r\n                } else {\r\n                    selected.push(cnt)\r\n                }\r\n            }\r\n            return selected\r\n        }\r\n        \r\n    } else {\r\n        let filterCnt = chatSelected.filter(cnt => cnt.chatID === chatID)[0];\r\n        if (filterCnt) {\r\n            chatSelected = chatSelected.filter(cnt => cnt.chatID !== chatID);\r\n            return chatSelected\r\n        } \r\n    }\r\n    chatSelected.push({mainID, chatID, edit: ID === userID})\r\n    \r\n    return chatSelected\r\n};\r\n\r\nexport const chatRemoved = (chats, cnts) => {\r\n    if (chats.length > 0 && cnts && cnts.length > 0) {\r\n        for (let cnt of cnts) {\r\n            if (!cnt.chatID) {\r\n                let chat = chats.filter(chat => chat.chatID === cnt.mainID)[0];\r\n                let index = chats.findIndex(chat => chat.chatID === cnt.mainID)\r\n                if (chat) {\r\n                    chat.delete = true;\r\n                }\r\n                chats[index] = chat\r\n            } else {\r\n                let chat = chats.filter(chat => chat.chatID === cnt.mainID)[0];\r\n                let index = chats.findIndex(chat => chat.chatID === cnt.mainID)\r\n                if (chat) {\r\n                    let filterReply = chat.reply.filter(replyCnt => replyCnt.chatID === cnt.chatID)[0];\r\n                    let filterIndex = chat.reply.findIndex(replyCnt => replyCnt.chatID === cnt.chatID)[0];\r\n                    if (filterReply) {\r\n                        filterReply.delete = true\r\n                    }\r\n                    chat.reply[filterIndex] = filterReply;\r\n                    chats[index] = chat\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return chats\r\n};","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom'\r\nimport { saveAs } from 'file-saver';\r\n\r\nimport Chats from './Chats/Chats';\r\nimport './ChatBox.css';\r\nimport { fetchChat, createChatStart, addNewChat, uploadMediaStart, holdChat, chatRemoved } from './utility';\r\nimport { socket } from '../shared/utility';\r\nimport Loader from '../Loader/Loader';\r\nimport axios from '../axios'\r\n\r\nclass ChatBox extends Component {\r\n    state = {\r\n        searchTotal: 0,\r\n        hold: null,\r\n        scrollEnable: false,\r\n        id: this.props.match.params.id,\r\n        userID: document.cookie.replace(/(?:(?:^|.*;\\s*)id\\s*\\=\\s*([^;]*).*$)|^.*$/, \"$1\"),\r\n        chatLimit: 50,\r\n        height: 0,\r\n        err: null,\r\n        chat: [],\r\n        tempchat: [],\r\n        chatSelected: [],\r\n        removeSelected: false,\r\n        typing: [],\r\n        editChat: null,\r\n        chatStart: null,\r\n        addChat: null,\r\n        chatTotal: 0,\r\n        skipChat: 0,\r\n        chatLoaded: false,\r\n        uploadMedia: null,\r\n        removeChat: null,\r\n        defaultTemp: false,\r\n        scrolled: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        let these = this;\r\n        axios.post('/aroundme', {id: this.state.id, skipChat: this.state.skipChat, chatLimit: this.state.chatLimit}, {headers: {\r\n            'data-categ': 'chat'}}).then(res => {\r\n                let chat = [...this.state.chat];\r\n                chat.push(...res.data.chat)\r\n                this.setState({chat: fetchChat(chat), skipChat: this.state.chatLimit, chatTotal: res.data.chatTotal, chatLoaded: true})\r\n        }).catch(err => {\r\n            this.setState({err})\r\n        })\r\n\r\n        socket.on('newChat', function(chats){\r\n            these.setState({chat: addNewChat(these.state.chat, chats)})\r\n        })\r\n\r\n        socket.on('chatRemoved', function(cnt){\r\n          if (JSON.stringify(these.state.removeChat) !== JSON.stringify(cnt)) {\r\n                these.setState({removeChat: cnt, chat: chatRemoved(these.state.chat, cnt), chatSelected: [], editChat: null})\r\n            }\r\n        })\r\n\r\n        socket.on('typing', function(users){\r\n             these.setState({typing: users})\r\n        })\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        let chatHold = document.querySelector('.site-main__chat--box');\r\n        let chatBoxWrapper = document.querySelector('.site-main__chat--box__wrapper'); \r\n        if (this.state.chat && this.state.chat.length > 0 && !this.state.scrollEnable) {\r\n            chatHold.addEventListener('scroll', this.onScroll, false);\r\n            this.setState({scrollEnable: true})\r\n        }\r\n\r\n         if (chatBoxWrapper && document.querySelector('.site-main__chat--box__wrapper > div') && !this.state.scrolled) { \r\n            chatHold.scrollTop = chatHold.scrollHeight;\r\n            this.setState({scrolled: true})\r\n        }\r\n\r\n        if (this.state.chatSelected.length < 1 \r\n                && chatBoxWrapper \r\n                && document.querySelector('.site-main__chat--box__wrapper > div') \r\n                && document.querySelectorAll('.site-main__chat--srch__highlight').length < 1\r\n                && (chatHold.clientHeight + chatHold.scrollTop  > (chatHold.scrollHeight/2) + (chatHold.scrollHeight/4))\r\n                && this.state.scrolled) { \r\n            chatHold.scrollTop = chatHold.scrollHeight;\r\n        }\r\n\r\n        if (JSON.stringify(this.state.chatStart) !== JSON.stringify(this.props.createChat)) {\r\n            this.setState({chatStart: this.props.createChat, chat: createChatStart(this.state.chat, \r\n            this.state.userID, this.props.createChat.msgType, this.props.createChat.msg, this.props.createChat.msgID)})\r\n        }\r\n\r\n        if (JSON.stringify(this.state.addChat) !== JSON.stringify(this.props.addChat)) {\r\n            this.setState({chat: addNewChat(this.state.chat, this.props.addChat), addChat: this.props.addChat})\r\n        }\r\n        \r\n        if (JSON.stringify(this.state.uploadMedia) !== JSON.stringify(this.props.uploadMedia)) {\r\n            this.setState({tempchat: uploadMediaStart(this.state.chat, this.state.tempchat, this.state.userID, this.props.uploadMedia.chatID, this.props.uploadMedia.percentage, this.props.uploadMedia.type), uploadMedia: this.props.uploadMedia, defaultTemp: false})\r\n        }\r\n\r\n        if (!this.state.defaultTemp && this.props.defaultTemp) {\r\n            this.setState({tempchat: [], defaultTemp: this.props.defaultTemp})\r\n        }\r\n\r\n        if (!this.state.removeSelected && this.props.removeSelected) {\r\n            this.setState({chatSelected: [], removeSelected: this.props.removeSelected})\r\n        }\r\n\r\n        if (JSON.stringify(this.state.editChat) !== JSON.stringify(this.props.editChat)) {\r\n            this.setState({editChat: this.props.editChat, chatSelected: []})\r\n        }\r\n\r\n        if (JSON.stringify(this.state.removeChat) !== JSON.stringify(this.props.removeChat)) {\r\n            this.setState({removeChat: this.props.removeChat, chat: chatRemoved(this.state.chat, this.props.removeChat), chatSelected: [], editChat: null})\r\n        }\r\n    }\r\n\r\n    onScroll = () => {\r\n        if (document.querySelector('.site-main__chat--box').scrollTop <= 0) {\r\n            axios.post('/aroundme', {id: this.state.id, skipChat: this.state.skipChat, chatLimit: this.state.chatLimit}, {headers: {\r\n            'data-categ': 'chat'}}).then(res => {\r\n                let chat = [...this.state.chat];\r\n                if (res.data.chat.length > 0) {\r\n                    chat.push(...res.data.chat)\r\n                    this.setState({chat: fetchChat(chat), skipChat: this.state.chatLimit + this.state.skipChat, chatTotal: res.data.chatTotal})\r\n                }\r\n            }).catch(err => {\r\n                this.setState({err})\r\n            })\r\n        }\r\n    }\r\n\r\n    chatHoldHandler = (mainID, chatID, ID) => {\r\n        if (this.state.tempchat < 1) {\r\n            let chatSelected = holdChat(this.state.chatSelected, this.state.userID, chatID, mainID, ID)\r\n            this.setState({chatSelected, removeSelected: false, editChat: null})\r\n            this.props.holdChat(chatSelected)\r\n        }\r\n    }\r\n\r\n    chatReleasedHandler = (id) => {\r\n        clearTimeout(this.state.hold);\r\n    }\r\n\r\n    downloadHandler = (url, name) => {\r\n        saveAs(url, name)\r\n    }\r\n\r\n    render() {\r\n        let typing = null;\r\n        let chat = <Loader \r\n            cnt=\"loading chat ...\"/>\r\n        \r\n        if (this.state.typing && this.state.typing.length > 0) {\r\n            typing = (\r\n                <div className=\"site-main__chat--box__usr-typing\">\r\n                    <div className=\"site-main__chat--box__usr-typing--cir-up\"></div>\r\n                    <div className=\"site-main__chat--box__usr-typing--cir-dwn\"></div>\r\n                    <div className=\"site-main__chat--box__usr-typing--cir-up\"></div>\r\n                    <div className=\"site-main__chat--box__usr-typing--cir-dwn\"></div>\r\n                    <div className=\"site-main__chat--box__usr-typing--cir-up\"></div>\r\n                    <div className=\"site-main__chat--box__usr-typing--cir-dwn\"></div>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        if (this.state.chatLoaded) {\r\n            chat = (\r\n                <Chats \r\n                    cnts={this.state.tempchat.length > 0 ? this.state.tempchat : this.state.chat}\r\n                    users={this.state.users}\r\n                    userImage={this.state.userImage}\r\n                    filterChat={this.state.filterChat}\r\n                    hold={this.chatHoldHandler}\r\n                    released={this.chatReleasedHandler}\r\n                    selected={this.state.chatSelected}\r\n                    editChat={this.state.editChat}\r\n                    userID={this.state.userID}\r\n                    download={this.downloadHandler}/>\r\n            )\r\n        }\r\n      \r\n        return (\r\n            <>\r\n                {this.state.err ? <div className=\"site-main__chat--err\">{this.state.err.message ? this.state.err.message : this.state.err.toString()}</div> : null }\r\n                <div className=\"site-main__chat--box\">\r\n                    <div \r\n                        className=\"site-main__chat--box__wrapper\">  \r\n                        { chat }\r\n                        { typing }\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(ChatBox); ","import React, { Component } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport uuid from 'uuid';\r\nimport { withRouter } from 'react-router-dom';\r\nimport 'emoji-mart/css/emoji-mart.css'\r\nimport { Picker } from 'emoji-mart'\r\n\r\nimport { socket, webCameraApi } from '../shared/utility';\r\nimport axios from '../axios';\r\nimport loc from 'axios';\r\n\r\nclass Footer extends Component {\r\n    state = {\r\n        chat: '',\r\n        addItm: false,\r\n        audioRec: false,\r\n        mediaRecorder: null,\r\n        vidRec: false,\r\n        id: this.props.match.params.id,\r\n        addImage: false,\r\n        showEmoji: false,\r\n        disable: false,\r\n        editChat: null,\r\n        err: null,\r\n        resend: [],\r\n        addItem: false\r\n    };\r\n\r\n    chatCntHandler = (event) => {\r\n        this.setState({chat: event.target.value.trimLeft(), addItem: false, showEmoji: false, err: null});\r\n        let these = this;\r\n        socket.emit('usertyping', {}, function(err) {\r\n            these.setState({err})\r\n        })\r\n        if (this.state.addItem || this.state.showEmoji) {\r\n            this.props.showBackdrop(false)\r\n        }\r\n    }\r\n\r\n    stopTypingHandler = (event) => {\r\n        let these = this;\r\n        socket.emit('canceltyping', {}, function(err) {\r\n            these.setState({err})\r\n        })\r\n        if (event.key === 'Enter' && this.state.chat.length > 0) {\r\n            this.createChatHandler()\r\n        }\r\n    }\r\n\r\n    showAddItmHandler = () => {\r\n        this.setState((prevState, props) => {\r\n            return {\r\n                addItem: !prevState.addItem,\r\n                showEmoji: false,\r\n                err: null\r\n            }\r\n        });\r\n        this.props.showBackdrop(!this.state.addItem)\r\n    }\r\n\r\n    createChatHandler = () => {\r\n        if (this.state.editChat) {\r\n            this.createChat(this.state.id,'typedPlain', {editMsg: this.state.chat, mainID: this.state.editChat.mainID, chatID: this.state.editChat.chatID}, uuid(), 'pvtcreateChat')\r\n        } else {\r\n            this.createChat(this.state.id,'typedPlain', this.state.chat, uuid(), 'pvtcreateChat')\r\n        }\r\n        this.setState({chat: '', err: null});\r\n    }\r\n\r\n    createChat = (id, msgType, msg, msgID, msgCateg) => {\r\n        let these = this;\r\n        this.props.createChatStart({msgType, msg, msgID})\r\n        axios.post(`/aroundme`,\r\n            {type: msgType, msg, chatID: msgID, id} , {\r\n            headers: {\r\n                'data-categ': msgCateg}}).then(res => {\r\n            this.props.addNewChat(res.data)\r\n            socket.emit('pvtcreateChat', res.data, function(err) {\r\n                these.setState({err})\r\n            })\r\n        }).catch(err => {\r\n            let resend = [...this.state.resend];\r\n            resend.push({id, msgType, msg, msgID, msgCateg})\r\n            this.setState({resend})\r\n        })\r\n    }\r\n\r\n    audioRecorderHandler = () => {\r\n        webCameraApi(socket, this.state.mediaRecorder, this.state.audioRec, {audio: true}, \r\n            'audio/ogg; codecs=opus', 'ogg','audio', 'pvtMediaRecChat').then(media => {\r\n                if (!this.state.audioRec) {\r\n                this.setState({audioRec: true, mediaRecorder: media.mediaRecorder, err: null})\r\n            } else {\r\n                this.setState({audioRec: false, mediaRecorder: null, err: null})\r\n                if (this.state.editChat) {\r\n                    this.uploadMedia([{file: media[0].file, type: media[0].type, format: media[0].format, chatID: {mainID: this.state.editChat.mainID, chatID: this.state.editChat.chatID}}])\r\n                } else {\r\n                    this.uploadMedia(media)\r\n                }\r\n            }\r\n        }).catch(err => {\r\n            this.setState({audioRec: false, err})\r\n        })\r\n    }\r\n\r\n    videoRecHandler = () => {\r\n       this.props.videoRec()\r\n    }\r\n\r\n    snapshotHandler = () => {\r\n        this.props.snapshot()\r\n    }\r\n\r\n    addImageHandler = () => {\r\n        document.querySelector('.site-main__chat--footer__clip-itm--input').click()\r\n    };\r\n\r\n    addAudioHandler = () => {\r\n        document.querySelector('.site-main__chat--footer__clip-itm--input-aud').click()\r\n    };\r\n\r\n    addDocHandler = () => {\r\n        document.querySelector('.site-main__chat--footer__clip-itm--input-doc').click()\r\n    }\r\n\r\n    addVideoHandler = ()=> {\r\n        document.querySelector('.site-main__chat--footer__clip-itm--input-vid').click()\r\n    };\r\n\r\n    selectMediaHandler = (event) => {\r\n        this.setState({disable: true})\r\n        event.stopPropagation();\r\n        event.preventDefault();\r\n        if (event.target.files) {\r\n            const files = event.target.files;\r\n            this.handleFiles(files)\r\n        }\r\n    }\r\n\r\n    handleFiles = (files) => {\r\n        let media = []\r\n        for (let i = 0; i < files.length; i++) {\r\n            const file = files[i];\r\n            let cntType = file.type.split('/')[0] === 'video' ? 'media' :  file.type.split('/')[0];\r\n            let format = file.type.split('/')[1];\r\n            if(cntType) {\r\n                if (this.state.editChat) {\r\n                    media.push({file, type: cntType, format, chatID: {mainID: this.state.editChat.mainID, chatID: this.state.editChat.chatID}})\r\n                } else {\r\n                    media.push({file, type: cntType, format, chatID: uuid()})\r\n                }\r\n            } \r\n        }\r\n        this.uploadMedia(media)\r\n        this.setState({disable: false,  addItem: false, err: null})\r\n        this.props.showBackdrop(false)\r\n    }\r\n\r\n    emojiHandler = () => {\r\n        this.setState((prevState, props) => {\r\n            return {\r\n                showEmoji: !prevState.showEmoji,\r\n                addItem: false,\r\n                err: null\r\n            }\r\n        });\r\n        this.props.showBackdrop(!this.state.showEmoji)\r\n    }\r\n\r\n    addEmojiHandler = (cnt) => {\r\n        let chat = `${this.state.chat} ${cnt.native}`\r\n        this.setState({chat, err: null, addItem: false, showEmoji: false})\r\n        this.props.showBackdrop(false)\r\n    }\r\n\r\n    shareLocationHandler = () => {\r\n        let these = this\r\n        this.setState({disable: true, addItem: false, err: null})\r\n        this.props.showBackdrop(false);\r\n        if (('navigator' in window) && ('geolocation' in navigator)) {\r\n            navigator.geolocation.getCurrentPosition(function(position) {\r\n                let fetchedLocation = {lat: position.coords.latitude, lng: position.coords.longitude};\r\n                loc.get(`https://maps.googleapis.com/maps/api/geocode/json?latlng=${fetchedLocation.lat},${fetchedLocation.lng}&key=AIzaSyDIbF8oQh1APAzLLXoeLynN8vMsAKSav2g`).then(loc => {\r\n                    if (!loc.data.error_message) {\r\n                        if (these.props.editChat) {\r\n                           these.createChat(these.state.id, 'typedPlain', {editMsg: `In ${loc.data.results[0].formatted_address}`, mainID: these.state.editChat.mainID, chatID: these.state.editChat.chatID}, uuid(), 'pvtcreateChat')\r\n                        } else {\r\n                            these.createChat(these.state.id,'typedPlain', `In ${loc.data.results[0].formatted_address}`, uuid(), 'pvtcreateChat')\r\n                        }\r\n                        these.setState({disable: false, err: null})\r\n                    }\r\n                }).catch(err => {\r\n                    these.setState({err, disable: false})\r\n                })\r\n              }, function(err) {\r\n                these.setState({err, disable: false})\r\n              }, {timeout: 5000})\r\n        }\r\n    }\r\n\r\n    closeModelBackdropHandler = () => {\r\n        this.setState({err: null})\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (this.props.closeContent && !this.state.closeContent) {\r\n            this.setState({closeContent: true, addItem: false, showEmoji: false})\r\n        }\r\n\r\n        if (!this.props.closeContent && this.state.closeContent) {\r\n            this.setState({closeContent: false})\r\n        }\r\n\r\n        if (JSON.stringify(this.state.editChat) !== JSON.stringify(this.props.editChat)) {\r\n            this.setState({editChat: this.props.editChat})\r\n        }\r\n        \r\n        if (this.props.connect && this.state.resend.length > 0) {\r\n            let resend = this.state.resend;\r\n            this.setState({resend: []})\r\n            resendChat(this, resend, 0)\r\n            let curIndex = 0;\r\n            function resendChat(these, cnt, index) {\r\n                axios.post(`/aroundme`,\r\n                    {type: cnt[index].msgType, msg: cnt[index].msg, chatID: cnt[index].msgID, id: cnt[index].id} , {\r\n                    headers: {\r\n                    'data-categ': cnt[index].msgCateg}}).then(res => {\r\n                    ++curIndex;\r\n                    if (curIndex < cnt.length) {\r\n                        resendChat(these, cnt, curIndex)\r\n                    } \r\n                    these.props.addNewChat(res.data)\r\n                    socket.emit('pvtcreateChat', res.data, function(err) {\r\n                        these.setState({err})\r\n                    })\r\n                }).catch(err => {\r\n                    ++curIndex;\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    uploadMedia = (cnt) => {\r\n        let these = this;\r\n         for (let media of cnt) {\r\n            let type = media.type === 'media' ?  'video' : media.type;\r\n            this.props.uploadMediaStart({chatID: media.chatID, type, percentage: 0})\r\n        }\r\n\r\n        submit(cnt, 0);\r\n\r\n        function submit(media, index) {\r\n            let formContent = new FormData();\r\n            let ext = media[index].file.type.split('/').pop();\r\n            formContent.append('media', media[index].file, `${media[index].chatID}.${ext.split(';')[0]}`);\r\n            formContent.append('type', media[index].type === 'video' ? 'media' : media[index].type);\r\n            formContent.append('format', media[index].format);\r\n            formContent.append('chatID', JSON.stringify(media[index].chatID));\r\n            formContent.append('id', these.state.id);\r\n            axios.post(`/aroundme`, formContent, {\r\n                headers: {'data-categ': 'uploadmedia'},\r\n                onUploadProgress: function (progressEvent) {\r\n                    if (progressEvent.lengthComputable) {\r\n                        const percentage = Math.round((progressEvent.loaded * 100) / progressEvent.total);\r\n                        let type = media[index].type === 'media' ?  'video' : media[index].type;\r\n                        these.props.uploadMediaStart({chatID: media[index].chatID, type , percentage})\r\n                    }\r\n                }  \r\n            }).then((res) => {\r\n                socket.emit('pvtMediaRecChat', res.data, (err) => {\r\n                    these.setState({err})\r\n                })\r\n                ++index;\r\n                these.props.mediaUploaded();\r\n                if (index < media.length) {\r\n                    submit(media, index)\r\n                } \r\n            }).catch((err) => {\r\n                ++index;\r\n                these.props.mediaUploaded();\r\n                these.setState({err})\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let startRecClass = ['site-main__chat--footer__mic'];\r\n\r\n        let userOpt = (\r\n            <div \r\n            className=\"site-main__chat--footer__camera\"\r\n            onClick={ this.snapshotHandler }>\r\n                <FontAwesomeIcon icon={['fas', 'camera']} className=\"icon icon__site-main--chat__footer--camera\"/>\r\n            </div>\r\n        )\r\n        let shareOpt = (\r\n            <div \r\n                className=\"site-main__chat--footer__input--clip\"\r\n                onClick={this.showAddItmHandler }><FontAwesomeIcon icon={['fas', 'paperclip']} className=\"icon icon__site-main--chat__footer--input__clip\"/></div>\r\n        )\r\n\r\n        let emojiCnt = null;\r\n\r\n        if (this.state.audioRec) {\r\n            startRecClass.push('site-main__chat--footer__mic--active')\r\n        }\r\n\r\n        if (this.state.chat || this.state.audioRec) {\r\n            userOpt = (\r\n                <div \r\n                    className=\"site-main__chat--footer__clip\"\r\n                    onClick={ this.showAddItmHandler }>\r\n                    <FontAwesomeIcon icon={['fas', 'paperclip']} className=\"icon icon__site-main--chat__footer--clip\"/>\r\n                </div>\r\n            )\r\n\r\n            shareOpt = (\r\n                <div \r\n                    className=\"site-main__chat--footer__input--share\"\r\n                    onClick={this.state.audioRec ? this.audioRecorderHandler : this.createChatHandler}><FontAwesomeIcon icon={['fas', 'location-arrow']} className=\"icon icon__site-main--chat__footer--input__share\"/>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        let addItm = null;\r\n\r\n        if (this.state.addItem) {\r\n            addItm = (\r\n                <div className=\"site-main__chat--footer__clip-itm\">\r\n                    <div \r\n                        className=\"site-main__chat--footer__clip-itm--wrapper\"\r\n                        onClick={this.snapshotHandler}>\r\n                        <div className=\"site-main__chat--footer__clip-itm--cam\">\r\n                            <FontAwesomeIcon icon={['fas', 'camera']} className=\"icon icon__site-main__chat--clip-itm\"/>\r\n                        </div>\r\n                        <h4>Camera</h4>\r\n                    </div>\r\n                    <div \r\n                        className=\"site-main__chat--footer__clip-itm--wrapper\"\r\n                        onClick={this.videoRecHandler}>\r\n                        <div className=\"site-main__chat--footer__clip-itm--rec\">\r\n                        <FontAwesomeIcon icon={['fas', 'video']} className=\"icon icon__site-main__chat--clip-itm\"/>\r\n                        </div>\r\n                        <h4>Video Recorder</h4>\r\n                    </div>\r\n                    <div \r\n                        className=\"site-main__chat--footer__clip-itm--wrapper\"\r\n                        onClick={this.addImageHandler}>\r\n                        <div className=\"site-main__chat--footer__clip-itm--img-pic\">\r\n                        <FontAwesomeIcon icon={['fas', 'images']} className=\"icon icon__site-main__chat--clip-itm\"/>\r\n                        </div>\r\n                        <h4>Image Picker</h4>\r\n                        <input \r\n                            type=\"file\" \r\n                            multiple\r\n                            className=\"site-main__chat--footer__clip-itm--input\"\r\n                            onChange={this.selectMediaHandler}\r\n                            accept=\"image/*\"/>\r\n                        </div>\r\n                    <div \r\n                        className=\"site-main__chat--footer__clip-itm--wrapper\"\r\n                        onClick={this.shareLocationHandler}>\r\n                        <div className=\"site-main__chat--footer__clip-itm--loc\">\r\n                            <FontAwesomeIcon icon={['fas', 'map-marker-alt']} className=\"icon icon__site-main__chat--clip-itm\"/>\r\n                        </div>\r\n                        <h4>Share Location</h4>\r\n                    </div>\r\n                    <div \r\n                        className=\"site-main__chat--footer__clip-itm--wrapper\"\r\n                        onClick={this.addDocHandler}>\r\n                        <div className=\"site-main__chat--footer__clip-itm--doc\">\r\n                            <FontAwesomeIcon icon={['fas', 'file']} className=\"icon icon__site-main__chat--clip-itm\"/>\r\n                        </div>\r\n                        <h4>Documents</h4>\r\n                        <input \r\n                            type=\"file\" \r\n                            multiple\r\n                            className=\"site-main__chat--footer__clip-itm--input-doc\"\r\n                            onChange={this.selectMediaHandler}\r\n                            accept=\"*\"/>\r\n                    </div>\r\n                    <div \r\n                        className=\"site-main__chat--footer__clip-itm--wrapper\"\r\n                        onClick={this.addAudioHandler}>\r\n                        <div className=\"site-main__chat--footer__clip-itm--aud\">\r\n                            <FontAwesomeIcon icon={['fas', 'headphones']} className=\"icon icon__site-main__chat--clip-itm\"/>\r\n                        </div>\r\n                        <h4>Audio Picker</h4>\r\n                        <input \r\n                            type=\"file\" \r\n                            multiple\r\n                            className=\"site-main__chat--footer__clip-itm--input-aud\"\r\n                            onChange={this.selectMediaHandler}\r\n                            accept=\"audio/*\"/>\r\n                    </div>\r\n                    <div \r\n                        className=\"site-main__chat--footer__clip-itm--wrapper\"\r\n                        onClick={this.addVideoHandler}>\r\n                        <div className=\"site-main__chat--footer__clip-itm--vid\">\r\n                            <FontAwesomeIcon icon={['fas', 'video']} className=\"icon icon__site-main__chat--clip-itm\"/>\r\n                        </div>\r\n                        <h4>Video Picker</h4>\r\n                        <input \r\n                            type=\"file\" \r\n                            multiple\r\n                            className=\"site-main__chat--footer__clip-itm--input-vid\"\r\n                            onChange={this.selectMediaHandler}\r\n                            accept=\"video/*\"/>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        if (this.state.showEmoji) {\r\n            emojiCnt = (\r\n                <Picker \r\n                    set=\"facebook\"\r\n                    onSelect={this.addEmojiHandler}\r\n                    style={{\r\n                        position: 'absolute',\r\n                        bottom: '100%',\r\n                        left: '50%',\r\n                        transform: 'translateX(-50%)',\r\n                        zIndex:1\r\n                    }}/>\r\n            )\r\n        }\r\n\r\n        return(\r\n            <>\r\n            {this.state.err ? <div className=\"site-main__chat--err\">{this.state.err.message ? this.state.err.message : this.state.err.toString()}</div> : null }\r\n            <div className=\"site-main__chat--footer\">\r\n                <div \r\n                    className={startRecClass.join(' ')}\r\n                    onClick={this.audioRecorderHandler}>\r\n                    <FontAwesomeIcon icon={['fas', 'microphone']} className=\"icon icon__site-main--chat__footer--mic\"/>\r\n                </div>\r\n                <div className=\"site-main__chat--footer__input\">\r\n                        <form onSubmit={this.createChatHandler}>\r\n                            <textarea  \r\n                            className=\"site-main__chat--footer__input--field\" \r\n                            placeholder=\"Type something .....\" \r\n                            autoFocus\r\n                            onChange={this.chatCntHandler}\r\n                            onKeyUp={this.stopTypingHandler}\r\n                            onMouseLeave={this.stopTypingHandler}\r\n                            value={this.state.chat}\r\n                            disabled={this.state.audioRec || this.state.disable}></textarea>\r\n                        </form>\r\n                    { shareOpt }\r\n                    <div \r\n                        className=\"site-main__chat--footer__input--smiles\"\r\n                        onClick={this.emojiHandler}>\r\n                        <FontAwesomeIcon icon={['far', 'smile']} className=\"icon icon__site-main--chat__footer--input__smile\"/>\r\n                    </div>\r\n                </div>\r\n                { userOpt }\r\n                { addItm }\r\n                { emojiCnt }\r\n            </div>\r\n        </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Footer); ","import React, { Component } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport uuid from 'uuid';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport './Snapshot.css';\r\nimport { socket, getImageURL } from '../../shared/utility';\r\nimport Loader from '../../Loader/Loader';\r\nimport axios from '../../axios';\r\n\r\nlet videoRef = React.createRef(null);\r\nclass Snapshot extends Component {\r\n    state = {\r\n        start: false,\r\n        err: null,\r\n        id: this.props.match.params.id,\r\n        editChat: this.props.editChat\r\n    };\r\n\r\n    componentDidMount() {\r\n        if (!('mediaDevices' in navigator)) {\r\n            navigator.mediaDevices = {};\r\n        }\r\n        let these = this;\r\n        if (!('getUserMedia' in navigator.mediaDevices)) {\r\n            navigator.mediaDevices.getUserMedia = function(constraints) {\r\n            var getUserMedia = navigator.webkitGetUserMedia || navigator.mozGetUserMedia;\r\n        \r\n            if (!getUserMedia) {\r\n                return these.setState({err: 'getUserMedia is not implemented!'});\r\n            }\r\n        \r\n            return new Promise(function(resolve, reject) {\r\n                getUserMedia.call(navigator, constraints, resolve, reject);\r\n            });\r\n            }\r\n        }\r\n    \r\n        navigator.mediaDevices.getUserMedia({video: true})\r\n            .then(function(stream) {\r\n                videoRef.current.srcObject= stream;\r\n                these.setState({start: true})\r\n            })\r\n            .catch(function(err) {\r\n                these.setState({err, start: false})\r\n            });\r\n    }\r\n\r\n     componenetDidUpdate() {\r\n        if (JSON.stringify(this.state.editChat) !== JSON.stringify(this.props.editChat)) {\r\n            this.setState({editChat: this.props.editChat})\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (videoRef && videoRef.current && videoRef.current.srcObject) {\r\n            videoRef.current.srcObject.getVideoTracks().forEach(function(track) {\r\n                track.stop();\r\n            });\r\n        }\r\n    }\r\n\r\n    stopRecHandler = () => {\r\n        if (videoRef && videoRef.current) {\r\n            getImageURL(videoRef.current).then(imageData => {\r\n                videoRef.current.srcObject.getVideoTracks().forEach(function(track) {\r\n                    track.stop();\r\n                });\r\n                if (this.state.editChat) {\r\n                    this.uploadMedia([{file: imageData, type: 'image', format: 'png', chatID: {mainID: this.state.editChat.mainID, chatID: this.state.editChat.chatID}}])\r\n                } else {\r\n                    this.uploadMedia([{file: imageData, type: 'image', format: 'png',chatID: uuid()}])\r\n                }\r\n                this.props.closeMedia()\r\n            }).catch(err => {\r\n                this.setState({err})\r\n            })\r\n        }\r\n    }\r\n\r\n    closeRecHandler = () => {\r\n        if (videoRef && videoRef.current && videoRef.current.srcObject) {\r\n            videoRef.current.srcObject.getVideoTracks().forEach(function(track) {\r\n                track.stop();\r\n            });\r\n        }\r\n        this.props.closeMedia()\r\n    }\r\n\r\n    uploadMedia = (cnt) => {\r\n        let these = this;\r\n         for (let media of cnt) {\r\n            let type = media.type === 'media' ?  'video' : media.type;\r\n            this.props.uploadMediaStart({chatID: media.chatID, type, percentage: 0})\r\n        }\r\n\r\n        submit(cnt, 0);\r\n\r\n        function submit(media, index) {\r\n            let formContent = new FormData();\r\n            let ext = media[index].file.type.split('/').pop();\r\n            formContent.append('media', media[index].file, `${media[index].chatID}.${ext.split(';')[0]}`);\r\n            formContent.append('type', media[index].type === 'video' ? 'media' : media[index].type);\r\n            formContent.append('format', media[index].format);\r\n            formContent.append('chatID', JSON.stringify(media[index].chatID));\r\n            formContent.append('id', these.state.id);\r\n            axios.post(`/aroundme`, formContent, {\r\n                headers: {'data-categ': 'uploadmedia'},\r\n                onUploadProgress: function (progressEvent) {\r\n                    if (progressEvent.lengthComputable) {\r\n                        const percentage = Math.round((progressEvent.loaded * 100) / progressEvent.total);\r\n                        let type = media[index].type === 'media' ?  'video' : media[index].type;\r\n                        these.props.uploadMediaStart({chatID: media[index].chatID, type , percentage})\r\n                    }\r\n                }  \r\n            }).then((res) => {\r\n                socket.emit('pvtMediaRecChat', res.data, (err) => {\r\n                    these.setState({err})\r\n                })\r\n                ++index;\r\n                these.props.mediaUploaded();\r\n                if (index < media.length) {\r\n                    submit(media, index)\r\n                } \r\n            }).catch((err) => {\r\n                ++index;\r\n                these.props.mediaUploaded();\r\n                these.setState({err})\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let cnt = <Loader \r\n            bg/>\r\n\r\n        if (this.state.start) {\r\n            cnt = null\r\n        }\r\n\r\n       return(\r\n           <div className=\"site-main__chat--cam\">\r\n               {this.state.err ? <div className=\"site-main__chat--err\">{this.state.err.message ? this.state.err.message : this.state.err.toString()}</div> : null }\r\n               <div className=\"site-main__chat--cam__wrapper\">\r\n                    {cnt }\r\n                    <video \r\n                        ref={videoRef}\r\n                        autoPlay\r\n                        className=\"site-main__chat--cam__video--wrapper\">\r\n                        <p>our browser doesn't support embedded videos</p>\r\n                    </video>\r\n                    <div className=\"site-main__chat--cam__opt\">\r\n                        <button \r\n                            onClick={this.stopRecHandler}\r\n                            className=\"site-main__chat--cam__opt--control\"\r\n                            disabled={!this.state.start}>\r\n                            <FontAwesomeIcon icon={['fas', 'camera']} className=\"icon icon__site-main--chat__footer--camera\"/>\r\n                        </button>\r\n                        <button \r\n                            onClick={this.closeRecHandler}\r\n                            className=\"site-main__chat--cam__close\">\r\n                            <FontAwesomeIcon icon={['fas', 'times']}/>\r\n                        </button>\r\n                    </div>\r\n               </div>\r\n           </div>\r\n       )\r\n    }\r\n}\r\n\r\nexport default withRouter(Snapshot); ","import React, { Component } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport uuid from 'uuid';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport './VideoRec.css';\r\nimport { socket, webCameraApi } from '../../shared/utility';\r\nimport Loader from '../../Loader/Loader';\r\nimport axios from '../../axios';\r\n\r\nlet videoRef = React.createRef(null);\r\nclass VideoCam extends Component {\r\n    state = {\r\n        start: false,\r\n        mediaRecorder: null,\r\n        id: this.props.match.params.id,\r\n        editChat: this.props.editChat,\r\n        err: null\r\n    };\r\n\r\n    componentDidMount() {\r\n        webCameraApi(socket, this.state.mediaRecorder, this.state.start, {video: true, audio: true}, \r\n            'video/mp4', 'mp4','media', 'pvtMediaRecChat').then(media => {\r\n        videoRef.current.srcObject = media.stream\r\n        this.setState({mediaRecorder: media.mediaRecorder, start: true})\r\n        }).catch(err => {\r\n            this.setState({start: false, err})\r\n        })\r\n    }\r\n\r\n    componenetDidUpdate() {\r\n        if (JSON.stringify(this.state.editChat) !== JSON.stringify(this.props.editChat)) {\r\n            this.setState({editChat: this.props.editChat})\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.state.mediaRecorder) {\r\n            this.state.mediaRecorder.stream.getTracks().forEach( track => \r\n                track.stop())\r\n        }\r\n    }\r\n\r\n    stopRecHandler = () => {\r\n        webCameraApi(socket, this.state.mediaRecorder, this.state.start, {video: true, audio: true}, \r\n            'video/mp4', 'mp4','media', 'pvtMediaRecChat').then(media => {\r\n            this.setState({mediaRecorder: null, start: false})\r\n            if (this.state.editChat) {\r\n                this.uploadMedia([{file: media[0].file, type: media[0].type, format: media[0].format, chatID: {mainID: this.state.editChat.mainID, chatID: this.state.editChat.chatID}}])\r\n            } else {\r\n                this.uploadMedia(media)\r\n            }\r\n            this.props.closeMedia()\r\n        }).catch(err => {\r\n            this.setState({start: false})\r\n        })\r\n    }\r\n\r\n\r\n    closeRecHandler = () => {\r\n        if (videoRef && videoRef.current && videoRef.current.srcObject) {\r\n            videoRef.current.srcObject.getVideoTracks().forEach(function(track) {\r\n                track.stop();\r\n            });\r\n        }\r\n        this.props.closeMedia()\r\n    }\r\n\r\n    uploadMedia = (cnt) => {\r\n        let these = this;\r\n         for (let media of cnt) {\r\n            let type = media.type === 'media' ?  'video' : media.type;\r\n            this.props.uploadMediaStart({chatID: media.chatID, type, percentage: 0})\r\n        }\r\n\r\n        submit(cnt, 0);\r\n\r\n        function submit(media, index) {\r\n            let formContent = new FormData();\r\n            let ext = media[index].file.type.split('/').pop();\r\n            formContent.append('media', media[index].file, `${media[index].chatID}.${ext.split(';')[0]}`);\r\n            formContent.append('type', media[index].type === 'video' ? 'media' : media[index].type);\r\n            formContent.append('format', media[index].format);\r\n            formContent.append('chatID', JSON.stringify(media[index].chatID));\r\n            formContent.append('id', these.state.id);\r\n            axios.post(`/aroundme`, formContent, {\r\n                headers: {'data-categ': 'uploadmedia'},\r\n                onUploadProgress: function (progressEvent) {\r\n                    if (progressEvent.lengthComputable) {\r\n                        const percentage = Math.round((progressEvent.loaded * 100) / progressEvent.total);\r\n                        let type = media[index].type === 'media' ?  'video' : media[index].type;\r\n                        these.props.uploadMediaStart({chatID: media[index].chatID, type , percentage})\r\n                    }\r\n                }  \r\n            }).then((res) => {\r\n                socket.emit('pvtMediaRecChat', res.data, (err) => {\r\n                    these.setState({err})\r\n                })\r\n                ++index;\r\n                these.props.mediaUploaded();\r\n                if (index < media.length) {\r\n                    submit(media, index)\r\n                } \r\n            }).catch((err) => {\r\n                ++index;\r\n                these.props.mediaUploaded();\r\n                these.setState({err})\r\n            });\r\n        }\r\n    }\r\n    render() {\r\n        let cnt = <Loader \r\n        bg/>\r\n\r\n        if (this.state.start) {\r\n            cnt = null\r\n        }\r\n\r\n        return(\r\n        <div className=\"site-main__chat--vidcam\">\r\n            {this.state.err ? <div className=\"site-main__chat--err\">{this.state.err.message ? this.state.err.message : this.state.err.toString()}</div> : null }\r\n            <div className=\"site-main__chat--vidcam__wrapper\">\r\n                {cnt }\r\n                <video \r\n                    ref={videoRef}\r\n                    autoPlay\r\n                    className=\"site-main__chat--vidcam__video--wrapper\">\r\n                    <p>our browser doesn't support embedded videos</p>\r\n                </video>\r\n                <div className=\"site-main__chat--vidcam__opt\">\r\n                    <button \r\n                        onClick={this.stopRecHandler}\r\n                        className=\"site-main__chat--vidcam__opt--control\"\r\n                        disabled={!this.state.start}>\r\n                        <FontAwesomeIcon icon={['fas', 'video']} className=\"icon icon__site-main--chat__footer--camera\"/>\r\n                    </button>\r\n                    <button \r\n                        onClick={this.closeRecHandler}\r\n                        className=\"site-main__chat--vidcam__opt--close\">\r\n                        <FontAwesomeIcon icon={['fas', 'times']}/>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default withRouter(VideoCam); ","import React, { Component } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { withRouter} from 'react-router-dom'\r\n\r\nimport './Chat.css';\r\nimport './Main.css';\r\nimport { socket } from './shared/utility';\r\nimport Loader from './Loader/Loader';\r\nimport axios from './axios';\r\nimport ChatBox from './ChatBox/ChatBox';\r\nimport Footer from './Footer/Footer';\r\nimport Snapshot from './Footer/Snapshot/Snapshot'\r\nimport VideoRec from './Footer/VideoRec/VideoRec'\r\n// import Auth from './Auth/Auth';\r\n\r\nclass Chat extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        let expiresIn =  document.cookie.replace(/(?:(?:^|.*;\\s*)expiresIn\\s*\\=\\s*([^;]*).*$)|^.*$/, \"$1\");\r\n        let auth = false;\r\n        if (expiresIn && (new Date(new Date(expiresIn*1000).getTime()) >= new Date().getTime())) {\r\n            auth = true;\r\n        } else {\r\n            auth= false\r\n        }\r\n        this.state = {\r\n            userDet: null,\r\n            id: this.props.match.params.id,\r\n            userID: document.cookie.replace(/(?:(?:^|.*;\\s*)id\\s*\\=\\s*([^;]*).*$)|^.*$/, \"$1\"),\r\n            showBackdrop: false,\r\n            closeContent: false,\r\n            createChat: null,\r\n            addChat: null,\r\n            uploadMedia: null,\r\n            chatSelected: null,\r\n            editChat: null,\r\n            defaultTemp: false,\r\n            snapshot: false,\r\n            removeSelected: false,\r\n            removeChat: null,\r\n            disable: false,\r\n            connect: false,\r\n            auth,\r\n            err: null\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        let these = this;\r\n        // axios.post('/aroundme', {id: this.state.id}, {headers: {\r\n        //     'data-categ': 'userDet'}}).then(res => {\r\n        //         this.setState({userDet: res.data})\r\n        // }).catch(err => {\r\n        //     this.setState({err})\r\n        // })\r\n        socket.on('connect', function(msg) {\r\n            socket.emit('join',{room: these.state.id, host: these.state.userID, public: true}, function(err) {\r\n                these.setState({err})\r\n            });\r\n            these.setState({connect: true})\r\n        });\r\n        socket.on('disconnect', function(){\r\n            these.setState({connect: false})\r\n        })\r\n        if (!socket.disconnected) {\r\n            these.setState({connect: true})\r\n        }\r\n    }\r\n\r\n    userAuthHandler = () => {\r\n        this.setState({auth: true})\r\n    }\r\n\r\n    closeAroundmeHandler = () => {\r\n        this.props.history.push('/aroundme')\r\n    }\r\n\r\n    showBackdropHandler = (isShow) => {\r\n        this.setState({showBackdrop: isShow, closeContent: false})\r\n    }\r\n\r\n    closeBackdropHandler = () => {\r\n        this.setState({closeContent: true, showBackdrop: false})\r\n    }\r\n\r\n    createChatStartHandler = (cnt) => {\r\n        this.setState({createChat: cnt})\r\n    }\r\n\r\n    addNewChatHandler = (cnt) => {\r\n        this.setState({addChat: cnt, editChat: null})\r\n    }\r\n\r\n    uploadMediaStartHandler = (cnt) => {\r\n        this.setState({uploadMedia: cnt, defaultTemp: false})\r\n    }\r\n\r\n    mediaUploadedHandler = () => {\r\n        this.setState({defaultTemp: true, editChat: null})\r\n    }\r\n\r\n    snapshotHandler = () =>  {\r\n        this.setState({snapshot: true})\r\n    }\r\n\r\n    videoRecHandler = () => {\r\n        this.setState({videoRec: true})\r\n    }\r\n\r\n    holdChatHandler = (cnt) => {\r\n        this.setState({chatSelected: cnt, removeSelected: false, editChat: null})\r\n    }\r\n\r\n    editChatHandler = () => {\r\n        this.setState({editChat: this.state.chatSelected[0], chatSelected: []});\r\n    }\r\n\r\n    deleteChatHandler= () => {\r\n        let these = this;\r\n        this.setState({disable: true})\r\n        axios.post('/aroundme', \r\n            {cnt: this.state.chatSelected, id: this.state.id}, {headers: {\r\n                'data-categ': 'pvtDeleteChat'}}).then(cnt=> {\r\n            socket.emit('pvtDeleteChat', cnt.data, function(err) {\r\n                these.setState({err})\r\n            })\r\n            these.setState({removeChat: cnt.data, chatSelected: null, editChat: null, disable: false})\r\n        }).catch(err =>{\r\n            these.setState({err})\r\n        })\r\n    }\r\n\r\n    closeSelectedHandler = () => {\r\n        this.setState({removeSelected: true, chatSelected: null})\r\n    }\r\n\r\n    closeMediaHandler = () => {\r\n        this.setState({snapshot: false, videoRec: false, closeContent: true, showBackdrop: false})\r\n    }\r\n\r\n    render() {\r\n        let cnt = (\r\n            <Loader />\r\n        )\r\n        let chatOpt = null;\r\n        let deleteClass = ['site-main__chat--opt__del'];\r\n\r\n\r\n        if (this.state.disable) {\r\n            deleteClass.push('site-main__chat--opt__del--disable')\r\n        }\r\n\r\n        if (this.state.chatSelected && this.state.chatSelected.length > 0) {\r\n            chatOpt = (\r\n                <div className=\"site-main__chat--opt__wrapper\">\r\n                    <div \r\n                        className=\"site-main__chat--opt__close\"\r\n                        onClick={this.closeSelectedHandler}>\r\n                        <FontAwesomeIcon  icon={['fas', 'times']} className=\"icon icon__site-main--chat__close\"/>\r\n                    </div>\r\n                    <ul className=\"site-main__chat--opt\">\r\n                        <li \r\n                            onClick={!this.state.disable ? this.deleteChatHandler: null}\r\n                            className={deleteClass.join(' ')}><FontAwesomeIcon  icon={['far', 'trash-alt']} className=\"icon icon__site-main--chat__header--opt\"/></li>\r\n                        {this.state.chatSelected.length < 2 && this.state.chatSelected[0].edit ?\r\n                            <li \r\n                                onClick={!this.state.disable && this.state.chatSelected[0].edit ? this.editChatHandler : null}\r\n                                className=\"site-main__chat--opt__edit\"><FontAwesomeIcon  icon={['far', 'edit']} className=\"icon icon__site-main--chat__header--opt\"/></li> : null}\r\n                    </ul>\r\n                    <div className=\"site-main__chat--opt__total\">\r\n                        { this.state.chatSelected.length }\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        let status = <div className=\"site-main__chat--header__status\"></div>\r\n\r\n        if (this.state.connect) {\r\n            status = (\r\n                <div className=\"site-main__chat--header__status site-main__chat--header__status-on\"></div>\r\n            )\r\n        }\r\n\r\n        cnt = (\r\n            <div className=\"site-main__chat\">\r\n                { this.state.showBackdrop ? <div \r\n                    className=\"site-main__chat--overlay\"\r\n                    onClick={this.closeBackdropHandler}></div> : null}\r\n                <div className=\"site-main__chat--main\">\r\n                    <div className=\"site-main__chat--main__wrapper\">\r\n                        {this.state.err ? <div className=\"site-main__chat--err\">{this.state.err.message ? this.state.err.message : this.state.err.toString()}</div> : null }\r\n                        <div className=\"site-main__chat--header\">\r\n                            {/* <div className=\"site-main__chat--header__wrapper\">\r\n                                { header }  \r\n                            </div> */}\r\n                            { status }\r\n                        </div>\r\n                        { chatOpt }\r\n                            <ChatBox \r\n                            createChat={this.state.createChat}\r\n                            addChat={this.state.addChat}\r\n                            uploadMedia={this.state.uploadMedia}\r\n                            defaultTemp={this.state.defaultTemp}\r\n                            holdChat={this.holdChatHandler}\r\n                            removeSelected={this.state.removeSelected}\r\n                            editChat={this.state.editChat}\r\n                            removeChat={this.state.removeChat}/>\r\n                        <Footer \r\n                            showBackdrop={this.showBackdropHandler}\r\n                            closeContent={this.state.closeContent}\r\n                            createChatStart={this.createChatStartHandler}\r\n                            addNewChat={this.addNewChatHandler}\r\n                            connect={this.state.connect}\r\n                            uploadMediaStart={this.uploadMediaStartHandler}\r\n                            mediaUploaded={this.mediaUploadedHandler}\r\n                            snapshot={this.snapshotHandler}\r\n                            videoRec={this.videoRecHandler}\r\n                            editChat={this.state.editChat}/>\r\n                        { this.state.snapshot ? <Snapshot \r\n                            closeMedia={this.closeMediaHandler}\r\n                            uploadMediaStart={this.uploadMediaStartHandler}\r\n                            mediaUploaded={this.mediaUploadedHandler}\r\n                            editChat={this.state.editChat}/> : null}\r\n                        { this.state.videoRec ? <VideoRec \r\n                            closeMedia={this.closeMediaHandler}\r\n                            uploadMediaStart={this.uploadMediaStartHandler}\r\n                            mediaUploaded={this.mediaUploadedHandler}\r\n                            editChat={this.state.editChat}/> : null}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n\r\n        if (!this.state.auth) {\r\n            // cnt = (\r\n            //     <Auth \r\n            //         userAuth={this.userAuthHandler}/>\r\n            // )\r\n        }\r\n\r\n        return (\r\n             <div\r\n                className=\"reuse-mainchat\">\r\n                <div className=\"reuse-mainchat__main-wrapper\">\r\n                    <div className=\"reuse-mainchat__backdrop\"  onClick={this.closeAroundmeHandler}>\r\n                    </div>  \r\n                    <div className=\"reuse-mainchat__wrapper\">\r\n                        { cnt }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Chat);"],"sourceRoot":""}