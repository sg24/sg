(this.webpackJsonpgroup=this.webpackJsonpgroup||[]).push([[3],{663:function(e,t,r){e.exports=function(){"use strict";function e(e,t){if(e)for(var r in e)({}).hasOwnProperty.call(e,r)&&t(r,e[r])}var t={unstyled:"p","header-one":"h1","header-two":"h2","header-three":"h3","header-four":"h4","header-five":"h5","header-six":"h6","unordered-list-item":"ul","ordered-list-item":"ol",blockquote:"blockquote",code:"pre"};function r(e){return e&&t[e]}function a(t){var r="";return e(t,(function(e,t){t&&(r+="".concat(e,":").concat(t,";"))})),r}function n(e,t){var r={};return e.COLOR[t]&&(r.COLOR=e.COLOR[t]),e.BGCOLOR[t]&&(r.BGCOLOR=e.BGCOLOR[t]),e.FONTSIZE[t]&&(r.FONTSIZE=e.FONTSIZE[t]),e.FONTFAMILY[t]&&(r.FONTFAMILY=e.FONTFAMILY[t]),e.UNDERLINE[t]&&(r.UNDERLINE=!0),e.ITALIC[t]&&(r.ITALIC=!0),e.BOLD[t]&&(r.BOLD=!0),e.STRIKETHROUGH[t]&&(r.STRIKETHROUGH=!0),e.CODE[t]&&(r.CODE=!0),e.SUBSCRIPT[t]&&(r.SUBSCRIPT=!0),e.SUPERSCRIPT[t]&&(r.SUPERSCRIPT=!0),r}function s(e,t,r){var a=!0;return r>0&&r<e.length?t.forEach((function(t){a=a&&e[t][r]===e[t][r-1]})):a=!1,a}function c(e,t,r,a){var n=e[t];if("function"===typeof a){var s=a(n,r);if(s)return s}if("MENTION"===n.type)return'<a href="'.concat(n.data.url,'" class="wysiwyg-mention" data-mention data-value="').concat(n.data.value,'">').concat(r,"</a>");if("LINK"===n.type){var c=n.data.targetOption||"_self";return'<a href="'.concat(n.data.url,'" target="').concat(c,'">').concat(r,"</a>")}if("IMAGE"===n.type){var i=n.data.alignment;return i&&i.length?'<div style="text-align:'.concat(i,';"><img src="').concat(n.data.src,'" alt="').concat(n.data.alt,'" style="height: ').concat(n.data.height,";width: ").concat(n.data.width,'"/></div>'):'<img src="'.concat(n.data.src,'" alt="').concat(n.data.alt,'" style="height: ').concat(n.data.height,";width: ").concat(n.data.width,'"/>')}return"EMBEDDED_LINK"===n.type?'<iframe width="'.concat(n.data.width,'" height="').concat(n.data.height,'" src="').concat(n.data.src,'" frameBorder="0"></iframe>'):r}function i(e,t,r,a){var c=[],i=Array.from(e.text);if(i.length>0)for(var o,u=function(e){var t=e.text,r=e.inlineStyleRanges,a={BOLD:new Array(t.length),ITALIC:new Array(t.length),UNDERLINE:new Array(t.length),STRIKETHROUGH:new Array(t.length),CODE:new Array(t.length),SUPERSCRIPT:new Array(t.length),SUBSCRIPT:new Array(t.length),COLOR:new Array(t.length),BGCOLOR:new Array(t.length),FONTSIZE:new Array(t.length),FONTFAMILY:new Array(t.length),length:t.length};return r&&r.length>0&&r.forEach((function(e){for(var t=e.offset,r=t+e.length,n=t;n<r;n+=1)0===e.style.indexOf("color-")?a.COLOR[n]=e.style.substring(6):0===e.style.indexOf("bgcolor-")?a.BGCOLOR[n]=e.style.substring(8):0===e.style.indexOf("fontsize-")?a.FONTSIZE[n]=e.style.substring(9):0===e.style.indexOf("fontfamily-")?a.FONTFAMILY[n]=e.style.substring(11):a[e.style]&&(a[e.style][n]=!0)})),a}(e),l=r;l<a;l+=1)l!==r&&s(u,t,l)?(o.text.push(i[l]),o.end=l+1):(o={styles:n(u,l),text:[i[l]],start:l,end:l+1},c.push(o));return c}function o(t,r){var a=i(t,["BOLD","ITALIC","UNDERLINE","STRIKETHROUGH","CODE","SUPERSCRIPT","SUBSCRIPT"],r.start,r.end),n="";return a.forEach((function(t){n+=function(t){var r=t.styles,a=function(e){return e&&e.length>0?e.map((function(e){switch(e){case"\n":return"<br>";case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";default:return e}})).join(""):""}(t.text);return e(r,(function(e,t){a=function(e,t){return"BOLD"===e?"<strong>".concat(t,"</strong>"):"ITALIC"===e?"<em>".concat(t,"</em>"):"UNDERLINE"===e?"<ins>".concat(t,"</ins>"):"STRIKETHROUGH"===e?"<del>".concat(t,"</del>"):"CODE"===e?"<code>".concat(t,"</code>"):"SUPERSCRIPT"===e?"<sup>".concat(t,"</sup>"):"SUBSCRIPT"===e?"<sub>".concat(t,"</sub>"):t}(e,a)})),a}(t)})),n=function(e,t){if(e&&(e.COLOR||e.BGCOLOR||e.FONTSIZE||e.FONTFAMILY)){var r='style="';return e.COLOR&&(r+="color: ".concat(e.COLOR,";")),e.BGCOLOR&&(r+="background-color: ".concat(e.BGCOLOR,";")),e.FONTSIZE&&(r+="font-size: ".concat(e.FONTSIZE).concat(/^\d+$/.test(e.FONTSIZE)?"px":"",";")),e.FONTFAMILY&&(r+="font-family: ".concat(e.FONTFAMILY,";")),"<span ".concat(r+='"',">").concat(t,"</span>")}return t}(r.styles,n)}function u(e,t,r,a){var n=[],s=function(e,t){var r=[],a=0,n=e.entityRanges.map((function(e){return{offset:e.offset,length:e.length,key:e.key,type:"ENTITY"}}));return(n=(n=n.concat(function(e,t){var r=[];if(t)for(var a=0,n=0,s=e,c=t.trigger||"#",i=t.separator||" ";s.length>0&&n>=0;)if(s[0]===c?(n=0,a=0,s=s.substr(c.length)):(n=s.indexOf(i+c))>=0&&(s=s.substr(n+(i+c).length),a+=n+i.length),n>=0){var o=s.indexOf(i)>=0?s.indexOf(i):s.length,u=s.substr(0,o);u&&u.length>0&&r.push({offset:a,length:u.length+c.length,type:"HASHTAG"}),a+=c.length}return r}(e.text,t))).sort((function(e,t){return e.offset-t.offset}))).forEach((function(e){e.offset>a&&r.push({start:a,end:e.offset}),r.push({start:e.offset,end:e.offset+e.length,entityKey:e.key,type:e.type}),a=e.offset+e.length})),a<e.text.length&&r.push({start:a,end:e.text.length}),r}(e,r);return s.forEach((function(r,u){var l=function(e,t,r,a){var n=[];i(e,["COLOR","BGCOLOR","FONTSIZE","FONTFAMILY"],r.start,r.end).forEach((function(t){n.push(o(e,t))}));var s=n.join("");return"ENTITY"===r.type?void 0!==r.entityKey&&null!==r.entityKey&&(s=c(t,r.entityKey,s,a)):"HASHTAG"===r.type&&(s='<a href="'.concat(s,'" class="wysiwyg-hashtag">').concat(s,"</a>")),s}(e,t,r,a);0===u&&(l=function(e){if(e){for(var t=e,r=0;r<t.length&&" "===e[r];r+=1)t=t.replace(" ","&nbsp;");return t}return e}(l)),u===s.length-1&&(l=function(e){if(e){for(var t=e,r=t.length-1;r>=0&&" "===t[r];r-=1)t="".concat(t.substring(0,r),"&nbsp;").concat(t.substring(r+1));return t}return e}(l)),n.push(l)})),n.join("")}function l(e,t,n,s,c){var i,o=[],p=[];return e.forEach((function(e){var h=!1;if(i?i.type!==e.type?(o.push("</".concat(r(i.type),">\n")),o.push("<".concat(r(e.type),">\n"))):i.depth===e.depth?p&&p.length>0&&(o.push(l(p,t,n,s,c)),p=[]):(h=!0,p.push(e)):o.push("<".concat(r(e.type),">\n")),!h){o.push("<li");var f=a(e.data);f&&o.push(' style="'.concat(f,'"')),s&&o.push(' dir = "auto"'),o.push(">"),o.push(u(e,t,n,c)),o.push("</li>\n"),i=e}})),p&&p.length>0&&o.push(l(p,t,n,s,c)),o.push("</".concat(r(i.type),">\n")),o.join("")}return function(e,t,n,s){var i=[];if(e){var o=e.blocks,p=e.entityMap;if(o&&o.length>0){var h=[];if(o.forEach((function(e){if("unordered-list-item"===(d=e.type)||"ordered-list-item"===d)h.push(e);else{if(h.length>0){var o=l(h,p,t,s);i.push(o),h=[]}var f=function(e,t,n,s,i){var o=[];if(function(e){return e.entityRanges.length>0&&(void 0===(t=e.text)||null===t||0===t.length||0===t.trim().length||"atomic"===e.type);var t}(e))o.push(c(t,e.entityRanges[0].key,void 0,i));else{var l=r(e.type);if(l){o.push("<".concat(l));var p=a(e.data);p&&o.push(' style="'.concat(p,'"')),s&&o.push(' dir = "auto"'),o.push(">"),o.push(u(e,t,n,i)),o.push("</".concat(l,">"))}}return o.push("\n"),o.join("")}(e,p,t,n,s);i.push(f)}var d})),h.length>0){var f=l(h,p,t,n,s);i.push(f),h=[]}}}return i.join("")}}()},664:function(e,t,r){},665:function(e,t,r){},666:function(e,t,r){},667:function(e,t,r){},670:function(e,t,r){"use strict";r.r(t);var a=r(14),n=r(15),s=r(17),c=r(16),i=r(18),o=r(0),u=r.n(o),l=r(84),p=r(19),h=r(5),f=r(64),d=r(663),m=r.n(d),g=(r(664),r(665),r(3)),_=function(e){function t(){var e,r;Object(a.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(r=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).state={inputValue:""},r.filterContentHandler=function(e){r.setState({inputValue:e.target.value}),r.props.onFilterUser(r.props.users,e.target.value)},r}return Object(i.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){return u.a.createElement("input",{className:"reuse-share__tab--srch__input",placeholder:"search user....",autoFocus:!0,onChange:this.filterContentHandler,value:this.state.inputValue})}}]),t}(o.Component),v=Object(p.b)((function(e){return{users:e.share.users}}),(function(e){return{onFilterUser:function(t,r){return e(g.wb(t,r))}}}))(_),E=function(e){function t(){return Object(a.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){return u.a.createElement(v,null)}}]),t}(o.Component),O=(r(666),r(667),function(e){var t=["reuse-user__det--opt__acc"],r=["reuse-user__det--opt__rej"],a=!1,n=u.a.createElement("img",{src:e.userDet.image,alt:""}),s=u.a.createElement("li",null,u.a.createElement("div",null,e.userDet.studenttotal)," Friend"),c=u.a.createElement("div",{className:"reuse-user__det--img__status reuse-user__det--img__status--on"});if(e.disable&&e.disable.length>0){var i=!0,o=!1,l=void 0;try{for(var p,d=e.disable[Symbol.iterator]();!(i=(p=d.next()).done);i=!0){p.value===e.userDet._id&&(t.push("reuse-user__det--opt__acc--disable"),r.push("reuse-user__det--opt__acc--disable"),a=!0)}}catch(m){o=!0,l=m}finally{try{i||null==d.return||d.return()}finally{if(o)throw l}}}return e.userOpt&&(s="request"===e.curTab?u.a.createElement("div",{className:"reuse-user__det--opt"},u.a.createElement("button",{className:t.join(" "),onClick:e.accept,disabled:a},"Accept"),u.a.createElement("button",{className:r.join(" "),onClick:e.reject,disabled:a},"Reject")):u.a.createElement("div",{className:"reuse-user__det--opt"},u.a.createElement("button",{className:"reuse-user__det--opt__blk",onClick:e.remove},u.a.createElement(h.a,{icon:["fas","times"],className:"icon icon__reuse-user--det__opt"}),"Remove"))),e.userDet.status||(c=u.a.createElement("div",{className:"reuse-user__det--img__status reuse-user__det--img__status--off"})),e.userDet.username&&!e.userDet.image&&(n=u.a.createElement(f.a,{name:e.userDet.username,size:"60",round:!0})),u.a.createElement("div",{className:"reuse-user",onClick:e.selected},u.a.createElement("div",{className:["reuse-user__det"].join(" ")},u.a.createElement("div",{className:"reuse-user__det--img"},n,c),u.a.createElement("ul",{className:"reuse-user__det--user"},u.a.createElement("li",{className:"reuse-user__det--user__info"},u.a.createElement("a",{href:"/user/profile/"+e.userDet._id},e.userDet.username)),s)))}),b=function(e){return e.content.map((function(t,r){return u.a.createElement(O,{key:r,userDet:t,id:t._id,userOpt:e.userOpt,curTab:e.curTab,disable:e.disable,accept:e.changeCnt.bind(void 0,t._id,"accept",t.username,!0),reject:e.changeCnt.bind(void 0,t._id,"reject",t.username,!1),remove:e.changeCnt.bind(void 0,t._id,"remove",t.username,!1)})}))},I=r(37),y=function(e){function t(){var e,r;Object(a.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(r=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).state={users:[]},r.changeCntHandler=function(e,t,a,n){r.props.onChangeCnt(r.props.grpInfo._id,e,t,a,r.props.curTab,n)},r}return Object(i.a)(t,e),Object(n.a)(t,[{key:"componentDidUpdate",value:function(){this.props.filterUser&&JSON.stringify(this.state.users)!==JSON.stringify(this.props.filterUser)&&this.setState({users:this.props.filterUser}),this.props.filterUser||JSON.stringify(this.state.users)===JSON.stringify(this.props.users)||this.setState({users:this.props.users})}},{key:"render",value:function(){var e=u.a.createElement(I.a,null);return this.state.users&&(e=u.a.createElement(b,{content:this.state.users,userOpt:this.props.userOpt,curTab:this.props.curTab,changeCnt:this.changeCntHandler,disable:this.props.disable})),u.a.createElement("div",{className:"reuse-share__all-users"},e)}}]),t}(o.Component),N=Object(p.b)((function(e){return{users:e.share.users,userOpt:e.share.userOpt,curTab:e.share.curTab,disable:e.share.disable,grpInfo:e.share.grpInfo,filterUser:e.share.filterUser}}),(function(e){return{onChangeCnt:function(t,r,a,n,s,c){return e(g.d(t,r,a,n,s,c))}}}))(y),T=r(211),C=function(e){function t(){var e,r;Object(a.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(r=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).state={showInput:!1,showNewTab:!1,curTab:"online"},r.closeShareHandler=function(){r.props.history.goBack()},r.showSearchInputHandler=function(){r.setState((function(e,t){return{showInput:!e.showInput}})),r.props.onResetInputFilter()},r.changeTabHandler=function(e){var t=null;t="online"===e?e:t,t="offline"===e?e:t,t="request"===e?e:t,r.setState({curTab:t,showNewTab:!0})},r}return Object(i.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(this.props.cnts){var t=this.props.cnts.filter((function(t){return t._id===e.props.shareID}));t&&t.length>0&&(this.props.onFetchInfo(this.props.shareID,this.state.curTab),this.props.onSetGrpInfo(t[0]))}}},{key:"componentWillUnmount",value:function(){this.props.onDefaultShareProps()}},{key:"componentDidUpdate",value:function(){this.state.showNewTab&&(this.props.onFetchInfo(this.props.shareID,this.state.curTab),this.setState({showNewTab:!1}))}},{key:"render",value:function(){var e=null,t=null,r=["reuse-share__tab--srch__icn"],a=null,n=null,s=u.a.createElement("div",{className:"reuse-prf__grp--img__status reuse-prf__grp--img__status--off"});this.state.showInput&&(r.push("reuse-share__tab--srch__icn--hidden"),e=u.a.createElement("div",{className:"reuse-share__tab--srch__wrapper"},u.a.createElement("div",{className:"reuse-share__tab--srch__close",onClick:this.showSearchInputHandler},u.a.createElement(h.a,{icon:["fas","times"]})),u.a.createElement("div",{className:"reuse-share__tab--srch__input-wrapper"},u.a.createElement(E,null))));var c=u.a.createElement("div",{className:"reuse-share__wrapper"},u.a.createElement(I.a,null));if(this.props.grpInfo&&!this.props.grpInfo.userImage&&(a=u.a.createElement(f.a,{name:this.props.grpInfo.username,size:"30",round:!0})),this.props.grpInfo&&this.props.grpInfo.userImage&&(a=u.a.createElement("img",{src:this.props.grpInfo.userImage,alt:""})),this.props.grpInfo&&!this.props.grpInfo.image.length&&(n=u.a.createElement(f.a,{name:this.props.grpInfo.title,size:"100"})),this.props.grpInfo&&this.props.grpInfo.image.length>0&&(n=u.a.createElement("img",{src:"".concat(window.location.protocol+"//"+window.location.host,"/media/image/").concat(this.props.grpInfo.image[0].id),alt:"group"})),this.props.grpInfo){var i=JSON.parse(this.props.grpInfo.desc),o=m()(i,{trigger:"#",separator:" "},!0);this.props.grpInfo.status&&(s=u.a.createElement("div",{className:"reuse-prf__grp--img__status reuse-prf__grp--img__status--on"})),this.props.grpInfo.userOpt&&(t=u.a.createElement("li",{className:"request"===this.state.curTab?"active-grp-content-tab":null,onClick:this.changeTabHandler.bind(this,"request")},"Request",this.props.requestTotal>0?u.a.createElement("span",null,this.props.requestTotal):null,"request"===this.state.curTab?u.a.createElement("div",{className:"active-grp-content-tab__active"}):null)),c=u.a.createElement("div",{className:"reuse-share__wrapper"},u.a.createElement("div",{className:"reuse-prf"},u.a.createElement("div",{className:"reuse-prf__grp"},u.a.createElement("div",{className:"reuse-prf__grp--img"},u.a.createElement("div",{className:"reuse-prf__grp--img__wrapper"},n,this.props.grpInfo.userOpt?u.a.createElement("div",null,u.a.createElement("a",{href:"/edit/group/".concat(this.props.grpInfo._id)},u.a.createElement(h.a,{icon:["fas","edit"]}))):null)),u.a.createElement("div",{className:"reuse-prf__grp--det"},u.a.createElement("div",{className:"reuse-prf__grp--det__name"},this.props.grpInfo.title),u.a.createElement("div",{className:"reuse-prf__grp--det__admin"},u.a.createElement("div",{className:"reuse-prf__grp--det__admin--title"},u.a.createElement(h.a,{icon:["fas","cogs"],className:"icon icon__reuse-prf__grp--admin"}),"Admin"),u.a.createElement("div",{className:"reuse-prf__grp--det__admin--info"},u.a.createElement("div",{className:"reuse-prf__grp--det__admin--info-wrapper"},u.a.createElement("div",null,a,s),u.a.createElement("ul",null,u.a.createElement("li",null,u.a.createElement("a",{href:"/user/profile/".concat(this.props.grpInfo.authorID)},this.props.grpInfo.username," ")),u.a.createElement("li",null,u.a.createElement("span",null,this.props.grpInfo.studenttotal)," Friend")))))))),u.a.createElement("p",{className:"reuse-share__desc",dangerouslySetInnerHTML:{__html:o}}),u.a.createElement("div",{className:"reuse-share__tab"},u.a.createElement("ul",{className:"reuse-share__tab--cnt"},u.a.createElement("li",{className:"online"===this.state.curTab?"active-grp-content-tab":null,onClick:this.changeTabHandler.bind(this,"online")},"online"===this.state.curTab?u.a.createElement("div",{className:"active-grp-content-tab__active"}):null,"Online"),u.a.createElement("li",{className:"offline"===this.state.curTab?"reuse-share__tab--cnt__offline active-grp-content-tab":"reuse-share__tab--cnt__offline",onClick:this.changeTabHandler.bind(this,"offline")},"offline"===this.state.curTab?u.a.createElement("div",{className:"active-grp-content-tab__active"}):null,"Offline"),t),u.a.createElement("div",{className:"reuse-share__tab--srch"},u.a.createElement("div",{className:r.join(" "),onClick:this.showSearchInputHandler},u.a.createElement(h.a,{icon:["fas","search"],className:"icon icon__reuse-form--srch"})),e)),u.a.createElement(N,null))}this.props.grpErr&&(c=u.a.createElement(T.a,{err:this.props.grpErr}));var l=u.a.createElement("div",{className:"reuse-share"},u.a.createElement("div",{className:"reuse-share__main-wrapper"},u.a.createElement("div",{className:"reuse-share__backdrop",onClick:this.closeShareHandler}),c));return this.props.shareID&&this.props.cnts||(this.closeShareHandler(),l=null),l}}]),t}(o.Component);t.default=Object(l.f)(Object(p.b)((function(e){return{cnts:e.cnt.cnts,grpInfo:e.share.grpInfo,grpErr:e.share.grpErr,shareID:e.share.shareID,status:e.auth.status,requestTotal:e.share.requestTotal}}),(function(e){return{onDefaultShareProps:function(){return e(g.Sb())},onFetchInfo:function(t,r){return e(g.P(t,r))},onSetGrpInfo:function(t){return e(g.Qb(t))},onResetInputFilter:function(){return e(g.Ob())}}}))(C))}}]);
//# sourceMappingURL=3.2f9b920c.chunk.js.map