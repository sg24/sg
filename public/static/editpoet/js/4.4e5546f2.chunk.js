(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{800:function(e,a,t){"use strict";var i=t(0),r=t.n(i),n=t(5),s=function(e){var a=["reuse-form__itm--det__view-select--media__wrapper"],t=["reuse-form__itm--det__view-select--media__wrapper--close"],i=r.a.createElement("img",{src:e.link,alt:"post",className:"reuse-form__itm--det__view-select--media__wrapper--cnt"});return e.index===e.removeMediaItemIndex&&(a.push("reuse-form__itm--det__view-select--media__wrapper--active"),t.push("reuse-form__itm--det__view-select--media__wrapper--close__active")),"video"===e.mediaType&&(i=r.a.createElement("video",{src:e.link,controls:!0,className:"reuse-form__itm--det__view-select--media__wrapper--cnt"},r.a.createElement("p",null,"our browser doesn't support embedded videos"))),r.a.createElement("div",{className:"reuse-form__itm--det__view-select--media"},r.a.createElement("div",{className:a.join(" ")},i,r.a.createElement("div",{className:t.join(" "),onClick:e.removeMediaItem,onMouseEnter:e.removeMediaItemEnable,onMouseLeave:e.removeMediaItemDisable},r.a.createElement(n.a,{icon:["fas","times"],className:"icon icon__reuse-form--view-select__close"}))))};a.a=function(e){return e.media.map(function(a,t){return r.a.createElement(s,{key:t,link:a.url,index:t,mediaType:e.mediaType,removeMediaItem:e.removeMediaItem.bind(void 0,a.id),removeMediaItemEnable:e.removeMediaItemEnable.bind(void 0,t),removeMediaItemDisable:e.removeMediaItemDisable.bind(void 0,t),removeMediaItemIndex:e.removeMediaItemIndex})})}},806:function(e,a,t){"use strict";t.r(a);var i=t(112),r=t(67),n=t(27),s=t(28),l=t(30),m=t(29),d=t(320),o=t(31),c=t(0),u=t.n(c),p=t(35),_=t(5),f=t(6),v=t(7),h=t(800),b=function(e){function a(){var e,t;Object(n.a)(this,a);for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return(t=Object(l.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(o)))).state={inputValue:"",media:t.props.media.image?Object(r.a)(t.props.media.image):[],removeMediaItemIndex:null,snapshotErr:null},t.linkVerifyHandler=function(e){var a=e.target.value;t.setState({inputValue:a,snapshotErr:null}),t.props.onCheckLink(a)},t.addMediaHandler=function(){if(t.props.linkValid&&t.props.linkValid.media){var e=Object(r.a)(t.state.media);Object(v.c)(t.props.linkValid.media.url).then(function(a){e.push({file:a,url:t.props.linkValid.media.url}),t.setState({media:e,inputValue:""}),t.props.onResetLink()}).catch(function(a){var i=new FileReader,r=Object(d.a)(t);i.readAsDataURL(t.props.linkValid.media.file),i.addEventListener("loadend",function(){e.push({file:i.result,url:this.props.linkValid.media.url}),r.setState({media:e,inputValue:"",snapshotErr:a}),r.props.onResetLink()})})}},t.selectMediaHandler=function(e){if(t.setState({snapshotErr:null}),e.stopPropagation(),e.preventDefault(),e.target.files){var a=e.target.files;t.handleFiles(a)}},t.dragEnterMediaHandler=function(e){e.stopPropagation(),e.preventDefault()},t.dragOverMediaHandler=function(e){e.stopPropagation(),e.preventDefault()},t.dropMediaHandler=function(e){if(e.stopPropagation(),e.preventDefault(),e.dataTransfer){var a=e.dataTransfer.files;t.handleFiles(a)}},t.removeMediaItemEnableHandler=function(e){t.setState({removeMediaItemIndex:e})},t.removeMediaItemDisableHandler=function(){t.setState({removeMediaItemIndex:null})},t.removeMediaItemHandler=function(e){var a=Object(r.a)(t.state.media).filter(function(a,t){return t!==e});t.setState({media:a}),t.props.media.image&&t.props.media.image.length>0&&t.props.onRemoveMedia(Object(v.e)(t.props.media,{image:a}))},t.handleFiles=function(e){for(var a=Object(r.a)(t.state.media),i=function(i){var r=e[i];if(r.type.startsWith("image/")){var n=window.URL.createObjectURL(r);Object(v.c)(n).then(function(e){a.push({file:e,url:n}),t.setState({media:a})}).catch(function(e){var i=new FileReader,s=Object(d.a)(t);i.readAsDataURL(r),i.addEventListener("loadend",function(){a.push({file:i.result,url:n}),s.setState({media:a,snapshotErr:e})})})}},n=0;n<e.length;n++)i(n)},t.submitMediaHandler=function(){var e=Object(i.a)({},t.props.media);t.props.onSubmitMedia(Object(v.e)(e,{image:Object(r.a)(t.state.media)}))},t.closeMediaBoxHandler=function(){t.props.onhideMediaBox()},t}return Object(o.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=null,a=null;return this.props.linkValid&&(e=this.props.linkValid.media?u.a.createElement("img",{src:this.props.linkValid.media.url,alt:"post"}):u.a.createElement("div",{className:"reuse-form__err"},this.props.linkValid.err.message)),this.state.media.length>0&&(a=u.a.createElement("div",{className:"reuse-form__itm--det__view-select"},u.a.createElement(h.a,{media:this.state.media,mediaType:"image",removeMediaItemEnable:this.removeMediaItemEnableHandler,removeMediaItemDisable:this.removeMediaItemDisableHandler,removeMediaItemIndex:this.state.removeMediaItemIndex,removeMediaItem:this.removeMediaItemHandler}))),u.a.createElement("div",{className:"reuse-form__itm"},u.a.createElement("h4",{className:"reuse-form__itm--title"},u.a.createElement(_.a,{icon:["fas","images"],className:"icon icon__reuse-form--itm--title"}),"Add Image"),u.a.createElement("div",{className:"reuse-form__itm--det"},u.a.createElement("div",{className:"reuse-form__cnt"},u.a.createElement("label",{className:"reuse-form__cnt--title"},"Image Link"),u.a.createElement("div",{className:"reuse-form__cnt--det"},u.a.createElement("input",{type:"url",name:"",className:"reuse-form__cnt--det__input reuse-form__cnt--det__input--lg",placeholder:"paste link",onChange:this.linkVerifyHandler,value:this.state.inputValue,spellCheck:!1,pattern:"https://.*"}),u.a.createElement("button",{type:"button",onClick:this.addMediaHandler,disabled:!this.props.linkValid||null!==this.props.linkValid.err,className:"reuse-form__cnt--det__btn"},u.a.createElement(_.a,{icon:["fas","plus"]})))),u.a.createElement("div",{className:"reuse-form__itm--det__view"},e),u.a.createElement("div",{className:"reuse-form__itm--det__alt"},"OR"),u.a.createElement("div",{className:"reuse-form__cnt"},u.a.createElement("div",{className:"reuse-form__cnt--det"},u.a.createElement("div",{className:"reuse-form__cnt--det__fil"},"Drag and Drop Images",u.a.createElement("input",{type:"file",name:"",multiple:!0,className:"reuse-form__cnt--det__fil--input",onChange:this.selectMediaHandler,onDragEnter:this.dragEnterMediaHandler,onDragOver:this.dragOverMediaHandler,onDrop:this.dropMediaHandler,accept:"image/*"})))),this.state.snapshotErr?u.a.createElement("div",{className:"reuse-form__err"},"Some features are not available in your browser, ",this.state.snapshotErr):null,a),u.a.createElement("div",{className:"reuse-form__itm--footer reuse-form__btn"},u.a.createElement("button",{type:"button",className:"reuse-form__btn--close",onClick:this.closeMediaBoxHandler},"Exit"),u.a.createElement("button",{type:"button",className:"reuse-form__btn--add",onClick:this.submitMediaHandler,disabled:!this.state.media.length>0},"Add")))}}]),a}(c.Component);a.default=Object(p.b)(function(e){return{linkValid:e.form.linkValid,media:e.form.media}},function(e){return{onCheckLink:function(a){return e(f.j(a,"image"))},onResetLink:function(){return e(f.bb())},onRemoveMedia:function(a){return e(f.Y(a))},onSubmitMedia:function(a){return e(f.mb(a))},onhideMediaBox:function(){return e(f.W())}}})(b)}}]);
//# sourceMappingURL=4.4e5546f2.chunk.js.map