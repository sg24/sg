(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{739:function(e,t,a){},742:function(e,t,a){"use strict";a.r(t);var r=a(22),n=a(23),c=a(25),i=a(26),o=a(0),s=a.n(o),d=a(8),l=a(24),m=a(96),u=(a(739),a(4)),p=a(5),h=a(49),v=a(140),f=a(141),b=s.a.createRef(null),R=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={start:!1,mediaRecorder:null,id:e.props.match.params.id,categ:e.props.match.params.categ,err:null},e.stopRecHandler=function(){Object(u.i)(u.f,e.state.mediaRecorder,e.state.start,{video:!0,audio:!0},"video/mp4","mp4","media","pvtMediaRecChat").then(function(t){e.setState({mediaRecorder:null,start:!1}),e.props.onUploadMedia(t,e.state.id,e.state.categ),e.props.history.goBack()}).catch(function(t){e.setState({start:!1})})},e}return Object(n.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object(u.i)(u.f,this.state.mediaRecorder,this.state.start,{video:!0,audio:!0},"video/mp4","mp4","media","pvtMediaRecChat").then(function(t){b.current.srcObject=t.stream,e.setState({mediaRecorder:t.mediaRecorder,start:!0})}).catch(function(t){e.setState({start:!1,err:t})})}},{key:"componentWillUnmount",value:function(){this.state.mediaRecorder&&this.state.mediaRecorder.stream.getTracks().forEach(function(e){return e.stop()})}},{key:"render",value:function(){var e=s.a.createElement(h.a,{bg:!0}),t=null;return this.state.start&&(e=null),this.state.err&&(t=s.a.createElement(v.a,{component:f.a,close:this.closeModelBackdropHandler,err:this.state.err,media:!0})),s.a.createElement("div",{className:"site-main__chat--vidcam"},t,s.a.createElement("div",{className:"site-main__chat--vidcam__wrapper"},e,s.a.createElement("video",{ref:b,autoPlay:!0,className:"site-main__chat--vidcam__video--wrapper"},s.a.createElement("p",null,"our browser doesn't support embedded videos")),s.a.createElement("button",{onClick:this.stopRecHandler,className:"site-main__chat--vidcam__control",disabled:!this.state.start},s.a.createElement(d.a,{icon:["fas","video"]}))))}}]),a}(o.Component);t.default=Object(m.e)(Object(l.b)(function(e){return{vidRecBackdrop:e.cnt.vidRecBackdrop}},function(e){return{onTypingErr:function(t){return e(p.O(t))},onUploadMedia:function(t,a,r){return e(p.cc(t,a,r))}}})(R))}}]);
//# sourceMappingURL=7.82709612.chunk.js.map